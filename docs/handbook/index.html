
<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Handbook | TestFlows Open-Source Software Testing Framework</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link href="/img/favicon.ico" rel="icon">
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/bootstrap/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css?v=1630943724212" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/firefly.css?v=1630943724212" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/fontawesome/css/all.css?v=1.0" type="text/css">
  <link rel="stylesheet" href="/css/style.css?v=1630943724212" media="screen" type="text/css">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <nav id="main-nav" class="fixed-top navbar navbar-expand-md navbar-fixed-top" role="navigation">
    <a class="navbar-brand" href="/">
        <img src="/img/logo.png" alt="TestFlows">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon fas fa-2x fa-bars"></span>
    </button>
    <div class="collapse navbar-collapse nav-menu" id="navbarNav">
        <ul class="nav navbar-nav">
            
                <li class="nav-item">
                    <a class="nav-link" href="/handbook"><i class="fas fa-book pr-2"></i>Handbook</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/blog"><i class="fas fa-blog pr-2"></i>Blog</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/about.html"><i class="fas fa-info-circle pr-2"></i>About</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/contact.html"><i class="fas fa-envelope-open-text pr-2"></i>Contact</a>
                </li>
            
        </ul>
    </div>
</nav>
<div class="clearfix"></div>

  <div class="container-fluid p-0">
    <div class="content">
      <div class="page container-fluid text-center p-0" style="padding-bottom: 2em !important">
    <div class="banner in-view-watcher">
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <h1>Handbook</h1>
        <h2>Your handbook for using the framework</h2>
        <i class="fa-5x pt-3 fas fa-book pt-5 pb-5"></i>
    </div>
</div>
<div class="handbook">
    <div class="container" style="padding-bottom: 2em !important;">
        <div class="post">
            <div class="post-body row">
                <nav id="sidebar" class="col-md-3 sidebar">
                    <div id="Contents" class="sidebar-header pt-4">
                        <h3 class="d-none d-md-block">Contents</h3>
                        <h2 class="d-block d-md-none">Contents</h2>
                    </div>
                    <div>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                
                                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-it"><span class="toc-number">1.</span> <span class="toc-text">What is it?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Handbook"><span class="toc-number">2.</span> <span class="toc-text">Using Handbook</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Supported-Environment"><span class="toc-number">3.</span> <span class="toc-text">Supported Environment</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Installation"><span class="toc-number">4.</span> <span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">5.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Defining-Tests"><span class="toc-number">6.</span> <span class="toc-text">Defining Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline"><span class="toc-number">6.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated"><span class="toc-number">6.2.</span> <span class="toc-text">Decorated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calling-Decorated-Tests"><span class="toc-number">6.3.</span> <span class="toc-text">Calling Decorated Tests</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Running-Tests"><span class="toc-number">7.</span> <span class="toc-text">Running Tests</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Top-Level-Test"><span class="toc-number">8.</span> <span class="toc-text">Top Level Test</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Program-Options"><span class="toc-number">9.</span> <span class="toc-text">Test Program Options</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Options"><span class="toc-number">9.1.</span> <span class="toc-text">Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#h-%E2%80%93help"><span class="toc-number">9.1.1.</span> <span class="toc-text">-h, –help</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#l-%E2%80%93log"><span class="toc-number">9.1.2.</span> <span class="toc-text">-l, –log</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93name"><span class="toc-number">9.1.3.</span> <span class="toc-text">–name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93tag"><span class="toc-number">9.1.4.</span> <span class="toc-text">–tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93attr"><span class="toc-number">9.1.5.</span> <span class="toc-text">–attr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filtering"><span class="toc-number">9.1.6.</span> <span class="toc-text">Filtering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pattern"><span class="toc-number">9.1.6.1.</span> <span class="toc-text">pattern</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93only"><span class="toc-number">9.1.6.2.</span> <span class="toc-text">–only</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93skip"><span class="toc-number">9.1.6.3.</span> <span class="toc-text">–skip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93start"><span class="toc-number">9.1.6.4.</span> <span class="toc-text">–start</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93end"><span class="toc-number">9.1.6.5.</span> <span class="toc-text">–end</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-before"><span class="toc-number">9.1.6.6.</span> <span class="toc-text">–pause-before</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-after"><span class="toc-number">9.1.6.7.</span> <span class="toc-text">–pause-after</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Output"><span class="toc-number">10.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Logs"><span class="toc-number">11.</span> <span class="toc-text">Logs</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Saving-Log"><span class="toc-number">11.1.</span> <span class="toc-text">Saving Log</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transformations"><span class="toc-number">11.2.</span> <span class="toc-text">Transformations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nice"><span class="toc-number">11.2.1.</span> <span class="toc-text">nice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#short"><span class="toc-number">11.2.2.</span> <span class="toc-text">short</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slick"><span class="toc-number">11.2.3.</span> <span class="toc-text">slick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dots"><span class="toc-number">11.2.4.</span> <span class="toc-text">dots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#raw"><span class="toc-number">11.2.5.</span> <span class="toc-text">raw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compact"><span class="toc-number">11.2.6.</span> <span class="toc-text">compact</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compress"><span class="toc-number">11.2.7.</span> <span class="toc-text">compress</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#decompress"><span class="toc-number">11.2.8.</span> <span class="toc-text">decompress</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reports"><span class="toc-number">12.</span> <span class="toc-text">Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#results"><span class="toc-number">12.1.</span> <span class="toc-text">results</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#coverage"><span class="toc-number">12.2.</span> <span class="toc-text">coverage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#compare"><span class="toc-number">12.3.</span> <span class="toc-text">compare</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#results-1"><span class="toc-number">12.3.1.</span> <span class="toc-text">results</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#metrics"><span class="toc-number">12.3.2.</span> <span class="toc-text">metrics</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#specification"><span class="toc-number">12.4.</span> <span class="toc-text">specification</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Results"><span class="toc-number">13.</span> <span class="toc-text">Test Results</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OK"><span class="toc-number">13.1.</span> <span class="toc-text">OK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fail"><span class="toc-number">13.2.</span> <span class="toc-text">Fail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error"><span class="toc-number">13.3.</span> <span class="toc-text">Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Null"><span class="toc-number">13.4.</span> <span class="toc-text">Null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Skip"><span class="toc-number">13.5.</span> <span class="toc-text">Skip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK"><span class="toc-number">13.6.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFail"><span class="toc-number">13.7.</span> <span class="toc-text">XFail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XError"><span class="toc-number">13.8.</span> <span class="toc-text">XError</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNull"><span class="toc-number">13.9.</span> <span class="toc-text">XNull</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Parameters"><span class="toc-number">14.</span> <span class="toc-text">Test Parameters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Naming-Tests"><span class="toc-number">15.</span> <span class="toc-text">Naming Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#name"><span class="toc-number">15.1.</span> <span class="toc-text">name</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Name"><span class="toc-number">15.2.</span> <span class="toc-text">Name</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Flags"><span class="toc-number">16.</span> <span class="toc-text">Test Flags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TE"><span class="toc-number">16.1.</span> <span class="toc-text">TE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UT"><span class="toc-number">16.2.</span> <span class="toc-text">UT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SKIP"><span class="toc-number">16.3.</span> <span class="toc-text">SKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EOK"><span class="toc-number">16.4.</span> <span class="toc-text">EOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EFAIL"><span class="toc-number">16.5.</span> <span class="toc-text">EFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EERROR"><span class="toc-number">16.6.</span> <span class="toc-text">EERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESKIP"><span class="toc-number">16.7.</span> <span class="toc-text">ESKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK-1"><span class="toc-number">16.8.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFAIL"><span class="toc-number">16.9.</span> <span class="toc-text">XFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XERROR"><span class="toc-number">16.10.</span> <span class="toc-text">XERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNULL"><span class="toc-number">16.11.</span> <span class="toc-text">XNULL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FAIL-NOT-COUNTED"><span class="toc-number">16.12.</span> <span class="toc-text">FAIL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ERROR-NOT-COUNTED"><span class="toc-number">16.13.</span> <span class="toc-text">ERROR_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-NOT-COUNTED"><span class="toc-number">16.14.</span> <span class="toc-text">NULL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-BEFORE"><span class="toc-number">16.15.</span> <span class="toc-text">PAUSE_BEFORE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE"><span class="toc-number">16.16.</span> <span class="toc-text">PAUSE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-AFTER"><span class="toc-number">16.17.</span> <span class="toc-text">PAUSE_AFTER</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#REPORT"><span class="toc-number">16.18.</span> <span class="toc-text">REPORT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOCUMENT"><span class="toc-number">16.19.</span> <span class="toc-text">DOCUMENT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MANDATORY"><span class="toc-number">16.20.</span> <span class="toc-text">MANDATORY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASYNC"><span class="toc-number">16.21.</span> <span class="toc-text">ASYNC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PARALLEL"><span class="toc-number">16.22.</span> <span class="toc-text">PARALLEL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#flags"><span class="toc-number">16.23.</span> <span class="toc-text">flags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flags"><span class="toc-number">16.24.</span> <span class="toc-text">Flags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Command-Line-Arguments"><span class="toc-number">17.</span> <span class="toc-text">Command Line Arguments</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#argparser"><span class="toc-number">17.1.</span> <span class="toc-text">argparser</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArgumentParser"><span class="toc-number">17.2.</span> <span class="toc-text">ArgumentParser</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tagging-Tests"><span class="toc-number">18.</span> <span class="toc-text">Tagging Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tags"><span class="toc-number">18.1.</span> <span class="toc-text">tags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tags"><span class="toc-number">18.2.</span> <span class="toc-text">Tags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Attributes"><span class="toc-number">19.</span> <span class="toc-text">Test Attributes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#attributes"><span class="toc-number">19.1.</span> <span class="toc-text">attributes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Attributes"><span class="toc-number">19.2.</span> <span class="toc-text">Attributes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Requirements"><span class="toc-number">20.</span> <span class="toc-text">Test Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#requirements"><span class="toc-number">20.1.</span> <span class="toc-text">requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements"><span class="toc-number">20.2.</span> <span class="toc-text">Requirements</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Examples"><span class="toc-number">21.</span> <span class="toc-text">Test Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#examples"><span class="toc-number">21.1.</span> <span class="toc-text">examples</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Examples"><span class="toc-number">21.2.</span> <span class="toc-text">Examples</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Specialized-keywords"><span class="toc-number">22.</span> <span class="toc-text">Specialized keywords</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Definition-Classes"><span class="toc-number">23.</span> <span class="toc-text">Test Definition Classes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Module"><span class="toc-number">23.1.</span> <span class="toc-text">Module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Suite"><span class="toc-number">23.2.</span> <span class="toc-text">Suite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Feature"><span class="toc-number">23.3.</span> <span class="toc-text">Feature</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Test"><span class="toc-number">23.4.</span> <span class="toc-text">Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scenario"><span class="toc-number">23.5.</span> <span class="toc-text">Scenario</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Check"><span class="toc-number">23.6.</span> <span class="toc-text">Check</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Critical-Major-Minor"><span class="toc-number">23.7.</span> <span class="toc-text">Critical, Major, Minor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example"><span class="toc-number">23.8.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Outline"><span class="toc-number">23.9.</span> <span class="toc-text">Outline</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Setting-Parameters"><span class="toc-number">23.9.1.</span> <span class="toc-text">Setting Parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#For-an-Example"><span class="toc-number">23.9.1.1.</span> <span class="toc-text">For an Example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#For-All-Examples"><span class="toc-number">23.9.1.2.</span> <span class="toc-text">For All Examples</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Iteration"><span class="toc-number">23.10.</span> <span class="toc-text">Iteration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step"><span class="toc-number">23.11.</span> <span class="toc-text">Step</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Given"><span class="toc-number">23.12.</span> <span class="toc-text">Given</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Background"><span class="toc-number">23.13.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#When"><span class="toc-number">23.14.</span> <span class="toc-text">When</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#And"><span class="toc-number">23.15.</span> <span class="toc-text">And</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#By"><span class="toc-number">23.16.</span> <span class="toc-text">By</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Then"><span class="toc-number">23.17.</span> <span class="toc-text">Then</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#But"><span class="toc-number">23.18.</span> <span class="toc-text">But</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Finally"><span class="toc-number">23.19.</span> <span class="toc-text">Finally</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Concepts"><span class="toc-number">24.</span> <span class="toc-text">Concepts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Everything-is-a-Test"><span class="toc-number">24.1.</span> <span class="toc-text">Everything is a Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Definitions"><span class="toc-number">24.2.</span> <span class="toc-text">Definitions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Test-is"><span class="toc-number">24.2.1.</span> <span class="toc-text">Test is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flow-is"><span class="toc-number">24.2.2.</span> <span class="toc-text">Flow is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tree-is"><span class="toc-number">24.2.3.</span> <span class="toc-text">Tree is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step-is"><span class="toc-number">24.2.4.</span> <span class="toc-text">Step is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Case-is"><span class="toc-number">24.2.5.</span> <span class="toc-text">Case is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Suite-is"><span class="toc-number">24.2.6.</span> <span class="toc-text">Suite is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Module-is"><span class="toc-number">24.2.7.</span> <span class="toc-text">Module is</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Types"><span class="toc-number">25.</span> <span class="toc-text">Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types"><span class="toc-number">26.</span> <span class="toc-text">Sub-Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types-Mapping"><span class="toc-number">27.</span> <span class="toc-text">Sub-Types Mapping</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Returning-Values"><span class="toc-number">28.</span> <span class="toc-text">Returning Values</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-value"><span class="toc-number">28.1.</span> <span class="toc-text">Using value</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-return"><span class="toc-number">28.2.</span> <span class="toc-text">Using return</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Tests"><span class="toc-number">29.</span> <span class="toc-text">Loading Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load"><span class="toc-number">29.1.</span> <span class="toc-text">Using load</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-loads"><span class="toc-number">29.2.</span> <span class="toc-text">Using loads</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-ordered"><span class="toc-number">29.3.</span> <span class="toc-text">Using ordered</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Modules"><span class="toc-number">30.</span> <span class="toc-text">Loading Modules</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-current-module"><span class="toc-number">30.1.</span> <span class="toc-text">Using current_module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load-module"><span class="toc-number">30.2.</span> <span class="toc-text">Using load_module</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Async-Tests"><span class="toc-number">31.</span> <span class="toc-text">Async Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline-1"><span class="toc-number">31.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated-1"><span class="toc-number">31.2.</span> <span class="toc-text">Decorated</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Tests"><span class="toc-number">32.</span> <span class="toc-text">Parallel Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Running"><span class="toc-number">32.1.</span> <span class="toc-text">Running</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-join"><span class="toc-number">32.2.</span> <span class="toc-text">Using join()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Executors"><span class="toc-number">33.</span> <span class="toc-text">Parallel Executors</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Thread-Pool"><span class="toc-number">33.1.</span> <span class="toc-text">Thread Pool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Async-Pool"><span class="toc-number">33.2.</span> <span class="toc-text">Async Pool</span></a></li></ol></li></ol>
                                
                            
                        
                    </div>
                </nav>
                <div class="col-md-9">
                    <h1 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it?"></a>What is it?</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is an open-source software testing framework that can be used for functional,
integration, acceptance and unit testing across various teams. It is designed to provide
complete control of how tests are written and executed by allowing to write tests and
define test <a href="#Flow-is">flow</a> explicitly as <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> code. It uses <a href="#Everything-is-a-Test">everything is a test</a> approach
with the focus on giving test authors flexibility in writing and running their tests.
It designed to meet the needs of small QA groups at software startup companies
while providing the tools to meet the formalities of the large enterprise QA groups
producing professional test process documentation that includes detailed test and
software requirements specifications as well as requirements coverage, official test
and metrics reports. It is designed for large scale test analytics processing using
<a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a> and <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a> and built on top of a messaging protocol to allow
writing advanced parallel tests that require test-to-test communication
and could be executed in a hive mode on multi-node clusters.</p>
<h1 id="Using-Handbook"><a href="#Using-Handbook" class="headerlink" title="Using Handbook"></a>Using Handbook</h1><p>This handbook is a one-page document that you can search using standard
browser search (<code>Ctrl-F</code>). For ease of navigation you can always click any
heading to go back to the table of contents. </p>
<blockquote>
<p><strong>&#9995;</strong> Try clicking <code>Using Handbook</code> heading and you will see that the page
will scroll up and the corresponding entry in the table of contents
will be highlighted in red. This handy feature will make sure you are never lost!</p>
</blockquote>
<p>There is also <span><a class="fas fa-chevron-up" style="color: orange" href="#Contents"></a><span>
icon on the bottom right of the page to allow you quickly scroll to the top.</p>
<p>If you find any errors or would like to add documentation for something that is
still not documented then feel free to submit a pull request
with your changes to <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-WebSite/blob/master/source/handbook/index.md">handbook source file</a>.</p>
<h1 id="Supported-Environment"><a href="#Supported-Environment" class="headerlink" title="Supported Environment"></a>Supported Environment</h1><ul>
<li><a target="_blank" rel="noopener" href="https://ubuntu.com/">Ubuntu</a> 20.04</li>
<li><a target="_blank" rel="noopener" href="https://www.python.org/">Python 3</a> &gt;= 3.8</li>
</ul>
<blockquote>
<p>However, known to run on other systems such as MacOS.</p>
</blockquote>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><p>You can install the framework using <a target="_blank" rel="noopener" href="https://github.com/pypa/pip">pip3</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install testflows</span><br></pre></td></tr></table></figure>

<p>or from sources</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/testflows/TestFlows.git</span><br><span class="line">$ <span class="built_in">cd</span> TestFlows</span><br><span class="line">$ ./build ; ./install</span><br></pre></td></tr></table></figure>

<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>You can write an inline test scenario in just three lines.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and simply run it using <code>python3</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ./test.py</span><br><span class="line">Jun 28,2020 14:47:02   ⟥  Scenario Hello World!</span><br><span class="line">                 2ms   ⟥⟤ OK Hello World!, /Hello World!</span><br><span class="line"></span><br><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /Hello World!</span><br><span class="line"></span><br><span class="line">1 scenario (1 ok)</span><br></pre></td></tr></table></figure>

<h1 id="Defining-Tests"><a href="#Defining-Tests" class="headerlink" title="Defining Tests"></a>Defining Tests</h1><p>You can define tests inline using classical <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a>
test definition classes or using specialized keyword classes as
<a href="#Scenario">Scenario</a>, <a href="#Feature">Feature</a>, <a href="#Module">Module</a> and the steps
such as <a href="#Background">Background</a>, <a href="#Given">Given</a>, <a href="#When">When</a>, <a href="#Then">Then</a>, <a href="#But">But</a>, <a href="#By">By</a>, <a href="#And">And</a>, and <a href="#Finally">Finally</a>.</p>
<p>In addition, you can also define sub-tests using <a href="#Check">Check</a> test definition class
or its flavours <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a> or <a href="#Critical-Major-Minor">Minor</a>. </p>
<blockquote>
<p>You are encouraged to use the specialized keyword classes to greatly improve readibiliy of
your tests and test procedures.</p>
</blockquote>
<p>Given the variety of test definition classes above, fundamentally, 
there only four core <a href="#Types">Types</a> of tests in <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> and two special types
giving us six <a href="#Types">Types</a> in total. The core <a href="#Types">Types</a> are</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#Step">Step</a></li>
</ul>
<p>and all other types are just a naming variation of one of the above having the following mapping</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#And">And</a> (special)</li>
</ul>
</li>
</ul>
<p>see <a href="#Types">Types</a> for more information.</p>
<h2 id="Inline"><a href="#Inline" class="headerlink" title="Inline"></a>Inline</h2><p>Inline tests can be defined anywhere in your test code by using <a href="#Defining-Tests">Test Definition Class</a>es above.
Because all test definition classes are <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/datamodel.html#context-managers">context manager</a>s and therefore must be used
using the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> statement or <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> for asynchronous tests that leverage <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>‘s <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;My test module&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Feature(<span class="string">&quot;My test feature&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;My test scenario&quot;</span>):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">                    note(<span class="string">&quot;note message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">                    debug(<span class="string">&quot;debug message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> And(<span class="string">&quot;I do something else&quot;</span>):</span><br><span class="line">                    trace(<span class="string">&quot;trace message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> Then(<span class="string">&quot;I check that something is True&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something <span class="keyword">is</span> <span class="literal">True</span></span><br><span class="line">                <span class="keyword">with</span> But(<span class="string">&quot;I check that something else is False&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something_else <span class="keyword">is</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">finally</span>:</span><br><span class="line">                <span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">                    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Decorated"><a href="#Decorated" class="headerlink" title="Decorated"></a>Decorated</h2><p>For re-usability you can also define tests using the
<a href="#Step">TestStep</a>, <a href="#Background">TestBackground</a>, <a href="#Test">TestCase</a>, <a href="#Check">TestCheck</a>, <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>, <a href="#Critical-Major-Minor">TestMinor</a>,
<a href="#Suite">TestSuite</a>, <a href="#Feature">TestFeature</a>, <a href="#Module">TestModule</a>, and <a href="#Outline">TestOutline</a> test function decorators.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self, action=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I do some <span class="subst">&#123;action&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>Similar to how <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/classes.html#method-objects">class method</a>s take an instance of the object as the first argument, 
test functions wrapped with test decorators take an instance of the current test as the first argument
and therefore by convention the first argument is always named <code>self</code>.</p>
<h2 id="Calling-Decorated-Tests"><a href="#Calling-Decorated-Tests" class="headerlink" title="Calling Decorated Tests"></a>Calling Decorated Tests</h2><p><strong>All arguments to tests must be passed using keyword arguments.</strong></p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;driving&quot;</span>)</span><br><span class="line"><span class="comment"># not scenario(&quot;driving&quot;)</span></span><br></pre></td></tr></table></figure>

<p>Use a test definition class to run another test as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)(action=<span class="string">&quot;running&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>where the test is passed as the argument to the <code>test</code> parameter.</p>
<p>If the test does not need any arguments use a short form by passing
the test as the argument of the <code>run</code> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Use the short form only when you don’t need to pass any arguments to the test.</p>
</blockquote>
<p>This will be equivalent to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)()</span><br></pre></td></tr></table></figure>

<p>You can also call also the decorated test directly as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;swimming&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Note that <code>scenario()</code> call will only create its own <a href="#Scenario">Scenario</a> if and only if it is running within
a parent that has a higher test <a href="#Types">Type</a> such as <a href="#Feature">Feature</a> or <a href="#Module">Module</a>.</p>
<p>However, if you call it within the same test <a href="#Types">Type</a>
then it will not crete its own <a href="#Scenario">Scenario</a> but will run simply as a function within the scope of the current test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    scenario()</span><br></pre></td></tr></table></figure>

<p>will run in the scope of <code>My scenario</code> where <code>self</code> will be an instance of the</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(<span class="string">&quot;My scenario&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>but</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    scenario(action=<span class="string">&quot;sliding&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will create its own test.</p>
<h1 id="Running-Tests"><a href="#Running-Tests" class="headerlink" title="Running Tests"></a>Running Tests</h1><p>Top level tests can be run using either <code>python3</code> command or directly if they are made executable.
For example with a top level test defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>you can run it with <code>python3</code> command as follows</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py</span><br></pre></td></tr></table></figure>

<p>or if the top level test is executable and defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and is made executable with</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test.py</span><br></pre></td></tr></table></figure>

<p>then it can be executed directly as</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./test.py</span><br></pre></td></tr></table></figure>

<h1 id="Top-Level-Test"><a href="#Top-Level-Test" class="headerlink" title="Top Level Test"></a>Top Level Test</h1><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> only allows one top level test to exist in any given test program execution.
<p>Because a <a href="#Flow-is">Flow</a> of tests can be represented as a rooted <a href="#Tree-is">Tree</a>, a test program
exits on completion of the top level test. Therefore, any code that is defined after the top
level test <strong>is not executed</strong>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">something_else() <span class="comment"># will not be executed</span></span><br></pre></td></tr></table></figure>

<h1 id="Test-Program-Options"><a href="#Test-Program-Options" class="headerlink" title="Test Program Options"></a>Test Program Options</h1><h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="h-–help"><a href="#h-–help" class="headerlink" title="-h, –help"></a>-h, –help</h3><p>The <code>-h</code>, <code>--help</code> option can be used to obtain help message that describes all the command line
options a test can accept. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h3 id="l-–log"><a href="#l-–log" class="headerlink" title="-l, –log"></a>-l, –log</h3><p>The <code>-l</code>, <code>--log</code> option can be used to specify the path of the file where test log will be saved.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">log</span> ./test.log</span><br></pre></td></tr></table></figure>

<h3 id="–name"><a href="#–name" class="headerlink" title="–name"></a>–name</h3><p>The <code>--name</code> option can be used to specify the name of the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --name <span class="string">&quot;My custom top level test name&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–tag"><a href="#–tag" class="headerlink" title="–tag"></a>–tag</h3><p>The <code>--tag</code> option can be used to specify one or more tags for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --tag <span class="string">&quot;tag0&quot;</span> <span class="string">&quot;tag1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–attr"><a href="#–attr" class="headerlink" title="–attr"></a>–attr</h3><p>The <code>--attr</code> option can be used to specify one or more attributes for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --attr attr0=value0 attr1=value1</span><br></pre></td></tr></table></figure>

<h3 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h3><h4 id="pattern"><a href="#pattern" class="headerlink" title="pattern"></a>pattern</h4><p>Options such as <a href="#%E2%80%93only">–only</a>, <a href="#%E2%80%93skip">–skip</a>, <a href="#%E2%80%93start">–start</a>, <a href="#%E2%80%93end">–end</a> as well as
<a href="#%E2%80%93pause-before">–pause-before</a> and <a href="#%E2%80%93pause-after">–pause-after</a> take a <a href="#pattern">pattern</a> to specify the exact test
to which the option shall be applied.</p>
<p>The <a href="#pattern">pattern</a> is used to match test names using a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a> that supports wildcards</p>
<ul>
<li><code>/</code> path level separator</li>
<li><code>*</code> matches everything</li>
<li><code>?</code> matches any single character</li>
<li><code>[seq]</code> matches any character in seq</li>
<li><code>[!seq]</code> matches any character not in seq</li>
<li><code>:</code> matches anything at the current path level</li>
</ul>
<blockquote>
<p>Note that for a literal match, you must wrap the meta-characters in brackets
where <code>[?]</code> matches the character <code>?</code>.</p>
</blockquote>
<h4 id="–only"><a href="#–only" class="headerlink" title="–only"></a>–only</h4><p>The <code>--only</code> option can be used to filter the test flow so that only the specified tests
are executed.</p>
<blockquote>
<p>Note that mandatory tests will still be run.</p>
</blockquote>
<blockquote>
<p>Note that most of the time the <a href="#pattern">pattern</a> should end with <code>/*</code> so that
any steps or sub-tests are executed inside the selected test.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/my test/*&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="–skip"><a href="#–skip" class="headerlink" title="–skip"></a>–skip</h4><p>The <code>--skip</code> option can be used to filter the test flow so that the specified tests
are skipped.</p>
<blockquote>
<p>Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–start"><a href="#–start" class="headerlink" title="–start"></a>–start</h4><p>The <code>--start</code> option can be used to filter the test flow so that the test flow starts at
the specified test.</p>
<blockquote>
<p>Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–end"><a href="#–end" class="headerlink" title="–end"></a>–end</h4><p>The <code>--end</code> option can be used to filter the test flow so that the test flow ends at
the specified tests.</p>
<blockquote>
<p>Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–pause-before"><a href="#–pause-before" class="headerlink" title="–pause-before"></a>–pause-before</h4><p>The <code>--pause-before</code> option can be used to specify the tests before which the test flow
will be paused.</p>
<h4 id="–pause-after"><a href="#–pause-after" class="headerlink" title="–pause-after"></a>–pause-after</h4><p>The <code>--pause-after</code> option can be used to specify the tests after which the test flow
will be paused.</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>Test output can be controlled with <code>-o</code> or <code>--output</code> option which specifies the output format to use
to print to <code>stdout</code>. By default, a detailed <code>nice</code> output is used. See <code>--help</code> for other formats.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --output short</span><br></pre></td></tr></table></figure>

<h1 id="Logs"><a href="#Logs" class="headerlink" title="Logs"></a>Logs</h1><p>The framework produces <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compressed logs that contains <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> encoded messages. For example,
<br>
<br></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;message_keyword&quot;</span>:<span class="string">&quot;TEST&quot;</span>,<span class="attr">&quot;message_hash&quot;</span>:<span class="string">&quot;ccd1ad1f&quot;</span>,<span class="attr">&quot;message_object&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;message_num&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;message_stream&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;message_level&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;message_time&quot;</span>:<span class="number">1593887847.045375</span>,<span class="attr">&quot;message_rtime&quot;</span>:<span class="number">0.001051</span>,<span class="attr">&quot;test_type&quot;</span>:<span class="string">&quot;Test&quot;</span>,<span class="attr">&quot;test_subtype&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;test_id&quot;</span>:<span class="string">&quot;/68b96288-be25-11ea-8e14-2477034de0ec&quot;</span>,<span class="attr">&quot;test_name&quot;</span>:<span class="string">&quot;/My test&quot;</span>,<span class="attr">&quot;test_flags&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;test_cflags&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;test_level&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;test_uid&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;test_description&quot;</span>:<span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure>

<p>Each message is a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> object. Object fields depend on the type of the message that is specified by the <code>message_keyword</code>.</p>
<p>Logs can be decompressed using either standard <code>xzcat</code> utility</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xzcat test.log</span><br></pre></td></tr></table></figure>

<p>or <code>tfs transform decompress</code> command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform decompress</span><br></pre></td></tr></table></figure>

<h2 id="Saving-Log"><a href="#Saving-Log" class="headerlink" title="Saving Log"></a>Saving Log</h2><p>Test log can be saved into a file by specifying <code>-l</code> or <code>--log</code> option when running the test. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">log</span> test.log</span><br></pre></td></tr></table></figure>

<h2 id="Transformations"><a href="#Transformations" class="headerlink" title="Transformations"></a>Transformations</h2><p>Test logs can be transformed using <code>tfs transform</code> command. See <code>tfs transform --help</code> for a detailed list available transformations.</p>
<h3 id="nice"><a href="#nice" class="headerlink" title="nice"></a>nice</h3><p>The <code>tfs transform nice</code> command can be used to transform test log into a <code>nice</code> output format which the default output
used for the <code>stdout</code>.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform nice</span><br><span class="line">Jul 04,2020 19:20:21   ⟥  Module filters</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Scenario test_0</span><br><span class="line">Jul 04,2020 19:20:21       ⟥  Step first step</span><br><span class="line">               596us       ⟥⟤ OK first step, /filters/test_0/first step</span><br><span class="line">                 1ms     ⟥⟤ OK test_0, /filters/test_0</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="short"><a href="#short" class="headerlink" title="short"></a>short</h3><p>The <code>tfs transform short</code> command can be used to transform test log into a <code>short</code> output format which contains test procedure
and test results.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform short</span><br><span class="line">Module filters</span><br><span class="line">  Scenario test_0</span><br><span class="line">    Step first step</span><br><span class="line">    OK</span><br><span class="line">  OK</span><br><span class="line">  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="slick"><a href="#slick" class="headerlink" title="slick"></a>slick</h3><p>The <code>tfs transform slick</code> command can be used to transform test log into a <code>slick</code> output format which contains only test names
with results provided as icons in front of the test name. This output format is very concise.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform slick</span><br><span class="line">➤ Module filters</span><br><span class="line">  ✔ Scenario test_0</span><br><span class="line">  ➤ Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="dots"><a href="#dots" class="headerlink" title="dots"></a>dots</h3><p>The <code>tfs transform dots</code> command can be used to transform test log into a <code>dots</code> output format which outputs dots
for each executed test.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform dots</span><br><span class="line">.........................</span><br></pre></td></tr></table></figure>

<h3 id="raw"><a href="#raw" class="headerlink" title="raw"></a>raw</h3><p>The <code>tfs transform raw</code> command can be used to transform a test log into a <code>raw</code> output format which contains raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a>
messages.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform raw</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;489eeba5&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:0,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:1,<span class="string">&quot;message_time&quot;</span>:1593904821.784232,<span class="string">&quot;message_rtime&quot;</span>:0.001027,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/ee772b86-be4c-11ea-8e14-2477034de0ec&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/filters&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:0,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1,<span class="string">&quot;protocol_version&quot;</span>:<span class="string">&quot;TFSPv2.1&quot;</span>&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h3><p>The <code>tfs transform compact</code> command can be used to transform a test log into a <code>compact</code> format which only contains
raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> test definition and result messages while omiting all messages for the steps.
It is used to create compact test logs used for comparison reports.</p>
<h3 id="compress"><a href="#compress" class="headerlink" title="compress"></a>compress</h3><p>The <code>tfs transform compress</code> command is used to compress a test log with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h3 id="decompress"><a href="#decompress" class="headerlink" title="decompress"></a>decompress</h3><p>The <code>tfs transform decompress</code> command is used to decompress a test log compressed with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h1 id="Reports"><a href="#Reports" class="headerlink" title="Reports"></a>Reports</h1><p>Test logs can be used to create reports using <code>tfs report</code> command. See <code>tfs report --help</code> for a list of available reports.</p>
<h2 id="results"><a href="#results" class="headerlink" title="results"></a>results</h2><p>A results report can be generated from a test log using <code>tfs report results</code> command.
The report can be generated in either <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> format (default) or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> format
by specifying <code>--format json</code> option.
The report in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs report results | tfs document convert &gt; report.html</span><br></pre></td></tr></table></figure>

<p>See <code>tfs report results --help</code> for details.</p>
<h2 id="coverage"><a href="#coverage" class="headerlink" title="coverage"></a>coverage</h2><p>A requirements coverage report can be generated from a test log using <code>tfs report coverage</code> command. The report is created in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>
and can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs report coverage requirements.py | tfs document convert &gt; coverage.html</span><br></pre></td></tr></table></figure>

<p>See <code>tfs report coverage --help</code> for details.</p>
<h2 id="compare"><a href="#compare" class="headerlink" title="compare"></a>compare</h2><p>A comparison report can be generated using one of the <code>tfs report compare</code> commands.</p>
<h3 id="results-1"><a href="#results-1" class="headerlink" title="results"></a>results</h3><p>A results comparison report can be generated using <code>tfs report compare results</code> command. See <code>tfs report compare results --help</code> for details.</p>
<h3 id="metrics"><a href="#metrics" class="headerlink" title="metrics"></a>metrics</h3><p>A metrics comparison report can be generated using <code>tfs report compare metrics</code> command. See <code>tfs report compare metrics --help</code> for details.</p>
<h2 id="specification"><a href="#specification" class="headerlink" title="specification"></a>specification</h2><p>A test specification for the test run can be generated using <code>tfs report specification</code> command. See <code>tfs report specification --help</code> for details.</p>
<h1 id="Test-Results"><a href="#Test-Results" class="headerlink" title="Test Results"></a>Test Results</h1><p>Any given test will have one of the following results.</p>
<h2 id="OK"><a href="#OK" class="headerlink" title="OK"></a>OK</h2><p>Test has passed.</p>
<h2 id="Fail"><a href="#Fail" class="headerlink" title="Fail"></a>Fail</h2><p>Test has failed.</p>
<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p>Test produced an error.</p>
<h2 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h2><p>Test result was not set.</p>
<h2 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h2><p>Test was skipped.</p>
<h2 id="XOK"><a href="#XOK" class="headerlink" title="XOK"></a>XOK</h2><p><a href="#OK">OK</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XFail"><a href="#XFail" class="headerlink" title="XFail"></a>XFail</h2><p><a href="#Fail">Fail</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XError"><a href="#XError" class="headerlink" title="XError"></a>XError</h2><p><a href="#Error">Error</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XNull"><a href="#XNull" class="headerlink" title="XNull"></a>XNull</h2><p><a href="#Null">Null</a> result was crossed out. Result is considred as passing.</p>
<h1 id="Test-Parameters"><a href="#Test-Parameters" class="headerlink" title="Test Parameters"></a>Test Parameters</h1><p>Test parameters can be used to set attributes of a test. Here is a list of most common
parameters for a test:</p>
<ul>
<li><a href="#name">name</a></li>
<li><a href="#flags">flags</a></li>
<li>uid</li>
<li><a href="#tags">tags</a></li>
<li><a href="#attributes">attributes</a></li>
<li><a href="#requirements">requirements</a></li>
<li><a href="#examples">examples</a></li>
<li>description</li>
<li>xfails</li>
<li>only</li>
<li>skip</li>
<li>start</li>
<li>end</li>
<li>only_tags</li>
<li>skip_tags</li>
<li>args</li>
</ul>
<blockquote>
<p>Most parameter names match the names of the attributes of the test which they set.
For example, <a href="#name">name</a> parameter sets the name attribute of the test.</p>
</blockquote>
<p>When test is defined inline then parameters can be specified right when test definition class is instantiated.
The first parameter is always <code>name</code> that sets the name of the test. The other parameters are usually
specified using keyword arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My test&quot;</span>, description=<span class="string">&quot;This is a description of an inline test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Naming-Tests"><a href="#Naming-Tests" class="headerlink" title="Naming Tests"></a>Naming Tests</h1><p>You can set the name of any test either by setting the <a href="#name">name</a> parameter of the inline test
or using the <a href="#name">Name</a> decorator if the test is defined as a decorated function.
The name of the test can be accessed using the <code>name</code> attribute of the test.</p>
<h2 id="name"><a href="#name" class="headerlink" title="name"></a>name</h2><p>The <a href="#name">name</a> parameter of the test can be use used to set the <a href="#name">name</a> of any inline test. The <a href="#name">name</a> parameter
must be passed a <code>str</code> which will define the name of the test.</p>
<blockquote>
<p>For all test definition classes the first parameter is always the <a href="#name">name</a>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.name)</span><br></pre></td></tr></table></figure>

<h2 id="Name"><a href="#Name" class="headerlink" title="Name"></a>Name</h2><p>A <a href="#name">Name</a> decorator can be used to set the <a href="#name">name</a> of any test that is defined using a decorated function.</p>
<blockquote>
<p>The name of test defined using a decorated function
is set to the name of the function if the <a href="#name">Name</a> decorator is not used.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;The name of the scenario&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<p>or if the <a href="#name">Name</a> decorator is not used</p>
<blockquote>
<p>Note that any underscores will be replaced with spaces in the name of the test.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">the_name_of_the_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Flags"><a href="#Test-Flags" class="headerlink" title="Test Flags"></a>Test Flags</h1><p>You can set the flags of any test either by setting the <a href="#flags">flags</a> parameter of the inline test
or using the <a href="#flags">Flags</a> decorator if the test is defined as a decorated function.
The flags of the test can be accessed using the <code>flags</code> attribute of the test.</p>
<h2 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h2><p>Test to end flag. Continues executing tests even if this test fails.</p>
<h2 id="UT"><a href="#UT" class="headerlink" title="UT"></a>UT</h2><p>Utility test flags. Marks test as utility for reporting.</p>
<h2 id="SKIP"><a href="#SKIP" class="headerlink" title="SKIP"></a>SKIP</h2><p>Skip test flag. Skips the test during execution.</p>
<h2 id="EOK"><a href="#EOK" class="headerlink" title="EOK"></a>EOK</h2><p>Expected <a href="#OK">OK</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#OK">OK</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EFAIL"><a href="#EFAIL" class="headerlink" title="EFAIL"></a>EFAIL</h2><p>Expected <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Fail">Fail</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EERROR"><a href="#EERROR" class="headerlink" title="EERROR"></a>EERROR</h2><p>Expected <a href="#Error">Error</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Error">Error</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="ESKIP"><a href="#ESKIP" class="headerlink" title="ESKIP"></a>ESKIP</h2><p>Expected <a href="#Skip">Skip</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Skip">Skip</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="XOK-1"><a href="#XOK-1" class="headerlink" title="XOK"></a>XOK</h2><p>Cross out <a href="#OK">OK</a> flag. Test result will be set to <a href="#XOK">XOK</a> if the test result is <a href="#OK">OK</a>.</p>
<h2 id="XFAIL"><a href="#XFAIL" class="headerlink" title="XFAIL"></a>XFAIL</h2><p>Cross out <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#XFail">XFail</a> if the test result is <a href="#Fail">Fail</a>.</p>
<h2 id="XERROR"><a href="#XERROR" class="headerlink" title="XERROR"></a>XERROR</h2><p>Cross out <a href="#Error">Error</a> flag. Test result will be set to <a href="#XError">XError</a> if the test result is <a href="#Error">Error</a>.</p>
<h2 id="XNULL"><a href="#XNULL" class="headerlink" title="XNULL"></a>XNULL</h2><p>Cross out <a href="#Null">Null</a> flag. Test result will be set to <a href="#XNull">XNull</a> if the test result is <a href="#Null">Null</a>.</p>
<h2 id="FAIL-NOT-COUNTED"><a href="#FAIL-NOT-COUNTED" class="headerlink" title="FAIL_NOT_COUNTED"></a>FAIL_NOT_COUNTED</h2><p><a href="#Fail">Fail</a> not counted. <a href="#Fail">Fail</a> result will not be counted.</p>
<h2 id="ERROR-NOT-COUNTED"><a href="#ERROR-NOT-COUNTED" class="headerlink" title="ERROR_NOT_COUNTED"></a>ERROR_NOT_COUNTED</h2><p><a href="#Error">Error</a> not counted. <a href="#Error">Error</a> result will not be counted.</p>
<h2 id="NULL-NOT-COUNTED"><a href="#NULL-NOT-COUNTED" class="headerlink" title="NULL_NOT_COUNTED"></a>NULL_NOT_COUNTED</h2><p><a href="#Null">Null</a> not counted. <a href="#Null">Null</a> result will not be counted.</p>
<h2 id="PAUSE-BEFORE"><a href="#PAUSE-BEFORE" class="headerlink" title="PAUSE_BEFORE"></a>PAUSE_BEFORE</h2><p>Pause before test execution. Test flow will be paused before test execution.</p>
<h2 id="PAUSE"><a href="#PAUSE" class="headerlink" title="PAUSE"></a>PAUSE</h2><p>Pause before test execution short form. See <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>.</p>
<h2 id="PAUSE-AFTER"><a href="#PAUSE-AFTER" class="headerlink" title="PAUSE_AFTER"></a>PAUSE_AFTER</h2><p>Pause after test execution. Test flow will be pause after test execution.</p>
<h2 id="REPORT"><a href="#REPORT" class="headerlink" title="REPORT"></a>REPORT</h2><p>Report flag. Mark test to be included for reporting.</p>
<h2 id="DOCUMENT"><a href="#DOCUMENT" class="headerlink" title="DOCUMENT"></a>DOCUMENT</h2><p>Document flag. Mark test to be included in the documentation.</p>
<h2 id="MANDATORY"><a href="#MANDATORY" class="headerlink" title="MANDATORY"></a>MANDATORY</h2><p>Mandatory flag. Mark test as mandatory such that it can’t be skipped.</p>
<h2 id="ASYNC"><a href="#ASYNC" class="headerlink" title="ASYNC"></a>ASYNC</h2><p>Asynchronous test flag. This flag is set for all asynchronous tests.</p>
<h2 id="PARALLEL"><a href="#PARALLEL" class="headerlink" title="PARALLEL"></a>PARALLEL</h2><p>Parallel test flag. This flag is set if test is running in parallel.</p>
<h2 id="flags"><a href="#flags" class="headerlink" title="flags"></a>flags</h2><p>The <a href="#flags">flags</a> parameter of the test can be use used to set the <a href="#flags">flags</a> of any inline test. The <a href="#flags">flags</a> parameter
must be passed valid flag or multiple flags combined with binary <code>OR</code> opertor.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, flags=TE) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.flags)</span><br></pre></td></tr></table></figure>

<h2 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a>Flags</h2><p>A <a href="#flags">Flags</a> decorator can be used to set the <a href="#flags">flags</a> of any test that is defined using a decorated function.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">TE</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.flags)</span><br></pre></td></tr></table></figure>

<h1 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h1><p>You can add command line arguments to the top level test either by setting <a href="#argparser">argparser</a> parameter of the inline test
or using <a href="#ArgumentParser">ArgumentParser</a> decorator if top test is defined as a decorated function.</p>
<h2 id="argparser"><a href="#argparser" class="headerlink" title="argparser"></a>argparser</h2><p>The <a href="#argparser">argparser</a> parameter can be used to set a custom command line argument parser by passing it a function that takes <code>parser</code> as the first
parameter. This function will be called with an instance of <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html">argparse</a> parser instance as the argument for the <code>parser</code> parameter.
The values of the command line arguments can be accessed using the <code>attributes</code> attribute of the test.</p>
<blockquote>
<p>Note that all arguments of the top level test become its <code>attributes</code>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argparser</span>(<span class="params">parser</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, argparser=argparser) <span class="keyword">as</span> module:</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg0&quot;</span>].value)</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg1&quot;</span>].value)</span><br></pre></td></tr></table></figure>

<h2 id="ArgumentParser"><a href="#ArgumentParser" class="headerlink" title="ArgumentParser"></a>ArgumentParser</h2><p>If <a href="#Module">Module</a> is defined using a decorated function then <a href="#ArgumentParser">ArgumentParser</a> decorator can be used to set custom command line argument parser.
The values of the custom command line arguments will be passed to the decorated function as test arguments and therefore
the decorated function must take the first parameters with the same name as command line arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argparser</span>(<span class="params">parser</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@ArgumentParser(<span class="params">argparser</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self, arg0, arg1</span>):</span></span><br><span class="line">    note(arg0)</span><br><span class="line">    note(arg1)</span><br></pre></td></tr></table></figure>

<p>When custom command line argument parser is defined then the help messages obtained using <code>-h</code> or <code>--help</code> option will include
the description of the custom arguments. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ./test.py</span><br><span class="line">...</span><br><span class="line"><span class="built_in">test</span> arguments:</span><br><span class="line">  --arg0                                          argument 0</span><br><span class="line">  --arg1                                          argument 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Tagging-Tests"><a href="#Tagging-Tests" class="headerlink" title="Tagging Tests"></a>Tagging Tests</h1><p>You can add <code>tags</code> to any test either by setting <a href="#tags">tags</a> parameter of the inline test
or using <a href="#tags">Tags</a> decorator if the test is defined as a decorated function. The values of the tags can be accessed
using the <code>tags</code> attribute of the test.</p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><p>The <a href="#tags">tags</a> parameter of the test can be use used to set <a href="#tags">tags</a> of any inline test. The <a href="#tags">tags</a> parameter
can be passed either a <code>list</code>, <code>tuple</code> or a <code>set</code> of tag values. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, tags=(<span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span>)) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.tags)</span><br></pre></td></tr></table></figure>
<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><p>A <a href="#tags">Tags</a> decorator can be used to set <a href="#tags">tags</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.tags)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Attributes"><a href="#Test-Attributes" class="headerlink" title="Test Attributes"></a>Test Attributes</h1><p>You can add <code>attributes</code> to any test either by setting <a href="#attributes">attributes</a> parameter of the inline test
or using <a href="#attributes">Attributes</a> decorator if the test is defined as a decorated function. The values of the attributes can be accessed
using the <code>attributes</code> attribute of the test.</p>
<h2 id="attributes"><a href="#attributes" class="headerlink" title="attributes"></a>attributes</h2><p>The <a href="#attributes">attributes</a> parameter of the test can be used to set <a href="#attributes">attributes</a> of any inline test. The <a href="#attributes">attributes</a> parameter
can be passed either a <code>list</code> of <code>(name, value)</code> tuples or <code>Attribute</code> class instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, attributes=[(<span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span>), Attribute(<span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.attributes)</span><br></pre></td></tr></table></figure>

<h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>An <a href="#attributes">Attributes</a> decorator can be used to set <a href="#attributes">attributes</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Attributes(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    Attribute(<span class="params"><span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.attributes)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Requirements"><a href="#Test-Requirements" class="headerlink" title="Test Requirements"></a>Test Requirements</h1><p>You can add <code>requirements</code> to any test either by setting <a href="#requirements">requirements</a> parameter of the inline test
or using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<blockquote>
<p><code>Requirement</code> class instances must be always called with the version number the test is expected to verify.
<code>RequirementError</code> exception will be raised if version does not match the version of the instance.</p>
</blockquote>
<h2 id="requirements"><a href="#requirements" class="headerlink" title="requirements"></a>requirements</h2><p>The <a href="#requirements">requirements</a> parameter of the test can be used to set <code>requirements</code> of any inline test. The <a href="#requirements">requirements</a> parameter
must be passed a <code>list</code> of called <code>Requirement</code> instances. of the inline test
or using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, requirements=[RQ1(<span class="string">&quot;1.0&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.requirements)</span><br></pre></td></tr></table></figure>

<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h2><p>A <a href="#requirements">Requirements</a> decorator can be used to set <code>requirements</code> attribute of any test that is defined used a decorated function.
The decorator must be called with one or more called <code>Requirement</code> instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Requirements(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    RQ1(<span class="params"><span class="string">&quot;1.0&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.requirements)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Examples"><a href="#Test-Examples" class="headerlink" title="Test Examples"></a>Test Examples</h1><p>You can add <code>examples</code> to any test by setting <a href="#examples">examples</a> parameter of the inline test
or using <a href="#examples">Examples</a> decorator if the test is defined as a decorated function. The examples can be accessed
using the <code>examples</code> attribute of the test.</p>
<h2 id="examples"><a href="#examples" class="headerlink" title="examples"></a>examples</h2><p>The <a href="#examples">examples</a> parameter of the test can be used to set <code>examples</code> of any inline test. The <a href="#examples">examples</a> parameter
must be passed an table of examples which can be defined using <code>Examples</code> class for an inline test
or using the same <a href="#examples">Examples</a> class as a decorator if the test is defined as a decorated function.
The rows of the examples table can be accessed
using the <code>examples</code> attribute of the test.</p>
<blockquote>
<p>Usually examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, examples=Examples(<span class="string">&quot;col0 col1&quot;</span>, [(<span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span>), (<span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span>)])) <span class="keyword">as</span> test:</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> test.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>An <a href="#examples">Examples</a> decorator can be used to set <code>examples</code> attribute of any test that is defined used a decorated function
or used to as an argument of the <code>examples</code> parameter for the test.
The <a href="#examples">Examples</a> class defines a table of examples and should be passed a <code>header</code> and a <code>list</code> for the <code>rows</code>.</p>
<blockquote>
<p>Usually examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;col0 col1&quot;</span>, rows=[</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> self.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h1 id="Specialized-keywords"><a href="#Specialized-keywords" class="headerlink" title="Specialized keywords"></a>Specialized keywords</h1><p>The framework encourages the usage of specialized keywords as they can provide the much needed context for your steps
when writing your test scenarios.</p>
<p>The specialized keywords map to core <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a> test definition classes as follows:</p>
<ul>
<li><a href="#Module">Module</a> is defined as a <a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a> is defined as a <a href="#Feature">Feature</a></li>
<li><a href="#Test">Test</a> is defined as a <a href="#Scenario">Scenario</a></li>
<li><a href="#Step">Step</a> is defined as one of the following:<ul>
<li><a href="#Given">Given</a> is used define a step for precondition or setup</li>
<li><a href="#Background">Background</a> is used define a step for a complex precondition or setup</li>
<li><a href="#When">When</a> is used to define a step for an action</li>
<li><a href="#And">And</a> is used as a continuation of the previous step</li>
<li><a href="#By">By</a> is used to define a sub-step</li>
<li><a href="#Then">Then</a> is used to define a step for positive assertion</li>
<li><a href="#But">But</a> is used to define a step for negative assertion</li>
<li><a href="#Finally">Finally</a> is used to define a cleanup step</li>
</ul>
</li>
</ul>
<h1 id="Test-Definition-Classes"><a href="#Test-Definition-Classes" class="headerlink" title="Test Definition Classes"></a>Test Definition Classes</h1><h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>A <a href="#Module">Module</a> can be defined using <a href="#Module">Module</a> test definition class or <a href="#Module">TestModule</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<h2 id="Suite"><a href="#Suite" class="headerlink" title="Suite"></a>Suite</h2><p>A <a href="#Suite">Suite</a> can be defined using <a href="#Suite">Suite</a> test definition class or <a href="#Suite">TestSuite</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My suite&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My suite&quot;</span>):</span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><p>A <a href="#Feature">Feature</a> can be defined using <a href="#Feature">Feature</a> test definition class or <a href="#Feature">TestFeature</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My feature&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><p>A <a href="#Case-is">Case</a> can be defined using <a href="#Test">Test</a> test definition class or <a href="#Test">TestCase</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCase</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My testcase&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testcase</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My testcase&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note that here the word <code>test</code> is used to define a <a href="#Case-is">Case</a> to match the most common meaning of the word <code>test</code>.
When someone says they will run a <code>test</code> they most likely mean they will run a test <a href="#Case-is">Case</a>.</p>
</blockquote>
<h2 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h2><p>A <a href="#Scenario">Scenario</a> can be defined using <a href="#Scenario">Scenario</a> test definition class or <a href="#Scenario">TestScenario</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>):</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Check"><a href="#Check" class="headerlink" title="Check"></a>Check</h2><p>A <a href="#Check">Check</a> can be defined using <a href="#Check">Check</a> test definition class or <a href="#Check">TestCheck</a> decorator</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCheck</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and is usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define an inline sub-test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My other check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Critical-Major-Minor"><a href="#Critical-Major-Minor" class="headerlink" title="Critical, Major, Minor"></a>Critical, Major, Minor</h2><p>A <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>, or <a href="#Critical-Major-Minor">Minor</a> checks can be defined using <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>
or <a href="#Critical-Major-Minor">Minor</a> test definition class respectively or similarly using <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>,
<a href="#Critical-Major-Minor">TestMinor</a> decorators</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCritical</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My critical check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">critical</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMajor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My major check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">major</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMinor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My minor minor&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minor</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Critical(<span class="string">&quot;My critical check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Major(<span class="string">&quot;My major check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Minor(<span class="string">&quot;My minor check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and are usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define inline sub-tests.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Critical(<span class="string">&quot;my critical check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Major(<span class="string">&quot;my major check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Minor(<span class="string">&quot;my minor check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>These classes are usually used for classification of checks during reporting.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 scenario (1 ok)</span><br><span class="line">1 critical (1 ok)</span><br><span class="line">1 major (1 ok)</span><br><span class="line">1 minor (1 ok)</span><br></pre></td></tr></table></figure>

<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>An <a href="#Example">Example</a> can be only defined inline using <a href="#Example">Example</a> test definition class. There is no decorator
to define it outside of existing test. An <a href="#Example">Example</a> is of a <a href="#Types">Test Type</a> and is used to define
one or more sub-tests. Usually, <a href="#Example">Example</a>s are created automatically using <a href="#Outline">Outline</a>s.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 1&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 2&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Outline"><a href="#Outline" class="headerlink" title="Outline"></a>Outline</h2><p>An <a href="#Outline">Outline</a> can be defined using <a href="#Outline">Outline</a> test definition class or <a href="#Outline">TestOutline</a> decorator.
An <a href="#Outline">Outline</a> has its own test <a href="#Types">Type</a> but can be made specific when defined using <a href="#Outline">TestOutline</a>
decorator by passing it a specific <a href="#Types">Type</a> or a <a href="#Sub-Types">Sub-Type</a> such as <a href="#Scenario">Scenario</a> or <a href="#Suite">Suite</a> etc.</p>
<p>However, because <a href="#Outline">Outline</a>s are meant to be called from other tests or used with <a href="#examples">Examples</a>
it is best to define an <a href="#Outline">Outline</a> using <a href="#Outline">TestOutline</a> decorator as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br><span class="line"></span><br><span class="line">outline()</span><br></pre></td></tr></table></figure>

<p>When <a href="#examples">Examples</a> are defined for the <a href="#Outline">Outline</a> and an outline is called with no arguments from a test
that is of higher <a href="#Types">Type</a> than the <a href="#Types">Type</a> of outline itself then when called the outline will iterate over all
the examples defined in the <a href="#examples">Examples</a> table. For example, run the example above that executes the outline
with no arguments you will see that the outline iterates over all the examples in the <a href="#examples">Examples</a> table where
each example, a row in the examples table, defines the values of the arguments for the outline.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:16:34   ⟥  Scenario outline</span><br><span class="line">                            Examples</span><br><span class="line">                              greeting | name</span><br><span class="line">                              -------- | ----</span><br><span class="line">                              Hello    | John</span><br><span class="line">                              Goodbye  | Eric</span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Hello</span><br><span class="line">                                name</span><br><span class="line">                                  John</span><br><span class="line">               757us     ⟥    [note] Hello John!</span><br><span class="line">               868us     ⟥⟤ OK greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span>, /outline/greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Goodbye</span><br><span class="line">                                name</span><br><span class="line">                                  Eric</span><br><span class="line">               675us     ⟥    [note] Goodbye Eric!</span><br><span class="line">               766us     ⟥⟤ OK greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span>, /outline/greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                 4ms   ⟥⟤ OK outline, /outline</span><br></pre></td></tr></table></figure>

<p>If we run the same outline with arguments, then the outline will not use the <a href="#examples">Examples</a> but instead will
use the argument values that were provided to the outline. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    outline(greeting=<span class="string">&quot;Hey&quot;</span>, name=<span class="string">&quot;Bob&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will produce the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:23:02   ⟥  Scenario My scenario</span><br><span class="line">                 1ms   ⟥    [note] Hey Bob!</span><br><span class="line">                 2ms   ⟥⟤ OK My scenario, /My scenario</span><br></pre></td></tr></table></figure>

<h3 id="Setting-Parameters"><a href="#Setting-Parameters" class="headerlink" title="Setting Parameters"></a>Setting Parameters</h3><h4 id="For-an-Example"><a href="#For-an-Example" class="headerlink" title="For an Example"></a><strong>For an Example</strong></h4><p>You can set parameters for an individual example by specifying them right after the values for the example row.</p>
<blockquote>
<p>Any test parameters that are specified for the example will override any common parameter values.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>: [(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="For-All-Examples"><a href="#For-All-Examples" class="headerlink" title="For All Examples"></a><strong>For All Examples</strong></h4><p>You can set common parameter values for all the examples specified by the <a href="#examples">Examples</a> table using the <code>args</code> parameter
and passing it a <code>dict</code> with parameter values as the argument.</p>
<blockquote>
<p>Note that parameters set for a specific example override any common values.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>:[(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">], args=&#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;common_tag0&quot;</span>, <span class="string">&quot;common_tag1&quot;</span></span>)&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h2><p>An <a href="#Iteration">Iteration</a> is not meant to be used explicitly and in most cases is only used internally to implement
test repetitions.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><p>A <a href="#Step">Step</a> can be defined using <a href="#Step">Step</a> test definition class or <a href="#Step">TestStep</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">TestStep</a> can be made specific by passing it a specific [BBD] step <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(<span class="string">&quot;a When step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">Step</a> can be defined inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;step&quot;</span>):</span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Given"><a href="#Given" class="headerlink" title="Given"></a>Given</h2><p>A <a href="#Given">Given</a> step is used to define precodition or setup and is always treated as a mandatory step
that can’t be skipped. It is defined using <a href="#Given">Given</a> test definition class or using <a href="#Step">TestStep</a>
with <a href="#Given">Given</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_have_something</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>A <a href="#Background">Background</a> step is used define a complex precodition or setup usually containing multiple
<a href="#Given">Given</a>‘s and can be defined using <a href="#Background">Background</a> test definition class or <a href="#Background">TestBackground</a>
decorator. It is treated as a mandatory step that can’t be skipped.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestBackground</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My complex setup&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">background</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Background(<span class="string">&quot;My complex setup&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="When"><a href="#When" class="headerlink" title="When"></a>When</h2><p>A <a href="#When">When</a> step is used to define an action within a <a href="#Scenario">Scenario</a>. It can be defined using <a href="#When">When</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#When">When</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_do_some_action</span>(<span class="params">self</span>):</span></span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<h2 id="And"><a href="#And" class="headerlink" title="And"></a>And</h2><p>An <a href="#And">And</a> step is used to define a step of the same <a href="#Sub-Types">Sub-Type</a> as the step right above it.
It is defined using <a href="#And">And</a> test definition class.</p>
<blockquote>
<p>It does not make sense to use <a href="#Step">TestStep</a> decorator to define it so always define it inline.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do another action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do some action to setup things&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I do another action to continue the setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>A <code>TypeError</code> exception will be raised if the <a href="#And">And</a> step is defined where it has no sibling. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">  <span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line">  <span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line">  <span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it has no sibling from which to inherit the subtype</span><br></pre></td></tr></table></figure>

<p>A <code>TypeError</code> exception will also be raised if the <a href="#Types">Type</a> of the sibling does not match the <a href="#Types">Type</a> of the <a href="#And">And</a> step.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line"><span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it sibling is not of the same type</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="By"><a href="#By" class="headerlink" title="By"></a>By</h2><p>A <a href="#By">By</a> step is usually used to define a sub-step using <a href="#By">By</a> test definition class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> By(<span class="string">&quot;doing some action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Then"><a href="#Then" class="headerlink" title="Then"></a>Then</h2><p>A <a href="#Then">Then</a> step is used to define a step that usually contains a positive assertion.
It can be defined using <a href="#Then">Then</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Then">Then</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Then</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_check_something_is_true</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<h2 id="But"><a href="#But" class="headerlink" title="But"></a>But</h2><p>A companion of the <a href="#Then">Then</a> step is a <a href="#But">But</a> step and is
used to define a step that usually contains an negative assertion.
It can be defined using <a href="#But">But</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#But">But</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">But</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_check_something_is_not_true</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> But(<span class="string">&quot;I check something is not true&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<h2 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h2><p>A <a href="#Finally">Finally</a> step is used to define a cleanup step and is treated as a mandatory step
that can’t be skipped. It can be defined using <a href="#Finally">Finally</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Finally">Finally</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Finally</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_clean_up</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h1><p>The framework was implemented with the following concepts and definitions in mind.
These definitions were used as a guideline to implement test <a href="#Tree-is">Tree</a> hierarchy.
While the implementation does not strictly enforce these concepts, users are encouraged
to apply these definitions during the design of their tests.</p>
<h2 id="Everything-is-a-Test"><a href="#Everything-is-a-Test" class="headerlink" title="Everything is a Test"></a>Everything is a Test</h2><p>The framework treats everything as a test including setup and teardown.</p>
<h2 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h2><h3 id="Test-is"><a href="#Test-is" class="headerlink" title="Test is"></a>Test is</h3><p>something that produces a result.</p>
<h3 id="Flow-is"><a href="#Flow-is" class="headerlink" title="Flow is"></a>Flow is</h3><p>a specific order of execution of <a href="#Test-is">Tests</a></p>
<h3 id="Tree-is"><a href="#Tree-is" class="headerlink" title="Tree is"></a>Tree is</h3><p>a rooted tree graph that results from the execution of a <a href="#Flow-is">Flow</a></p>
<h3 id="Step-is"><a href="#Step-is" class="headerlink" title="Step is"></a>Step is</h3><p>is a lowest level <a href="#Test-is">Test</a></p>
<h3 id="Case-is"><a href="#Case-is" class="headerlink" title="Case is"></a>Case is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Step-is">Steps</a></p>
<h3 id="Suite-is"><a href="#Suite-is" class="headerlink" title="Suite is"></a>Suite is</h3><p>is a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Case-is">Cases</a></p>
<h3 id="Module-is"><a href="#Module-is" class="headerlink" title="Module is"></a>Module is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Suite-is">Suites</a></p>
<h1 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h1><p>The framework divides tests into the following <a href="#Types">Types</a> from highest to the lowest</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#Step">Step</a></li>
</ul>
<p>Children of each <a href="#Types">Type</a> usually must be of the same <a href="#Types">Type</a> or lower with the only notable exception
being an <a href="#Iteration">Iteration</a> that is used to implement test repetitions.</p>
<h1 id="Sub-Types"><a href="#Sub-Types" class="headerlink" title="Sub-Types"></a>Sub-Types</h1><p>The framework uses the following <a href="#Sub-Types">Sub-Types</a> in order to provide more flexibility and implement specialized keywords</p>
<ul>
<li><a href="#Feature">Feature</a></li>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Example">Example</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#And">And</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
</ul>
<h1 id="Sub-Types-Mapping"><a href="#Sub-Types-Mapping" class="headerlink" title="Sub-Types Mapping"></a>Sub-Types Mapping</h1><p>The <a href="#Sub-Types">Sub-Types</a> have the following mapping to the core six <a href="#Types">Types</a></p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
</ul>
</li>
</ul>
<h1 id="Returning-Values"><a href="#Returning-Values" class="headerlink" title="Returning Values"></a>Returning Values</h1><p>A test is not just a function but an entity that can either be run
within caller’s thread, another thread, in a different process
or even on a remote host. Therefore, depending on how a test is called 
returning values from a test might not be as simple as
when one calls a regular function. </p>
<h2 id="Using-value"><a href="#Using-value" class="headerlink" title="Using value"></a>Using <code>value</code></h2><p>A generic way for a test to return a value is using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L146">value() function</a>.
Test can call <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L146">value() function</a> to set one or more values.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The values can be retrieved using <code>values</code> attribute of the <code>result</code> of the test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values</span><br><span class="line">    <span class="comment"># [note] [Value(name=&#x27;first&#x27;,value=&#x27;my first value&#x27;,type=None,group=None,uid=None), Value(name=&#x27;second&#x27;,value=&#x27;my second value&#x27;,type=None,group=None,uid=None)]</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<p>and using the <code>value</code> attribute of the <code>result</code> you can get the last value.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line">    note(my_value) <span class="comment"># [note] my second value</span></span><br></pre></td></tr></table></figure>

<p>Note that if the decorated test is called as a function 
within the same test type the return value is <code>None</code>
if the test function did not return any value using the <code>return</code> statement.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_step() <span class="comment"># returns None</span></span><br></pre></td></tr></table></figure>

<p>But if the test does <code>return</code> a value then it is set as the last value
in the <code>values</code> attribute of the <code>result</code> of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my third value&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># [note] Value(name=&#x27;return&#x27;,value=&#x27;my third value&#x27;,type=None,group=None,uid=None)</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<h2 id="Using-return"><a href="#Using-return" class="headerlink" title="Using return"></a>Using <code>return</code></h2><p>The most convenient way a decorated test can return a value is 
using <code>return</code> statement. For example, a test step can be defined as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my value&quot;</span></span><br></pre></td></tr></table></figure>

<p>and when called within another step the returned value is received just
like from a function. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_value = my_step()  </span><br></pre></td></tr></table></figure>

<p>This is because calling a decorated test 
within a test of the same type just runs the decorated test function
and therefore the call is similar to calling a function with the ability
to get the return value directly. See <a href="#Calling-Decorated-Tests">Calling Decorated Tests</a>.</p>
<p>However, if you call a decorated test as a function
within a higher test type, for example calling a <a href="#Step">Step</a> within a <a href="#Test">Test</a>,
or when you call an inline defined test, then the return value
is a <code>TestBase</code> object and the returned value needs to be retrieved
as <code>value</code> attribute from the <code>result</code> attribute of the <code>TestBase</code> object
or using <code>values</code> attribute to get a list of all the values produced by a test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = my_step()  </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># incorrect - `my_value` is Step object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(run=my_step)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># correct  </span></span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct </span></span><br><span class="line">    my_value = my_step().result.values[-<span class="number">1</span>].value</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># correct </span></span><br><span class="line">    my_value = Step(test=my_step)().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = Step(run=my_step).result.value</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Tests"><a href="#Loading-Tests" class="headerlink" title="Loading Tests"></a>Loading Tests</h1><h2 id="Using-load"><a href="#Using-load" class="headerlink" title="Using load"></a>Using <code>load</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L48">load() function</a> to load a test or any object from another
module.</p>
<p>For example, given a <a href="#Scenario">Scenario</a> defined in <code>tests/another_module.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test_in_another_module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>then you can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L48">load() function</a> to load this test in another module 
and use it as a base for an inline defined <a href="#Scenario">Scenario</a> as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;my module&quot;</span>):</span><br><span class="line">     Scenario(<span class="string">&quot;my test&quot;</span>, run=load(<span class="string">&quot;tests.another_module&quot;</span>, test=<span class="string">&quot;my_test_in_another_module&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-loads"><a href="#Using-loads" class="headerlink" title="Using loads"></a>Using <code>loads</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/test.py#L2315">loads() function</a> to load one or more tests of a given 
test class.</p>
<p>For example, given multiple <a href="#Scenario">Scenario</a>s defined in the same file one can
use <code>loads() function</code> to execute all the <a href="#Scenario">Scenario</a>s as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scneario()</span><br></pre></td></tr></table></figure>

<p>If a file contains multiple test types then you can just 
specify them as needed. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>See also <a href="#Using-current-module">using current_module()</a>.</p>
<h2 id="Using-ordered"><a href="#Using-ordered" class="headerlink" title="Using ordered"></a>Using <code>ordered</code></h2><p>By default <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/test.py#L2315">loads() function</a> returns tests in random order. If you want
a deterministic order then use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/test.py#L2306">ordered() function</a> to sort
a list of tests loaded with <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/test.py#L2315">loads() function</a> by test function name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> ordered(loads(current_module(), Scenario)):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Modules"><a href="#Loading-Modules" class="headerlink" title="Loading Modules"></a>Loading Modules</h1><h2 id="Using-current-module"><a href="#Using-current-module" class="headerlink" title="Using current_module"></a>Using <code>current_module</code></h2><p>Using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L36">current_module() function</a> allows to conveniently reference
the current module. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<h2 id="Using-load-module"><a href="#Using-load-module" class="headerlink" title="Using load_module"></a>Using <code>load_module</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/funcs.py#L43">load_module() function</a> allows to load any module by specifying module name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(load_module(<span class="string">&quot;tests.another_module&quot;</span>), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Async-Tests"><a href="#Async-Tests" class="headerlink" title="Async Tests"></a>Async Tests</h1><p>Asynchronous tests are natively supported.
All asynchronous tests get <a href="#ASYNC">ASYNC</a> flag set in <a href="#flags">flags</a>.</p>
<h2 id="Inline-1"><a href="#Inline-1" class="headerlink" title="Inline"></a>Inline</h2><p>An inline asynchronous tests can be defined using <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> statement as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> Test(<span class="string">&quot;my async test&quot;</span>):</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> Step(<span class="string">&quot;my async test step&quot;</span>):</span><br><span class="line">            note(<span class="string">&quot;Hello from asyncio!&quot;</span>)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">asyncio.run(module())</span><br></pre></td></tr></table></figure>

<h2 id="Decorated-1"><a href="#Decorated-1" class="headerlink" title="Decorated"></a>Decorated</h2><p>A decorated asynchronous test can be defined in a similar way as a non-asynchronous test. 
The only difference is that the decorated function must be asynchronous
and be defined using <code>async def</code> keyword just like any other asynchronous function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self, number</span>):</span></span><br><span class="line">    note(<span class="string">&quot;Hello from async scenario &#123;number&#125;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test)(number=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test)(number=<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">asyncio.run(module())</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> See <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module to learn more about asynchronous programming in <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>.</p>
</blockquote>
<h1 id="Parallel-Tests"><a href="#Parallel-Tests" class="headerlink" title="Parallel Tests"></a>Parallel Tests</h1><h2 id="Running"><a href="#Running" class="headerlink" title="Running"></a>Running</h2><p>Tests can be executed in parallel either using threads 
or asynchronous executor defined using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/executor/thread.py#L49">ThreadPool class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/executor/asyncio.py#L102">AsyncPool class</a> respectively.</p>
<p>In order to run a test in parallel, a test must either have <a href="#PARALLEL">PARALLEL</a> flag
set or <code>parallel=True</code> specified during test definition.</p>
<p>A parallel executor can be specified using <code>executor</code> parameter. If no executor
is explicitly specified then a default executor is created for the
test of the type that is needed to execute a test. </p>
<blockquote>
<p><strong>&#9995;</strong> Note that the default executor does not have a limit on a number
of parallel tests as the pool size is not limited.</p>
</blockquote>
<p>Here is an example when <code>executor</code> is not specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self, number, sleep=<span class="number">1</span></span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> starting&quot;</span>)  </span><br><span class="line">    time.sleep(sleep)</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> done&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    module()</span><br></pre></td></tr></table></figure>

<h2 id="Using-join"><a href="#Using-join" class="headerlink" title="Using join()"></a>Using <code>join()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/__init__.py#L105">join() function</a> can be used to join any currently running parallel tests.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># wait until `my test 0` and `my test 1` complete</span></span><br><span class="line">    join()</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 2&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Parallel-Executors"><a href="#Parallel-Executors" class="headerlink" title="Parallel Executors"></a>Parallel Executors</h1><p>Parallel executors can be used to gain fine grain control of how many
tests are executed in parallel.</p>
<blockquote>
<p><strong>&#9995;</strong> You should not share a single pool executor between different tests
as it can lead to a deadlock given that a situation might arise when a parent test
can be left waiting for the child test to complete and a child test will not be
able to complete due to the shared pool having no available workers.</p>
</blockquote>
<p>If you want to share a pool between different tests you must use either 
<code>SharedThreadPool class</code> or <code>SharedAsyncPool class</code> for normal or asynchronous tests
respectively. These classes ensure that a deadlock between a parent and child test is avoided
by blocking and waiting for completion of any task that is submitted when no idle workers
are available.</p>
<h2 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a>Thread Pool</h2><p>A thread pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/executor/thread.py#L49">Pool class</a> which is
a short form to define a <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/executor/thread.py#L49">ThreadPool class</a> and will run a test in another thread. </p>
<p>The maximum number of threads can be controlled by setting <code>max_workers</code>
parameter and by default is set to <code>16</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool then the currently available
threads then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Pool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Async-Pool"><a href="#Async-Pool" class="headerlink" title="Async Pool"></a>Async Pool</h2><p>An asynchronous pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/885496ab88c56335240c5a8fd826a5b03e92a00b/testflows/_core/parallel/executor/asyncio.py#L102">AsyncPool class</a>
and will run an asynchronous test using a new loop running in another thread unless
<code>loop</code> parameter is explicitly specified during executor object creation.</p>
<p>The maximum number of concurrent asynchronous tasks can be controlled by setting <code>max_workers</code>
parameter and by default is set to <code>1024</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool then the currently available
threads then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> AsyncPool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 0&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 1&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>


                    <div class="col-12 divider"></div>
                    <div class="switch-page text-center">
                        
                        
                    </div>
                </div>
                <a class="jump fas fa-chevron-up" href="#Contents"></a>
            </div>
        </div>
    </div>
</div>
<script>
window.addEventListener("load", function(){
    // add support to go back to TOC by clicking any header
    document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(element){
        element.addEventListener("click", function(event){
            element_id = element.getAttribute("id");
            toc_element = document.querySelector(".toc .toc-item .toc-link[href=\"#" + encodeURI(element_id) + "\"]");
            toc_element.scrollIntoView({block: 'start'})
            window.scrollBy(0, -200);
            toc_element.classList.add("active");
            // remove active class after timeout
            setTimeout(function(){
                toc_element.classList.remove("active");
            }, 1000);
        }, true);
    });
});
</script>

    </div>
  </div>
  <div class="container-footer">
    <footer> <div class="row no-gutters">
    <div class="col-12 text-center">
        <div class="links">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://pypi.org/project/testflows/">
                        <span class="fab fa-2x fa-python"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://twitter.com/TestFlowsTF">
                        <span class="fab fa-2x fa-twitter"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://t.me/testflows">
                        <span class="fab fa-2x fa-telegram-plane"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://github.com/testflows">
                        <span class="fab fa-2x fa-github"></span>
                    </a>
                </button>
            </div>
        </div>
    </div>
    <div class="col-12 text-center">
        <img src="/img/favicon-square.png"</img>
    </div>
    <div class="col-12 text-center">
        Copyright 2020 Katteli Inc.
    </div>
    <div class="col-12 text-center">
        <span class="text-nowrap">All rights reserved.</span>
    </div>
    <div class="col-12 text-center no-padding links">
        <a class="btn" href="/credits.html">Credits</a>
    </div>
</div>
 </footer>
  </div>
  <script src="/js/jquery-3.4.1.slim.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap/bootstrap.min.js"></script>
<script>
var isInViewport = function (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};
var banner = document.querySelector('.banner');
window.addEventListener('scroll', function (event) {
	if (isInViewport(banner)) {
    	banner.classList.remove("not-in-view");
	} else {
	    banner.classList.add("not-in-view");
	}
}, false);
</script>

</body>
</html>


