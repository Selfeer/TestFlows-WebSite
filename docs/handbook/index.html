
<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Handbook | TestFlows Open-Source Software Testing Framework</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link href="/img/favicon.ico" rel="icon">
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/bootstrap/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css?v=1635988049268" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/firefly.css?v=1635988049268" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/fontawesome/css/all.css?v=1.0" type="text/css">
  <link rel="stylesheet" href="/css/style.css?v=1635988049268" media="screen" type="text/css">
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <nav id="main-nav" class="fixed-top navbar navbar-expand-md navbar-fixed-top" role="navigation">
    <a class="navbar-brand" href="/">
        <img src="/img/logo.png" alt="TestFlows">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon fas fa-2x fa-bars"></span>
    </button>
    <div class="collapse navbar-collapse nav-menu" id="navbarNav">
        <ul class="nav navbar-nav">
            
                <li class="nav-item">
                    <a class="nav-link" href="/handbook"><i class="fas fa-book pr-2"></i>Handbook</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/blog"><i class="fas fa-blog pr-2"></i>Blog</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/about.html"><i class="fas fa-info-circle pr-2"></i>About</a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link" href="/contact.html"><i class="fas fa-envelope-open-text pr-2"></i>Contact</a>
                </li>
            
        </ul>
    </div>
</nav>
<div class="clearfix"></div>

  <div class="container-fluid p-0">
    <div class="content">
      <div class="page container-fluid text-center p-0" style="padding-bottom: 2em !important">
    <div class="banner in-view-watcher">
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <div class="firefly"></div>
        <h1>Handbook</h1>
        <h2>Your handbook for using the framework</h2>
        <i class="fa-5x pt-3 fas fa-book pt-5 pb-5"></i>
    </div>
</div>
<div class="handbook">
    <div class="container" style="padding-bottom: 2em !important;">
        <div class="post">
            <div class="post-body row">
                <nav id="sidebar" class="col-lg-3 sidebar">
                    <div id="Contents" class="sidebar-header pt-4">
                        <h3 class="d-none d-md-block">Contents</h3>
                        <h2 class="d-block d-md-none">Contents</h2>
                    </div>
                    <div>
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                                
                                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-it"><span class="toc-number">1.</span> <span class="toc-text">What is it?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Differentiating-Features"><span class="toc-number">2.</span> <span class="toc-text">Differentiating Features</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Handbook"><span class="toc-number">3.</span> <span class="toc-text">Using Handbook</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Supported-Environment"><span class="toc-number">4.</span> <span class="toc-text">Supported Environment</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Installation"><span class="toc-number">5.</span> <span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">6.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Defining-Tests"><span class="toc-number">7.</span> <span class="toc-text">Defining Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline"><span class="toc-number">7.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated"><span class="toc-number">7.2.</span> <span class="toc-text">Decorated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calling-Decorated-Tests"><span class="toc-number">7.3.</span> <span class="toc-text">Calling Decorated Tests</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Running-Tests"><span class="toc-number">8.</span> <span class="toc-text">Running Tests</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Writing-Tests"><span class="toc-number">9.</span> <span class="toc-text">Writing Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Flexibility-In-Writing-Tests"><span class="toc-number">9.1.</span> <span class="toc-text">Flexibility In Writing Tests</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-Test-Results-Explicitly"><span class="toc-number">10.</span> <span class="toc-text">Setting Test Results Explicitly</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Fails-of-Specific-Types"><span class="toc-number">10.1.</span> <span class="toc-text">Fails of Specific Types</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Top-Level-Test"><span class="toc-number">11.</span> <span class="toc-text">Top Level Test</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Renaming-Top-Test"><span class="toc-number">11.1.</span> <span class="toc-text">Renaming Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-Tags-to-Top-Test"><span class="toc-number">11.2.</span> <span class="toc-text">Adding Tags to Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-Attributes-to-Top-Test"><span class="toc-number">11.3.</span> <span class="toc-text">Adding Attributes to Top Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Custom-Top-Test-Id"><span class="toc-number">11.4.</span> <span class="toc-text">Custom Top Test Id</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Logs"><span class="toc-number">12.</span> <span class="toc-text">Logs</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Saving-Log-File"><span class="toc-number">12.1.</span> <span class="toc-text">Saving Log File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transforming-Logs"><span class="toc-number">12.2.</span> <span class="toc-text">Transforming Logs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nice"><span class="toc-number">12.2.1.</span> <span class="toc-text">nice</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#short"><span class="toc-number">12.2.2.</span> <span class="toc-text">short</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slick"><span class="toc-number">12.2.3.</span> <span class="toc-text">slick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dots"><span class="toc-number">12.2.4.</span> <span class="toc-text">dots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#raw"><span class="toc-number">12.2.5.</span> <span class="toc-text">raw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compact"><span class="toc-number">12.2.6.</span> <span class="toc-text">compact</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#compress"><span class="toc-number">12.2.7.</span> <span class="toc-text">compress</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#decompress"><span class="toc-number">12.2.8.</span> <span class="toc-text">decompress</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating-Reports"><span class="toc-number">13.</span> <span class="toc-text">Creating Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#results"><span class="toc-number">13.1.</span> <span class="toc-text">results</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#coverage"><span class="toc-number">13.2.</span> <span class="toc-text">coverage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#compare"><span class="toc-number">13.3.</span> <span class="toc-text">compare</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#results-1"><span class="toc-number">13.3.1.</span> <span class="toc-text">results</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#metrics"><span class="toc-number">13.3.2.</span> <span class="toc-text">metrics</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#specification"><span class="toc-number">13.4.</span> <span class="toc-text">specification</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Results"><span class="toc-number">14.</span> <span class="toc-text">Test Results</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OK"><span class="toc-number">14.1.</span> <span class="toc-text">OK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fail"><span class="toc-number">14.2.</span> <span class="toc-text">Fail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error"><span class="toc-number">14.3.</span> <span class="toc-text">Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Null"><span class="toc-number">14.4.</span> <span class="toc-text">Null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Skip"><span class="toc-number">14.5.</span> <span class="toc-text">Skip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK"><span class="toc-number">14.6.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFail"><span class="toc-number">14.7.</span> <span class="toc-text">XFail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XError"><span class="toc-number">14.8.</span> <span class="toc-text">XError</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNull"><span class="toc-number">14.9.</span> <span class="toc-text">XNull</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Parameters"><span class="toc-number">15.</span> <span class="toc-text">Test Parameters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Naming-Tests"><span class="toc-number">16.</span> <span class="toc-text">Naming Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#name"><span class="toc-number">16.1.</span> <span class="toc-text">name</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Name"><span class="toc-number">16.2.</span> <span class="toc-text">Name</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-Test-Flags"><span class="toc-number">17.</span> <span class="toc-text">Setting Test Flags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#flags"><span class="toc-number">17.1.</span> <span class="toc-text">flags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flags"><span class="toc-number">17.2.</span> <span class="toc-text">Flags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Command-Line-Arguments"><span class="toc-number">18.</span> <span class="toc-text">Command Line Arguments</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#argparser"><span class="toc-number">18.1.</span> <span class="toc-text">argparser</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArgumentParser"><span class="toc-number">18.2.</span> <span class="toc-text">ArgumentParser</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filtering-Tests-By-Name"><span class="toc-number">19.</span> <span class="toc-text">Filtering Tests By Name</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93only-option"><span class="toc-number">19.1.</span> <span class="toc-text">–only option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93skip-option"><span class="toc-number">19.2.</span> <span class="toc-text">–skip option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%93only-and-%E2%80%93skip"><span class="toc-number">19.3.</span> <span class="toc-text">–only and –skip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filtering-Tests-In-Code"><span class="toc-number">19.4.</span> <span class="toc-text">Filtering Tests In Code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#only-and-skip-Arguments"><span class="toc-number">19.4.1.</span> <span class="toc-text">only and skip Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Onlys-and-Skips-Decorators"><span class="toc-number">19.4.2.</span> <span class="toc-text">Onlys and Skips Decorators</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filtering-Tests-By-Tags"><span class="toc-number">20.</span> <span class="toc-text">Filtering Tests By Tags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tags-Filtering-type"><span class="toc-number">20.1.</span> <span class="toc-text">Tags Filtering type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#only-tags-option"><span class="toc-number">20.2.</span> <span class="toc-text">--only-tags option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#skip-tags-option"><span class="toc-number">20.3.</span> <span class="toc-text">--skip-tags option</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filtering-By-Tags-In-Code"><span class="toc-number">20.4.</span> <span class="toc-text">Filtering By Tags In Code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#only-tags-and-skip-tags-Arguments"><span class="toc-number">20.4.1.</span> <span class="toc-text">only_tags and skip_tags Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OnlyTags-and-SkipTags-Decorators"><span class="toc-number">20.4.2.</span> <span class="toc-text">OnlyTags and SkipTags Decorators</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tagging-Tests"><span class="toc-number">21.</span> <span class="toc-text">Tagging Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tags"><span class="toc-number">21.1.</span> <span class="toc-text">tags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tags"><span class="toc-number">21.2.</span> <span class="toc-text">Tags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Attributes"><span class="toc-number">22.</span> <span class="toc-text">Test Attributes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#attributes"><span class="toc-number">22.1.</span> <span class="toc-text">attributes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Attributes"><span class="toc-number">22.2.</span> <span class="toc-text">Attributes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Requirements"><span class="toc-number">23.</span> <span class="toc-text">Test Requirements</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#requirements"><span class="toc-number">23.1.</span> <span class="toc-text">requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements"><span class="toc-number">23.2.</span> <span class="toc-text">Requirements</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Examples"><span class="toc-number">24.</span> <span class="toc-text">Test Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#examples"><span class="toc-number">24.1.</span> <span class="toc-text">examples</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Examples"><span class="toc-number">24.2.</span> <span class="toc-text">Examples</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-XFails"><span class="toc-number">25.</span> <span class="toc-text">Test XFails</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#xfails"><span class="toc-number">25.1.</span> <span class="toc-text">xfails</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFails"><span class="toc-number">25.2.</span> <span class="toc-text">XFails</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-XFlags"><span class="toc-number">26.</span> <span class="toc-text">Test XFlags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#xflags"><span class="toc-number">26.1.</span> <span class="toc-text">xflags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFlags"><span class="toc-number">26.2.</span> <span class="toc-text">XFlags</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-FFails"><span class="toc-number">27.</span> <span class="toc-text">Test FFails</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ffails"><span class="toc-number">27.1.</span> <span class="toc-text">ffails</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Optional-when-Condition"><span class="toc-number">27.1.1.</span> <span class="toc-text">Optional when Condition</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FFails"><span class="toc-number">27.2.</span> <span class="toc-text">FFails</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Specialized-keywords"><span class="toc-number">28.</span> <span class="toc-text">Specialized keywords</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Semi-Automated-And-Manual-Tests"><span class="toc-number">29.</span> <span class="toc-text">Semi-Automated And Manual Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Semi-Automated"><span class="toc-number">29.1.</span> <span class="toc-text">Semi-Automated</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manual"><span class="toc-number">29.2.</span> <span class="toc-text">Manual</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Manual-With-Automated-Steps"><span class="toc-number">29.3.</span> <span class="toc-text">Manual With Automated Steps</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Definition-Classes"><span class="toc-number">30.</span> <span class="toc-text">Test Definition Classes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Module"><span class="toc-number">30.1.</span> <span class="toc-text">Module</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Suite"><span class="toc-number">30.2.</span> <span class="toc-text">Suite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Feature"><span class="toc-number">30.3.</span> <span class="toc-text">Feature</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Test"><span class="toc-number">30.4.</span> <span class="toc-text">Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scenario"><span class="toc-number">30.5.</span> <span class="toc-text">Scenario</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Check"><span class="toc-number">30.6.</span> <span class="toc-text">Check</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Critical-Major-Minor"><span class="toc-number">30.7.</span> <span class="toc-text">Critical, Major, Minor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Example"><span class="toc-number">30.8.</span> <span class="toc-text">Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Outline"><span class="toc-number">30.9.</span> <span class="toc-text">Outline</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Setting-Parameters"><span class="toc-number">30.9.1.</span> <span class="toc-text">Setting Parameters</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#For-an-Example"><span class="toc-number">30.9.1.1.</span> <span class="toc-text">For an Example</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#For-All-Examples"><span class="toc-number">30.9.1.2.</span> <span class="toc-text">For All Examples</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Iteration"><span class="toc-number">30.10.</span> <span class="toc-text">Iteration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RetryIteration"><span class="toc-number">30.11.</span> <span class="toc-text">RetryIteration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step"><span class="toc-number">30.12.</span> <span class="toc-text">Step</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Given"><span class="toc-number">30.13.</span> <span class="toc-text">Given</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Background"><span class="toc-number">30.14.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#When"><span class="toc-number">30.15.</span> <span class="toc-text">When</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#And"><span class="toc-number">30.16.</span> <span class="toc-text">And</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#By"><span class="toc-number">30.17.</span> <span class="toc-text">By</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Then"><span class="toc-number">30.18.</span> <span class="toc-text">Then</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#But"><span class="toc-number">30.19.</span> <span class="toc-text">But</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Finally"><span class="toc-number">30.20.</span> <span class="toc-text">Finally</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Concepts"><span class="toc-number">31.</span> <span class="toc-text">Concepts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Everything-is-a-Test"><span class="toc-number">31.1.</span> <span class="toc-text">Everything is a Test</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Definitions"><span class="toc-number">31.2.</span> <span class="toc-text">Definitions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Test-is"><span class="toc-number">31.2.1.</span> <span class="toc-text">Test is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flow-is"><span class="toc-number">31.2.2.</span> <span class="toc-text">Flow is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tree-is"><span class="toc-number">31.2.3.</span> <span class="toc-text">Tree is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Step-is"><span class="toc-number">31.2.4.</span> <span class="toc-text">Step is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Case-is"><span class="toc-number">31.2.5.</span> <span class="toc-text">Case is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Suite-is"><span class="toc-number">31.2.6.</span> <span class="toc-text">Suite is</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Module-is"><span class="toc-number">31.2.7.</span> <span class="toc-text">Module is</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Types"><span class="toc-number">32.</span> <span class="toc-text">Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types"><span class="toc-number">33.</span> <span class="toc-text">Sub-Types</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sub-Types-Mapping"><span class="toc-number">34.</span> <span class="toc-text">Sub-Types Mapping</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Pausing-Tests"><span class="toc-number">35.</span> <span class="toc-text">Pausing Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Pausing-Using-Command-Line"><span class="toc-number">35.1.</span> <span class="toc-text">Pausing Using Command Line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pausing-In-Code"><span class="toc-number">35.2.</span> <span class="toc-text">Pausing In Code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-Contexts"><span class="toc-number">36.</span> <span class="toc-text">Using Contexts</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-in-Operator"><span class="toc-number">36.1.</span> <span class="toc-text">Using in Operator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-hasattr"><span class="toc-number">36.2.</span> <span class="toc-text">Using hasattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-getattr"><span class="toc-number">36.3.</span> <span class="toc-text">Using getattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-getsattr"><span class="toc-number">36.4.</span> <span class="toc-text">Using getsattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arbitrary-Variable-Names"><span class="toc-number">36.5.</span> <span class="toc-text">Arbitrary Variable Names</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setups-And-Teardowns"><span class="toc-number">37.</span> <span class="toc-text">Setups And Teardowns</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Common-Setup-And-Teardown"><span class="toc-number">37.1.</span> <span class="toc-text">Common Setup And Teardown</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Handling-Resources"><span class="toc-number">37.2.</span> <span class="toc-text">Handling Resources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multiple-Setups-and-Teardowns"><span class="toc-number">37.3.</span> <span class="toc-text">Multiple Setups and Teardowns</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Given-With-yield"><span class="toc-number">37.4.</span> <span class="toc-text">Given With yield</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Yielding-Resources"><span class="toc-number">37.4.1.</span> <span class="toc-text">Yielding Resources</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cleanup-Functions"><span class="toc-number">37.5.</span> <span class="toc-text">Cleanup Functions</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Returning-Values"><span class="toc-number">38.</span> <span class="toc-text">Returning Values</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-value"><span class="toc-number">38.1.</span> <span class="toc-text">Using value()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-return"><span class="toc-number">38.2.</span> <span class="toc-text">Using return</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Tests"><span class="toc-number">39.</span> <span class="toc-text">Loading Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load"><span class="toc-number">39.1.</span> <span class="toc-text">Using load()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-loads"><span class="toc-number">39.2.</span> <span class="toc-text">Using loads()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-ordered"><span class="toc-number">39.3.</span> <span class="toc-text">Using ordered()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Loading-Modules"><span class="toc-number">40.</span> <span class="toc-text">Loading Modules</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-current-module"><span class="toc-number">40.1.</span> <span class="toc-text">Using current_module()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-load-module"><span class="toc-number">40.2.</span> <span class="toc-text">Using load_module()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Async-Tests"><span class="toc-number">41.</span> <span class="toc-text">Async Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inline-1"><span class="toc-number">41.1.</span> <span class="toc-text">Inline</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Decorated-1"><span class="toc-number">41.2.</span> <span class="toc-text">Decorated</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Tests"><span class="toc-number">42.</span> <span class="toc-text">Parallel Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Running"><span class="toc-number">42.1.</span> <span class="toc-text">Running</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-join"><span class="toc-number">42.2.</span> <span class="toc-text">Using join()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Parallel-Executors"><span class="toc-number">43.</span> <span class="toc-text">Parallel Executors</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Thread-Pool"><span class="toc-number">43.1.</span> <span class="toc-text">Thread Pool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Async-Pool"><span class="toc-number">43.2.</span> <span class="toc-text">Async Pool</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Crossing-Out-Results"><span class="toc-number">44.</span> <span class="toc-text">Crossing Out Results</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Setting-or-Clearing-Flags"><span class="toc-number">45.</span> <span class="toc-text">Setting or Clearing Flags</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Forcing-Results"><span class="toc-number">46.</span> <span class="toc-text">Forcing Results</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Forced-Result-Decorators"><span class="toc-number">46.1.</span> <span class="toc-text">Forced Result Decorators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Skipped"><span class="toc-number">46.1.1.</span> <span class="toc-text">Skipped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Failed"><span class="toc-number">46.1.2.</span> <span class="toc-text">Failed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XFailed"><span class="toc-number">46.1.3.</span> <span class="toc-text">XFailed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XErrored"><span class="toc-number">46.1.4.</span> <span class="toc-text">XErrored</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Okayed"><span class="toc-number">46.1.5.</span> <span class="toc-text">Okayed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XOkayed"><span class="toc-number">46.1.6.</span> <span class="toc-text">XOkayed</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Repeating-Tests"><span class="toc-number">47.</span> <span class="toc-text">Repeating Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Until-Condition"><span class="toc-number">47.1.</span> <span class="toc-text">Until Condition</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pass"><span class="toc-number">47.1.1.</span> <span class="toc-text">pass</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fail"><span class="toc-number">47.1.2.</span> <span class="toc-text">fail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#complete"><span class="toc-number">47.1.3.</span> <span class="toc-text">complete</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Repeats"><span class="toc-number">47.2.</span> <span class="toc-text">Repeats</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Repeat"><span class="toc-number">47.3.</span> <span class="toc-text">Repeat</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Retrying-Tests"><span class="toc-number">48.</span> <span class="toc-text">Retrying Tests</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Retries"><span class="toc-number">48.1.</span> <span class="toc-text">Retries</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Retry"><span class="toc-number">48.2.</span> <span class="toc-text">Retry</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Retrying-Code-or-Function-Calls"><span class="toc-number">49.</span> <span class="toc-text">Retrying Code or Function Calls</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-retries"><span class="toc-number">49.1.</span> <span class="toc-text">Using retries()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-retry"><span class="toc-number">49.2.</span> <span class="toc-text">Using retry()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Using-YML-Config-Files"><span class="toc-number">50.</span> <span class="toc-text">Using YML Config Files</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Test-Run-Arguments"><span class="toc-number">50.1.</span> <span class="toc-text">Test Run Arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Custom-Arguments"><span class="toc-number">50.2.</span> <span class="toc-text">Custom Arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Applying-Multiple-YML-Files"><span class="toc-number">50.3.</span> <span class="toc-text">Applying Multiple YML Files</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Program-Options"><span class="toc-number">51.</span> <span class="toc-text">Test Program Options</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Options"><span class="toc-number">51.1.</span> <span class="toc-text">Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#h-%E2%80%93help"><span class="toc-number">51.1.1.</span> <span class="toc-text">-h, –help</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#l-%E2%80%93log"><span class="toc-number">51.1.2.</span> <span class="toc-text">-l, –log</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93name"><span class="toc-number">51.1.3.</span> <span class="toc-text">–name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93tag"><span class="toc-number">51.1.4.</span> <span class="toc-text">–tag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93attr"><span class="toc-number">51.1.5.</span> <span class="toc-text">–attr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93debug"><span class="toc-number">51.1.6.</span> <span class="toc-text">–debug</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93output"><span class="toc-number">51.1.7.</span> <span class="toc-text">–output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93no-colors"><span class="toc-number">51.1.8.</span> <span class="toc-text">–no-colors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93id"><span class="toc-number">51.1.9.</span> <span class="toc-text">–id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93show-skipped"><span class="toc-number">51.1.10.</span> <span class="toc-text">–show-skipped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93show-retries"><span class="toc-number">51.1.11.</span> <span class="toc-text">–show-retries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filtering"><span class="toc-number">51.1.12.</span> <span class="toc-text">Filtering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pattern"><span class="toc-number">51.1.12.1.</span> <span class="toc-text">pattern</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93only"><span class="toc-number">51.1.12.2.</span> <span class="toc-text">–only</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93skip"><span class="toc-number">51.1.12.3.</span> <span class="toc-text">–skip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93start"><span class="toc-number">51.1.12.4.</span> <span class="toc-text">–start</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93only-tags"><span class="toc-number">51.1.12.5.</span> <span class="toc-text">–only-tags</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93skip-tags"><span class="toc-number">51.1.12.6.</span> <span class="toc-text">–skip-tags</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93end"><span class="toc-number">51.1.12.7.</span> <span class="toc-text">–end</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-before"><span class="toc-number">51.1.12.8.</span> <span class="toc-text">–pause-before</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-after"><span class="toc-number">51.1.12.9.</span> <span class="toc-text">–pause-after</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-on-pass"><span class="toc-number">51.1.12.10.</span> <span class="toc-text">–pause-on-pass</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93pause-on-fail"><span class="toc-number">51.1.12.11.</span> <span class="toc-text">–pause-on-fail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93repeat"><span class="toc-number">51.1.12.12.</span> <span class="toc-text">–repeat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93retry"><span class="toc-number">51.1.12.13.</span> <span class="toc-text">–retry</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Test-Flags"><span class="toc-number">52.</span> <span class="toc-text">Test Flags</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TE"><span class="toc-number">52.1.</span> <span class="toc-text">TE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UT"><span class="toc-number">52.2.</span> <span class="toc-text">UT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SKIP"><span class="toc-number">52.3.</span> <span class="toc-text">SKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EOK"><span class="toc-number">52.4.</span> <span class="toc-text">EOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EFAIL"><span class="toc-number">52.5.</span> <span class="toc-text">EFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EERROR"><span class="toc-number">52.6.</span> <span class="toc-text">EERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESKIP"><span class="toc-number">52.7.</span> <span class="toc-text">ESKIP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XOK-1"><span class="toc-number">52.8.</span> <span class="toc-text">XOK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFAIL"><span class="toc-number">52.9.</span> <span class="toc-text">XFAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XERROR"><span class="toc-number">52.10.</span> <span class="toc-text">XERROR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XNULL"><span class="toc-number">52.11.</span> <span class="toc-text">XNULL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FAIL-NOT-COUNTED"><span class="toc-number">52.12.</span> <span class="toc-text">FAIL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ERROR-NOT-COUNTED"><span class="toc-number">52.13.</span> <span class="toc-text">ERROR_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-NOT-COUNTED"><span class="toc-number">52.14.</span> <span class="toc-text">NULL_NOT_COUNTED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-BEFORE"><span class="toc-number">52.15.</span> <span class="toc-text">PAUSE_BEFORE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE"><span class="toc-number">52.16.</span> <span class="toc-text">PAUSE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-AFTER"><span class="toc-number">52.17.</span> <span class="toc-text">PAUSE_AFTER</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-ON-PASS"><span class="toc-number">52.18.</span> <span class="toc-text">PAUSE_ON_PASS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PAUSE-ON-FAIL"><span class="toc-number">52.19.</span> <span class="toc-text">PAUSE_ON_FAIL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#REPORT"><span class="toc-number">52.20.</span> <span class="toc-text">REPORT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOCUMENT"><span class="toc-number">52.21.</span> <span class="toc-text">DOCUMENT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MANDATORY"><span class="toc-number">52.22.</span> <span class="toc-text">MANDATORY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASYNC"><span class="toc-number">52.23.</span> <span class="toc-text">ASYNC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PARALLEL"><span class="toc-number">52.24.</span> <span class="toc-text">PARALLEL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MANUAL"><span class="toc-number">52.25.</span> <span class="toc-text">MANUAL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AUTO"><span class="toc-number">52.26.</span> <span class="toc-text">AUTO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LAST-RETRY"><span class="toc-number">52.27.</span> <span class="toc-text">LAST_RETRY</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Controlling-Output"><span class="toc-number">53.</span> <span class="toc-text">Controlling Output</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#nice-Output"><span class="toc-number">53.1.</span> <span class="toc-text">nice Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#brisk-Output"><span class="toc-number">53.2.</span> <span class="toc-text">brisk Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#short-Output"><span class="toc-number">53.3.</span> <span class="toc-text">short Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#classic-Output"><span class="toc-number">53.4.</span> <span class="toc-text">classic Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#progress-Output"><span class="toc-number">53.5.</span> <span class="toc-text">progress Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fails-Output"><span class="toc-number">53.6.</span> <span class="toc-text">fails Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-fails-Output"><span class="toc-number">53.7.</span> <span class="toc-text">new-fails Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slick-Output"><span class="toc-number">53.8.</span> <span class="toc-text">slick Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#quiet-Output"><span class="toc-number">53.9.</span> <span class="toc-text">quiet Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#manual-Output"><span class="toc-number">53.10.</span> <span class="toc-text">manual Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#raw-Output"><span class="toc-number">53.11.</span> <span class="toc-text">raw Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary-Reports"><span class="toc-number">53.12.</span> <span class="toc-text">Summary Reports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Passing"><span class="toc-number">53.12.1.</span> <span class="toc-text">Passing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Failing"><span class="toc-number">53.12.2.</span> <span class="toc-text">Failing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Known"><span class="toc-number">53.12.3.</span> <span class="toc-text">Known</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unstable"><span class="toc-number">53.12.4.</span> <span class="toc-text">Unstable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Coverage"><span class="toc-number">53.12.5.</span> <span class="toc-text">Coverage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Totals"><span class="toc-number">53.12.6.</span> <span class="toc-text">Totals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Version"><span class="toc-number">53.12.7.</span> <span class="toc-text">Version</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Turning-Off-Color-Highlighting"><span class="toc-number">54.</span> <span class="toc-text">Turning Off Color Highlighting</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-no-colors-in-Code"><span class="toc-number">54.1.</span> <span class="toc-text">Use --no-colors in Code</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Enabling-Debug-Mode"><span class="toc-number">55.</span> <span class="toc-text">Enabling Debug Mode</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-debug-in-Code"><span class="toc-number">55.1.</span> <span class="toc-text">Use --debug in Code</span></a></li></ol></li></ol>
                                
                            
                        
                    </div>
                </nav>
                <div class="col-lg-9">
                    <h1 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it?"></a>What is it?</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is an open-source software testing framework that can be used for functional,
integration, acceptance and unit testing across various teams. It is designed to provide
complete control of how tests are written and executed by allowing to write tests and
define test <a href="#Flow-is">flow</a> explicitly as <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> code. It uses <a href="#Everything-is-a-Test">everything is a test</a> approach
with the focus on giving test authors flexibility in writing and running their tests.
It’s designed to meet the needs of small QA groups at software startup companies
while providing the tools to meet the formalities of the large enterprise QA groups
producing professional test process documentation that includes detailed test and
software requirements specifications as well as requirements coverage, official test
and metrics reports. Designed for large scale test analytics processing using
<a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a> and <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a> and built on top of a messaging protocol to allow
writing advanced parallel tests that require test-to-test communication
and could be executed in a hive mode on multi-node clusters.</p>
<h1 id="Differentiating-Features"><a href="#Differentiating-Features" class="headerlink" title="Differentiating Features"></a>Differentiating Features</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> has the following differentiating features that makes
it stand out from a plenty of other open and closed source test frameworks.</p>
<p><strong>Use what you need design</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> has many advanced features but it allows you to use only
the pieces that you need. For example, if you don’t want to use requirements
you don’t have to or if you don’t want to break your tests into steps or
using behavior driven step keywords that is perfectly fine. 
At the heart, <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is just a collection of Python modules so you are always
in control and you are not forced to use anything that you don’t need.</p>
<p><strong>Supports requirements oriented quality assurance process</strong></p>
<p>An enterprise quality assurance process must always revolve around <em><strong>requirements</strong></em>.
However, requirements are most often ignored in software development groups even at
large companies. <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> is designed to break that trend
and allows to write and work with requirements just like you work with code.
However, if you are not ready to use requirements then you don’t have to.</p>
<p>Whether you realize it or not the only true purpose of writing any test is
<em>to verify one or more requirements</em> and it does not really matter if you have
clearly identified these requirements or not. <em>Tests verify requirements</em> and
each requirement must be verified by either fully automated, semi-automated or
manual test. If you don’t have any tests to verify some requirement
then you can’t be sure that requirement is met or that the next version
of your software does not break it.</p>
<p>With <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> you don’t have to wait for your company’s culture related
to handling and managing requirements to change. You are able
to write and manage requirements yourself just like code. Requirements are simply
written in Markdown document where each requirement has a unique identifier and version.
These documents are the source of the requirements that you can convert to Python requirement objects 
which you can easily link with your tests. <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows
one-to-one, one-to-many, many-to-one, or many-to-many requirement to test
relationships to match real-world complexities of requirement verification.</p>
<p><strong>Allows to write test programs not just tests</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows you to write Python <em>test programs</em> not just tests. A <em>test program</em>
can execute any number of tests. This provides the unsurpassed flexibility to match any project needs.
Tests are not decoupled from test flow where the flow defines a precise order of
how tests are executed. However, you can write many kind of test runners
using the framework if you need them. For example, you can write <em>test programs</em>
that read tests cases from databases, API endpoints or file systems and trigger
your test cases based on any condition. By writing a <em>test program</em> you are in total control
of how you want to structure and approach testing of a given project. </p>
<p>Through its flexibility, <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> helps to avoid test tools fragmentation
where each project in a company sooner or later starts to use their own test framework
and nobody knows how to run tests written by other groups and reporting accross
groups becomes inconsistent and difficult to follow.</p>
<p><strong>Allows to write self-documenting tests with explicitly defined test procedures</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> provides tools for test authors to break tests into test <a href="#Step">Step</a>s and
use behavior driven step keywords such as <a href="#Given">Given</a>, <a href="#When">When</a>, <a href="#Then">Then</a> and others to make
tests and test procedures pleasantly readable. Breaking tests into steps brings the advantage
of test code becoming self-documenting, provides an easy way to auto-generate
formal documentation such as test specification without doing any extra work,
produces detailed test logs and test fail debugging.  </p>
<p>Test steps can also be made reusable allowing test authors to create reusable 
steps modules that greatly simplify writing new test scenarios. Just
like you write regular programs by using function calls you can
modularize tests by using reusable test steps. Using reusable steps
produces clean test code and greatly improves readability and maintainability
of tests.</p>
<p><strong>Allows to write asynchronous tests</strong></p>
<p>Writing asynchronous tests is as easy as writing regular tests. 
<strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> even allows you to run asynchronous and synchronous test code
in the same test program. </p>
<p><strong>Allows to auto-generate test specifications</strong></p>
<p>If your test process or your manager requires you to produce formal test
specifications that must describe procedure of each test then you can easily
auto-generate these documents using <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>.</p>
<p><strong>Supports writing semi-automated and manual tests</strong></p>
<p>Testing real-world applications usually is not done only by fully automated test scenarios.
Most often verification requires a mix of automated, semi-automated and manual tests.</p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows to unify your testing and provides uniform test reporting
no matter what type of tests you need for you project by natively supporting
authoring of automated, semi-automated and manual tests. </p>
<p><strong>Supports authoring parallel tests and executing tests in parallel</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> natively supports authoring of parallel tests and
executing tests in parallel with fine-grain control of what and where runs in parallel.
Asynchronous tests are also supported and allow to run thousands of concurrent
tests at the same time. Mixing parallel and asynchronous tests is also supported.</p>
<p><strong>Uses everything is a test approach</strong></p>
<p>It uses everything is a test approach that allows unified treatment
of any code that is executed during testing. There are no second class test code.
If test fails in setup or teardown or during execution of one of its actions
the fail is treated in exactly same way. This avoids mixing analysis of why the test failed
with test execution and results in clean and uniform approach to testing.</p>
<p><strong>Uses message based protocol</strong></p>
<p>It is built on top of a messaging protocol. This brings
many benefits including ability to transform test output and logs into variety of
different formats as well as enables advanced parallel testing.</p>
<p><strong>Supports test log storage and test data analytics using ClickHouse</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> test logs were designed to be easily stored in <a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a>.
Given that testing produces huge amounts of data this integration
brings test data analytics right to your fingertips.</p>
<p><strong>Test data visualization using Grafana</strong></p>
<p>Standard <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a> dashboards are available to visualize your test data
stored in <a target="_blank" rel="noopener" href="https://clickhouse.tech/">ClickHouse</a>. Additional dashboards can be easily created in <a target="_blank" rel="noopener" href="https://grafana.com/">Grafana</a>
to highlight test results that are the most important for your project.</p>
<p><strong>Avoids unnecessary abstraction layers</strong></p>
<p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> tries to avoid unnecessary abstraction layers such
as when test runners are decoupled from tests or the usage of behavior driven
(BDD) keywords is always tied to Gherkin specifications. These abstractions,
while providing some benefit, in most cases lead to more problems than
solutions when applied to real-world projects.</p>
<h1 id="Using-Handbook"><a href="#Using-Handbook" class="headerlink" title="Using Handbook"></a>Using Handbook</h1><p>This handbook is a one-page document that you can search using standard
browser search (<code>Ctrl-F</code>).</p>
<p>For ease of navigation you can always click any heading to go back to the table of contents. </p>
<blockquote>
<p><strong>&#9995;</strong> Try clicking <code>Using Handbook</code> heading and you will see that the page
will scroll up and the corresponding entry in the table of contents
will be highlighted in red. This handy feature will make sure you are never lost!</p>
</blockquote>
<p>There is also <span><a class="fas fa-chevron-up" style="color: orange" href="#Contents"></a><span>
icon on the bottom right of the page to allow you quickly scroll to the top.</p>
<p>Also, feel free to click on any internal or external references as you can
use your browser’s &#8678; back button to return back to where you were. </p>
<blockquote>
<p> <strong>&#9995;</strong> Try clicking <a href="#Using-Handbook">Using Handbook</a> link and then
browser’s use &#8678; back button to return to the same scroll position in the handbook.</p>
</blockquote>
<p>If you find any errors or would like to add documentation for something that is
still not documented then submit a pull request
with your changes to <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-WebSite/blob/master/source/handbook/index.md">handbook source file</a>.</p>
<h1 id="Supported-Environment"><a href="#Supported-Environment" class="headerlink" title="Supported Environment"></a>Supported Environment</h1><ul>
<li><a target="_blank" rel="noopener" href="https://ubuntu.com/">Ubuntu</a> 20.04</li>
<li><a target="_blank" rel="noopener" href="https://www.python.org/">Python 3</a> &gt;= 3.8</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Known to run on other systems such as MacOS.</p>
</blockquote>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><p>You can install the framework using <a target="_blank" rel="noopener" href="https://github.com/pypa/pip">pip3</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install testflows</span><br></pre></td></tr></table></figure>

<p>or from sources</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/testflows/TestFlows.git</span><br><span class="line">$ <span class="built_in">cd</span> TestFlows</span><br><span class="line">$ ./build ; ./install</span><br></pre></td></tr></table></figure>

<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>You can write an inline test scenario in just three lines.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and simply run it using <code>python3</code> command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ./test.py</span><br><span class="line">Jun 28,2020 14:47:02   ⟥  Scenario Hello World!</span><br><span class="line">                 2ms   ⟥⟤ OK Hello World!, /Hello World!</span><br><span class="line"></span><br><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /Hello World!</span><br><span class="line"></span><br><span class="line">1 scenario (1 ok)</span><br></pre></td></tr></table></figure>

<h1 id="Defining-Tests"><a href="#Defining-Tests" class="headerlink" title="Defining Tests"></a>Defining Tests</h1><p>You can define tests inline using classical <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a>
test definition classes or using specialized keyword classes as
<a href="#Scenario">Scenario</a>, <a href="#Feature">Feature</a>, <a href="#Module">Module</a> and the steps
such as <a href="#Background">Background</a>, <a href="#Given">Given</a>, <a href="#When">When</a>, <a href="#Then">Then</a>, <a href="#But">But</a>, <a href="#By">By</a>, <a href="#And">And</a>, and <a href="#Finally">Finally</a>.</p>
<p>In addition, you can also define sub-tests using <a href="#Check">Check</a> test definition class
or its flavours <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a> or <a href="#Critical-Major-Minor">Minor</a>. </p>
<blockquote>
<p><strong>&#9995;</strong> You are encouraged to use the specialized keyword classes to greatly improve readibiliy of
your tests and test procedures.</p>
</blockquote>
<p>Given the variety of test definition classes above, fundamentally, 
there only four core <a href="#Types">Types</a> of tests in <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> and two special types
giving us six <a href="#Types">Types</a> in total. The core <a href="#Types">Types</a> are</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#RetryIteration">RetryIteration</a> (special)</li>
<li><a href="#Step">Step</a></li>
</ul>
<p>and all other types are just a naming variation of one of the above having the following mapping</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a> (special)</li>
<li><a href="#Iteration">Iteration</a> (special)</li>
<li><a href="#RetryIteration">RetryIteration</a> (special)</li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#And">And</a> (special)</li>
</ul>
</li>
</ul>
<p>see <a href="#Types">Types</a> for more information.</p>
<h2 id="Inline"><a href="#Inline" class="headerlink" title="Inline"></a>Inline</h2><p>Inline tests can be defined anywhere in your test program by using <a href="#Defining-Tests">Test Definition Class</a>es above.
Because all test definition classes are <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/datamodel.html#context-managers">context manager</a>s, therefore they must be used
using the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> statement or <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> for asynchronous tests that leverage <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>‘s <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;My test module&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Feature(<span class="string">&quot;My test feature&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;My test scenario&quot;</span>):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">                    note(<span class="string">&quot;note message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">                    debug(<span class="string">&quot;debug message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> And(<span class="string">&quot;I do something else&quot;</span>):</span><br><span class="line">                    trace(<span class="string">&quot;trace message&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> Then(<span class="string">&quot;I check that something is True&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something <span class="keyword">is</span> <span class="literal">True</span></span><br><span class="line">                <span class="keyword">with</span> But(<span class="string">&quot;I check that something else is False&quot;</span>):</span><br><span class="line">                    <span class="keyword">assert</span> something_else <span class="keyword">is</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">finally</span>:</span><br><span class="line">                <span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">                    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Decorated"><a href="#Decorated" class="headerlink" title="Decorated"></a>Decorated</h2><p>For re-usability you can also define tests using the
<a href="#Step">TestStep</a>, <a href="#Background">TestBackground</a>, <a href="#Test">TestCase</a>, <a href="#Check">TestCheck</a>, <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>, <a href="#Critical-Major-Minor">TestMinor</a>,
<a href="#Suite">TestSuite</a>, <a href="#Feature">TestFeature</a>, <a href="#Module">TestModule</a>, and <a href="#Outline">TestOutline</a> test function decorators.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self, action=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I do some <span class="subst">&#123;action&#125;</span>&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>Similarly to how <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/classes.html#method-objects">class method</a>s take an instance of the object as the first argument, 
test functions wrapped with test decorators take an instance of the current test as the first argument
and therefore by convention the first argument is always named <code>self</code>.</p>
<h2 id="Calling-Decorated-Tests"><a href="#Calling-Decorated-Tests" class="headerlink" title="Calling Decorated Tests"></a>Calling Decorated Tests</h2><blockquote>
<p><strong>&#9995;</strong>  All arguments to tests must be passed using keyword arguments.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;driving&quot;</span>)</span><br><span class="line"><span class="comment"># not scenario(&quot;driving&quot;)</span></span><br></pre></td></tr></table></figure>

<p>Use a test definition class to run another test as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)(action=<span class="string">&quot;running&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>where the test is passed as the argument to the <code>test</code> parameter.</p>
<p>If the test does not need any arguments use a short form by passing
the test as the value of the <code>run</code> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Use the short form only when you don’t need to pass any arguments to the test.</p>
</blockquote>
<p>This will be equivalent to</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(test=scenario)()</span><br></pre></td></tr></table></figure>

<p>You can also call decorated tests directly as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scenario(action=<span class="string">&quot;swimming&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Note that <code>scenario()</code> call will only create its own <a href="#Scenario">Scenario</a> if and only if it is
running within a parent that has a higher test <a href="#Types">Type</a> such as <a href="#Feature">Feature</a> or <a href="#Module">Module</a>.</p>
<p>However, if you call it within the same test <a href="#Types">Type</a>
then it will not create its own <a href="#Scenario">Scenario</a> but will run simply as a function
within the scope of the current test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    scenario()</span><br></pre></td></tr></table></figure>

<p>will run in the scope of <code>My scenario</code> where <code>self</code> will be an instance of the</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scenario(<span class="string">&quot;My scenario&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>but</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    scenario(action=<span class="string">&quot;sliding&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will create its own test.</p>
<h1 id="Running-Tests"><a href="#Running-Tests" class="headerlink" title="Running Tests"></a>Running Tests</h1><p>Top level tests can be run using either <code>python3</code> command or directly if they are made executable.
For example with a top level test defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>you can run it with <code>python3</code> command as follows</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py</span><br></pre></td></tr></table></figure>

<p>or we can make the top level test executable and defined as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and then we can make it executable with</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test.py</span><br></pre></td></tr></table></figure>

<p>allowing us to execute it directly as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./test.py</span><br></pre></td></tr></table></figure>

<h1 id="Writing-Tests"><a href="#Writing-Tests" class="headerlink" title="Writing Tests"></a>Writing Tests</h1><p>With <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> you actually write test programs not just tests. This means
that the <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a> source file that contains <a href="#Top-Level-Test">Top Level Test</a> can be run directly if 
it is made executable and has <code>#!/usr/bin/env python3</code> 
or using <code>python3</code> command.</p>
<blockquote>
&#9995; Note that <span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> only allows one top level test in your test program. 
<p>See <a href="#Top-Level-Test">Top Level Test</a>.</p>
</blockquote>
<p>Writing tests is actually very easy given that you are in full control of your test program.
You can either define inline tests anywhere in your test program
code or define them separately as test decorated functions. </p>
<p>An inline test is defined using the <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> statement and one of the <a href="#Test-Definition-Classes">Test Definition Classes</a>.
The choice of which test definition class you should use depends only on your preference.
See <a href="#Defining-Tests">Defining Tests</a>.</p>
<p>The example from the <a href="#Hello-World">Hello World</a> shows an example of how an inline test
can be easily defined.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>The same test can be defined using <a href="#Scenario">TestScenario</a> decorated function.
See <a href="#Decorated">Decorated Tests</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> TestScenario, Name</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;Hello World!&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run `Hello World!` test</span></span><br><span class="line">hello_world()</span><br></pre></td></tr></table></figure>

<blockquote>
&#9995; Note that if the code inside the test does not raise any exception and does not
<p><a href="#Setting-Test-Results-Explicitly">set test result explicitly</a> it is considered as passing and will have <a href="#OK">OK</a> result.</p>
</blockquote>
<p>In the above example, the <code>Hello World</code> is the <a href="#Top-Level-Test">Top Level Test</a> and the only test
in the test program. </p>
<blockquote>
<p><strong>&#9995;</strong> Note that instead of just having <code>pass</code> you could <strong>add any code you want</strong>. </p>
</blockquote>
<p>The <code>Hello World</code> test will pass if no exception is raised in the
<a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with</a> block otherwise it will have a <a href="#Fail">Fail</a> or <a href="#Error">Error</a> result. <a href="#Fail">Fail</a> result is set
if code raises <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#AssertionError">AssertionError</a> any other exceptions will result in <a href="#Error">Error</a>.</p>
<p>Let’s add a failing <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/simple_stmts.html#the-assert-statement">assert</a> to <code>Hello World</code> test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">0</span>, <span class="string">&quot;1 != 0&quot;</span></span><br></pre></td></tr></table></figure>

<p>The result will be as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ python3 hello_world.py </span><br><span class="line">Nov 03,2021 17:09:17   ⟥  Scenario Hello World!</span><br><span class="line">                 8ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  assert 1 == 0, <span class="string">&quot;1 != 0&quot;</span></span><br><span class="line">                              AssertionError: 1 != 0</span><br><span class="line">                 8ms   ⟥⟤ Fail Hello World!, /Hello World!, AssertionError</span><br><span class="line">                         Traceback (most recent call last):</span><br><span class="line">                           File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                             assert 1 == 0, <span class="string">&quot;1 != 0&quot;</span></span><br><span class="line">                         AssertionError: 1 != 0</span><br></pre></td></tr></table></figure>

<p>Now raise let’s raise some other exception like <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a> to see <a href="#Error">Error</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Scenario</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">raise</span> RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ python3 hello_world.py </span><br><span class="line">Nov 03,2021 17:14:10   ⟥  Scenario Hello World!</span><br><span class="line">                 5ms   ⟥    Exception: Traceback (most recent call last):</span><br><span class="line">                                File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                                  raise RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br><span class="line">                              RuntimeError: boom!</span><br><span class="line">                 5ms   ⟥⟤ Error Hello World!, /Hello World!, RuntimeError</span><br><span class="line">                         Traceback (most recent call last):</span><br><span class="line">                           File <span class="string">&quot;hello_world.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">                             raise RuntimeError(<span class="string">&quot;boom!&quot;</span>)</span><br><span class="line">                         RuntimeError: boom!</span><br></pre></td></tr></table></figure>

<h2 id="Flexibility-In-Writing-Tests"><a href="#Flexibility-In-Writing-Tests" class="headerlink" title="Flexibility In Writing Tests"></a>Flexibility In Writing Tests</h2><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> provides unmatched flexibility in how you can author your tests and
<p>this is what makes it adaptable to your testing projects at hand.</p>
<p>Let’s see this using an example of how you could verify functionality
of a simple <code>add(a, b)</code> function.</p>
<blockquote>
&#9995; Note that this is just a toy example used for demonstration purposes only.
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">4</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(-<span class="number">5</span>,<span class="number">100</span>) == <span class="number">95</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> add(-<span class="number">5</span>,-<span class="number">5</span>) == -<span class="number">10</span>   </span><br></pre></td></tr></table></figure>

<p>Now you can put the code above anywhere you want. Let’s move it into a function.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    <span class="keyword">with</span> Feature(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">4</span></span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(-<span class="number">5</span>,<span class="number">100</span>) == <span class="number">95</span></span><br><span class="line">        <span class="keyword">with</span> Scenario(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            <span class="keyword">assert</span> add(-<span class="number">5</span>,-<span class="number">5</span>) == -<span class="number">10</span>   </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main(): <span class="comment"># short for `if __name__ == &quot;__main__&quot;:` which is ugly</span></span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We can also decide that we don’t want to use <a href="#Feature">Feature</a> and <a href="#Scenario">Scenario</a> in this case
but you’d like to use <a href="#Scenario">Scenario</a> that has multiple <a href="#Example">Example</a>s with test steps
such as <a href="#When">When</a> and <a href="#Then">Then</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with 2,2&quot;</span>):</span><br><span class="line">                r = add(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be 4&quot;</span>):</span><br><span class="line">                <span class="comment"># error() will generate detailed error message if assertion fails</span></span><br><span class="line">                <span class="keyword">assert</span> r == <span class="number">4</span>, error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + 100 == -95&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with -5,100&quot;</span>):</span><br><span class="line">                r = add(-<span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -95&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == <span class="number">95</span>, error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">&quot;I call add function with -5,-5&quot;</span>):</span><br><span class="line">                r = add(-<span class="number">5</span>, -<span class="number">5</span>)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -10&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == -<span class="number">10</span>, error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>The test code seems to be redundant so we could move the <a href="#When">When</a> and <a href="#Then">Then</a> steps into
a function <code>check_add(a, b, expected)</code> that can be called with different parameters.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_add</span>(<span class="params">a, b, expected</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -95&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check 2 + 2 == 4&quot;</span>):</span><br><span class="line">            check_add(a=<span class="number">2</span>, b=<span class="number">2</span>, expected=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + 100 == 95&quot;</span>):</span><br><span class="line">            check_add(a=-<span class="number">5</span>, b=<span class="number">100</span>, expected=<span class="number">95</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">&quot;check -5 + -5 == -10&quot;</span>):</span><br><span class="line">            check_add(a=-<span class="number">5</span>, b =-<span class="number">5</span>, expected=-<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could actually define all examples we want to check up-front and generate
<a href="#Example">Example</a> steps on the fly depending on how many examples we want to check.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_add</span>(<span class="params">a, b, expected</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -95&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>):</span><br><span class="line">        examples = [</span><br><span class="line">            (<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>),</span><br><span class="line">            (-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span>),</span><br><span class="line">            (-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span>)</span><br><span class="line">        ] </span><br><span class="line">        <span class="keyword">for</span> example <span class="keyword">in</span> examples:</span><br><span class="line">            a, b, expected = example</span><br><span class="line">            <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;a&#125;</span> + <span class="subst">&#123;b&#125;</span> == <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">                check_add(a=a, b=b, expected=expected)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could modify the above code and use <a href="#examples">Examples</a> instead of our custom list of tuples.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_add</span>(<span class="params">a, b, expected</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be -95&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, examples=Examples(<span class="string">&quot;a b expected&quot;</span>, [</span><br><span class="line">            (<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>),</span><br><span class="line">            (-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span>),</span><br><span class="line">            (-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span>)</span><br><span class="line">        ])) <span class="keyword">as</span> scenario:</span><br><span class="line">        <span class="keyword">for</span> example <span class="keyword">in</span> scenario.examples:</span><br><span class="line">            <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;example.a&#125;</span> + <span class="subst">&#123;example.b&#125;</span> == <span class="subst">&#123;example.expected&#125;</span>&quot;</span>):</span><br><span class="line">                <span class="comment"># `vars(example)` converts example named tuple to a dictionary</span></span><br><span class="line">                check_add(**<span class="built_in">vars</span>(example))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>Another option is to move to using decorated tests. See <a href="#Defining-Tests">Decorated Tests</a>.</p>
<p>Let’s move inline <a href="#Scenario">Scenario</a> into a decorated <a href="#Scenario">TestScenario</a> function with <a href="#examples">Examples</a>
and create <a href="#Example">Example</a>s for each example that we have.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;a b expected&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_add</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> self.examples:</span><br><span class="line">        a, b, expected = example</span><br><span class="line">        <span class="keyword">with</span> Example(<span class="string">f&quot;check <span class="subst">&#123;a&#125;</span> + <span class="subst">&#123;b&#125;</span> == <span class="subst">&#123;expected&#125;</span>&quot;</span>):</span><br><span class="line">            <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">                r = add(a, b)</span><br><span class="line">            <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be &#123;expected&#125;&quot;</span>):</span><br><span class="line">                <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, run=check_add)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>We could also get rid of the explicit <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/controlflow.html#for-statements">for loop</a> over examples by
using <a href="#Outline">Outline</a> with <a href="#examples">Examples</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;a b expected&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, <span class="number">100</span>, <span class="number">95</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params">-<span class="number">5</span>, -<span class="number">5</span>, -<span class="number">10</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_add</span>(<span class="params">self, a, b, expected</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check that function add(a, b)</span></span><br><span class="line"><span class="string">    returns expected result for given `a` and `b` values.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">f&quot;I call add function with <span class="subst">&#123;a&#125;</span>,<span class="subst">&#123;b&#125;</span>&quot;</span>):</span><br><span class="line">        r = add(a, b)</span><br><span class="line">    <span class="keyword">with</span> Then(<span class="string">&quot;I expect the result to be &#123;expected&#125;&quot;</span>):</span><br><span class="line">        <span class="keyword">assert</span> r == expected, error()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>():</span></span><br><span class="line">    Scenario(<span class="string">&quot;check `add(a, b)` function&quot;</span>, run=check_add)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>The <a href="#Outline">Outline</a> with <a href="#examples">Examples</a> turns out to be the exact fit for the problem.
However, there are many cases where you would want to have choice and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
provides the flexibility you need to author your tests the way that fits best for you.</p>
<h1 id="Setting-Test-Results-Explicitly"><a href="#Setting-Test-Results-Explicitly" class="headerlink" title="Setting Test Results Explicitly"></a>Setting Test Results Explicitly</h1><p>A result of any test can be set explicitly using the following result functions:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L213">fail() function</a> for <a href="#Fail">Fail</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L232">err() function</a> for <a href="#Error">Error</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L226">skip() function</a> for <a href="#Skip">Skip</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L238">null() function</a> for <a href="#Null">Null</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L207">ok() function</a> for <a href="#OK">OK</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L250">xfail() function</a> for <a href="#XFail">XFail</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L256">xerr() function</a> for <a href="#XError">XError</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L262">xnull() function</a> for <a href="#XNull">XNull</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L244">xok() function</a> for <a href="#XOK">XOK</a></li>
</ul>
<p>Here are the arguments that each result function can take. All arguments are optional.</p>
<ul>
<li><code>message</code> is used to set an optional result message</li>
<li><code>reason</code> is used to set an optional reason for the result. Usually is only set
for crossed out results such as <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a> and <a href="#XOK">XOK</a> to indicate
the reason for the result being crossed out such as a link to an opened issue</li>
<li><code>test</code> argument is usually not passed as it is set by to the current test by default.
See <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/__init__.py#L91">current() function</a>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ok(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">fail(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>, <span class="built_in">type</span>=<span class="literal">None</span>)</span><br><span class="line">skip(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">err(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">null(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xok(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xfail(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xerr(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br><span class="line">xnull(message=<span class="literal">None</span>, reason=<span class="literal">None</span>, test=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>These functions raise an exception that corresponds to appropriate result class and 
therefore unless you explicitly catch the exception the test stops
at the point in which the result function is called.</p>
<p>For example, </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    fail(<span class="string">&quot;forcing test fail&quot;</span>)</span><br><span class="line">    <span class="comment"># this line will not be reached</span></span><br></pre></td></tr></table></figure>

<p>You can also raise the result explicitly.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">raise</span> Fail(<span class="string">&quot;forcing test fail&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Fails-of-Specific-Types"><a href="#Fails-of-Specific-Types" class="headerlink" title="Fails of Specific Types"></a>Fails of Specific Types</h2><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> does not support adding types to the <a href="#Fail">Fail</a>s but
the <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L213">fail() function</a> takes an optional <code>type</code> argument that takes
one of the <a href="#Test-Definition-Classes">Test Definition Classes</a> which will be used to create a sub-test
with the name specified by the <code>message</code> and failed with the specified
<code>reason</code>.</p>
<p>The original use case is to provide a way to seperate
fails of <a href="#Check">Check</a>s into <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a> and <a href="#Critical-Major-Minor">Minor</a> without explicitly
defining <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>, or <a href="#Critical-Major-Minor">Minor</a> sub-tests.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    fail(<span class="string">&quot;some critical check&quot;</span>, reason=<span class="string">&quot;critical fail&quot;</span>, <span class="built_in">type</span>=Critical)</span><br></pre></td></tr></table></figure>

<p>The above code is equivalent to the following.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;Hello World!&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Critical(<span class="string">&quot;some critical check&quot;</span>):</span><br><span class="line">        fail(<span class="string">&quot;critical fail&quot;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="Top-Level-Test"><a href="#Top-Level-Test" class="headerlink" title="Top Level Test"></a>Top Level Test</h1><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span> only allows one top level test to exist in any given test program execution.
<p>Because a <a href="#Flow-is">Flow</a> of tests can be represented as a rooted <a href="#Tree-is">Tree</a>, a test program
exits on completion of the top level test. Therefore, any code that is defined after the top
level test <strong>will not be executed</strong>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">something_else() <span class="comment"># will not be executed</span></span><br></pre></td></tr></table></figure>

<h2 id="Renaming-Top-Test"><a href="#Renaming-Top-Test" class="headerlink" title="Renaming Top Test"></a>Renaming Top Test</h2><p>Top level test name can be changed using <a href="#%E2%80%93name">–name</a> command line argument.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--name name                                     <span class="built_in">test</span> run name</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> This is not recommended as you can break any test name patterns
that are not relative. For example, this can affect <a href="#xfails">xfails</a>, <a href="#ffails">ffails</a>, etc.</p>
</blockquote>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --name <span class="string">&quot;new top level test name&quot;</span></span><br><span class="line"> Sep 25,2021 8:55:18   ⟥  Module new top level <span class="built_in">test</span> name</span><br><span class="line"> Sep 25,2021 8:55:18     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">               661us     ⟥⟤ OK my <span class="built_in">test</span>, /new top level <span class="built_in">test</span> name/my <span class="built_in">test</span></span><br><span class="line">                 9ms   ⟥⟤ OK new top level <span class="built_in">test</span> name, /new top level <span class="built_in">test</span> name</span><br></pre></td></tr></table></figure>

<h2 id="Adding-Tags-to-Top-Test"><a href="#Adding-Tags-to-Top-Test" class="headerlink" title="Adding Tags to Top Test"></a>Adding Tags to Top Test</h2><p>On the command line, tags can be added to <a href="#Top-Level-Test">Top Level Test</a> using <a href="#%E2%80%93tag">–tag</a> option.
One or more tags can be specified.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--tag value [value ...]                         <span class="built_in">test</span> run tags</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --tag tag1 tag2</span><br><span class="line"> Sep 25,2021 8:56:58   ⟥  Module regression</span><br><span class="line">                            Tags</span><br><span class="line">                              tag1</span><br><span class="line">                              tag2</span><br><span class="line"> Sep 25,2021 8:56:58     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">               640us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                 9ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="Adding-Attributes-to-Top-Test"><a href="#Adding-Attributes-to-Top-Test" class="headerlink" title="Adding Attributes to Top Test"></a>Adding Attributes to Top Test</h2><p>Attributes of the <a href="#Top-Level-Test">Top Level Test</a> can be used to associate important
information with your test run. For example, common attributes include
tester name, build number, CI/CD job id, artifacts URL and many others.</p>
<blockquote>
<p><strong>&#9995;</strong> These attributes can be used extensively when filtering test runs
in test results database.</p>
</blockquote>
<p>On the command line, attributes can be added to <a href="#Top-Level-Test">Top Level Test</a> using <a href="#%E2%80%93attr">–attr</a> option.
One or more attributes can be specified.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--attr name=value [name=value ...]              <span class="built_in">test</span> run attributes</span><br></pre></td></tr></table></figure>

<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ python3 top_name.py --attr build=21.10.1 tester=<span class="string">&quot;Vitaliy Zakaznikov&quot;</span> job_id=4325432 job_url=<span class="string">&quot;https://jobs.server.com/4325432&quot;</span></span><br><span class="line"> Sep 25,2021 9:04:11   ⟥  Module regression</span><br><span class="line">                            Attributes</span><br><span class="line">                              build</span><br><span class="line">                                21.10.1</span><br><span class="line">                              tester</span><br><span class="line">                                Vitaliy Zakaznikov</span><br><span class="line">                              job_id</span><br><span class="line">                                4325432</span><br><span class="line">                              job_url</span><br><span class="line">                                https://jobs.server.com/4325432</span><br><span class="line"> Sep 25,2021 9:04:11     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">               781us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                10ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="Custom-Top-Test-Id"><a href="#Custom-Top-Test-Id" class="headerlink" title="Custom Top Test Id"></a>Custom Top Test Id</h2><p>By default <a href="#Top-Level-Test">Top Level Test</a> test id is generated automatically using <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)">UUIDv1</a>. However,
if needed, you can specify custom id value using <a href="#%E2%80%93id">–id</a> test program option.</p>
<blockquote>
<p><strong>&#9995;</strong> Specifying <a href="#Top-Level-Test">Top Level Test</a> id should only be done by advanced
users as each test run must have a unique id. </p>
</blockquote>
<p>In general, the most common use case when you need to specify custom <a href="#%E2%80%93id">–id</a>
is when you need to know <a href="#Top-Level-Test">Top Level Test</a> id before running your test program.
Therefore, you would generate <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)">UUIDv1</a> externaly using for example <code>uuid</code> utility</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ uuid</span><br><span class="line">52da6a26-1e54-11ec-9d7b-cf20ccc24475</span><br></pre></td></tr></table></figure>
<p>and passing the generated value to your test program.</p>
<p>For example, give the following test program</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>if it is executed without <a href="#%E2%80%93id">–id</a> you can check top level test id by looking at <a href="#raw-Output"><code>raw</code></a> output
messages and looking at <code>test_id</code> field.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 id.py -o raw</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,...,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/8a75f8b2-1e52-11ec-8830-cb614fe11752&quot;</span>,...&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Now if you specify <a href="#%E2%80%93id">–id</a> then you will see that <code>test_id</code> field of each message
will contain the new id.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python3 id.py -o raw --id 112233445566</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,...,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/112233445566&quot;</span>,...&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h1 id="Logs"><a href="#Logs" class="headerlink" title="Logs"></a>Logs</h1><p>The framework produces <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compressed logs that contains <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> encoded messages. For example,
<br>
<br></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;message_keyword&quot;</span>:<span class="string">&quot;TEST&quot;</span>,<span class="attr">&quot;message_hash&quot;</span>:<span class="string">&quot;ccd1ad1f&quot;</span>,<span class="attr">&quot;message_object&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;message_num&quot;</span>:<span class="number">2</span>,<span class="attr">&quot;message_stream&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;message_level&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;message_time&quot;</span>:<span class="number">1593887847.045375</span>,<span class="attr">&quot;message_rtime&quot;</span>:<span class="number">0.001051</span>,<span class="attr">&quot;test_type&quot;</span>:<span class="string">&quot;Test&quot;</span>,<span class="attr">&quot;test_subtype&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;test_id&quot;</span>:<span class="string">&quot;/68b96288-be25-11ea-8e14-2477034de0ec&quot;</span>,<span class="attr">&quot;test_name&quot;</span>:<span class="string">&quot;/My test&quot;</span>,<span class="attr">&quot;test_flags&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;test_cflags&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;test_level&quot;</span>:<span class="number">1</span>,<span class="attr">&quot;test_uid&quot;</span>:<span class="literal">null</span>,<span class="attr">&quot;test_description&quot;</span>:<span class="literal">null</span>&#125;</span><br></pre></td></tr></table></figure>

<p>Each message is a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> object. Object fields depend on the type of the message that is specified by the <code>message_keyword</code>.</p>
<p>Logs can be decompressed using either standard <code>xzcat</code> utility</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xzcat test.log</span><br></pre></td></tr></table></figure>

<p>or <code>tfs transform decompress</code> command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform decompress</span><br></pre></td></tr></table></figure>

<h2 id="Saving-Log-File"><a href="#Saving-Log-File" class="headerlink" title="Saving Log File"></a>Saving Log File</h2><p>Test log can be saved into a file by specifying <code>-l</code> or <code>--log</code> option when running the test. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">log</span> test.log</span><br></pre></td></tr></table></figure>

<h2 id="Transforming-Logs"><a href="#Transforming-Logs" class="headerlink" title="Transforming Logs"></a>Transforming Logs</h2><p>Test logs can be transformed using <code>tfs transform</code> command. See <code>tfs transform --help</code>
for a detailed list available transformations.</p>
<h3 id="nice"><a href="#nice" class="headerlink" title="nice"></a>nice</h3><p>The <code>tfs transform nice</code> command can be used to transform test log into a <code>nice</code> output format which the default output
used for the <code>stdout</code>.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform nice</span><br><span class="line">Jul 04,2020 19:20:21   ⟥  Module filters</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Scenario test_0</span><br><span class="line">Jul 04,2020 19:20:21       ⟥  Step first step</span><br><span class="line">               596us       ⟥⟤ OK first step, /filters/test_0/first step</span><br><span class="line">                 1ms     ⟥⟤ OK test_0, /filters/test_0</span><br><span class="line">Jul 04,2020 19:20:21     ⟥  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="short"><a href="#short" class="headerlink" title="short"></a>short</h3><p>The <code>tfs transform short</code> command can be used to transform test log into a <code>short</code> output format which contains test procedure
and test results.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform short</span><br><span class="line">Module filters</span><br><span class="line">  Scenario test_0</span><br><span class="line">    Step first step</span><br><span class="line">    OK</span><br><span class="line">  OK</span><br><span class="line">  Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="slick"><a href="#slick" class="headerlink" title="slick"></a>slick</h3><p>The <code>tfs transform slick</code> command can be used to transform test log into a <code>slick</code> output format which contains only test names
with results provided as icons in front of the test name. This output format is very concise.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform slick</span><br><span class="line">➤ Module filters</span><br><span class="line">  ✔ Scenario test_0</span><br><span class="line">  ➤ Suite suite 0</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="dots"><a href="#dots" class="headerlink" title="dots"></a>dots</h3><p>The <code>tfs transform dots</code> command can be used to transform test log into a <code>dots</code> output format which outputs dots
for each executed test.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform dots</span><br><span class="line">.........................</span><br></pre></td></tr></table></figure>

<h3 id="raw"><a href="#raw" class="headerlink" title="raw"></a>raw</h3><p>The <code>tfs transform raw</code> command can be used to transform a test log into a <code>raw</code> output format which contains raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a>
messages.</p>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs transform raw</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;489eeba5&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:0,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:1,<span class="string">&quot;message_time&quot;</span>:1593904821.784232,<span class="string">&quot;message_rtime&quot;</span>:0.001027,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/ee772b86-be4c-11ea-8e14-2477034de0ec&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/filters&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:0,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1,<span class="string">&quot;protocol_version&quot;</span>:<span class="string">&quot;TFSPv2.1&quot;</span>&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h3><p>The <code>tfs transform compact</code> command can be used to transform a test log into a <code>compact</code> format which only contains
raw <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> test definition and result messages while omiting all messages for the steps.
It is used to create compact test logs used for comparison reports.</p>
<h3 id="compress"><a href="#compress" class="headerlink" title="compress"></a>compress</h3><p>The <code>tfs transform compress</code> command is used to compress a test log with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h3 id="decompress"><a href="#decompress" class="headerlink" title="decompress"></a>decompress</h3><p>The <code>tfs transform decompress</code> command is used to decompress a test log compressed with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">LZMA</a> compression algorithm.</p>
<h1 id="Creating-Reports"><a href="#Creating-Reports" class="headerlink" title="Creating Reports"></a>Creating Reports</h1><p>Test logs can be used to create reports using <code>tfs report</code> command. See <code>tfs report --help</code> for a list of available reports.</p>
<h2 id="results"><a href="#results" class="headerlink" title="results"></a>results</h2><p>A results report can be generated from a test log using <code>tfs report results</code> command.
The report can be generated in either <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> format (default) or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a> format
by specifying <code>--format json</code> option.
The report in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs report results | tfs document convert &gt; report.html</span><br></pre></td></tr></table></figure>

<p>See <code>tfs report results --help</code> for details.</p>
<h2 id="coverage"><a href="#coverage" class="headerlink" title="coverage"></a>coverage</h2><p>Requirements coverage report can be generated from a test log using <code>tfs report coverage</code> command. The report is created in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>
and can be converted to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/HTML">HTML</a> using <code>tfs document convert</code> command. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs report coverage requirements.py | tfs document convert &gt; coverage.html</span><br></pre></td></tr></table></figure>

<p>See <code>tfs report coverage --help</code> for details.</p>
<h2 id="compare"><a href="#compare" class="headerlink" title="compare"></a>compare</h2><p>A comparison report can be generated using one of the <code>tfs report compare</code> commands.</p>
<h3 id="results-1"><a href="#results-1" class="headerlink" title="results"></a>results</h3><p>A results comparison report can be generated using <code>tfs report compare results</code> command. See <code>tfs report compare results --help</code> for details.</p>
<h3 id="metrics"><a href="#metrics" class="headerlink" title="metrics"></a>metrics</h3><p>A metrics comparison report can be generated using <code>tfs report compare metrics</code> command. See <code>tfs report compare metrics --help</code> for details.</p>
<h2 id="specification"><a href="#specification" class="headerlink" title="specification"></a>specification</h2><p>A test specification for the test run can be generated using <code>tfs report specification</code> command. See <code>tfs report specification --help</code> for details.</p>
<h1 id="Test-Results"><a href="#Test-Results" class="headerlink" title="Test Results"></a>Test Results</h1><p>Any given test will have one of the following results.</p>
<h2 id="OK"><a href="#OK" class="headerlink" title="OK"></a>OK</h2><p>Test has passed.</p>
<h2 id="Fail"><a href="#Fail" class="headerlink" title="Fail"></a>Fail</h2><p>Test has failed.</p>
<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p>Test produced an error.</p>
<h2 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h2><p>Test result was not set.</p>
<h2 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h2><p>Test was skipped.</p>
<h2 id="XOK"><a href="#XOK" class="headerlink" title="XOK"></a>XOK</h2><p><a href="#OK">OK</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XFail"><a href="#XFail" class="headerlink" title="XFail"></a>XFail</h2><p><a href="#Fail">Fail</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XError"><a href="#XError" class="headerlink" title="XError"></a>XError</h2><p><a href="#Error">Error</a> result was crossed out. Result is considered as passing.</p>
<h2 id="XNull"><a href="#XNull" class="headerlink" title="XNull"></a>XNull</h2><p><a href="#Null">Null</a> result was crossed out. Result is considred as passing.</p>
<h1 id="Test-Parameters"><a href="#Test-Parameters" class="headerlink" title="Test Parameters"></a>Test Parameters</h1><p>Test parameters can be used to set attributes of a test. Here is a list of most common
parameters for a test:</p>
<ul>
<li><a href="#name">name</a></li>
<li><a href="#flags">flags</a></li>
<li>uid</li>
<li><a href="#tags">tags</a></li>
<li><a href="#attributes">attributes</a></li>
<li><a href="#requirements">requirements</a></li>
<li><a href="#examples">examples</a></li>
<li>description</li>
<li><a href="#xfails">xfails</a></li>
<li><a href="#xflags">xflags</a></li>
<li><a href="#ffails">ffails</a></li>
<li>only</li>
<li>skip</li>
<li>start</li>
<li>end</li>
<li>only_tags</li>
<li>skip_tags</li>
<li>args</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Most parameter names match the names of the attributes of the test which they set.
For example, <a href="#name">name</a> parameter sets the name attribute of the test.</p>
</blockquote>
<p>When test is defined inline then parameters can be specified right when test definition class is instantiated.
The first parameter is always <code>name</code> that sets the name of the test. The other parameters are usually
specified using keyword arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My test&quot;</span>, description=<span class="string">&quot;This is a description of an inline test&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Naming-Tests"><a href="#Naming-Tests" class="headerlink" title="Naming Tests"></a>Naming Tests</h1><p>You can set the name of any test either by setting the <a href="#name">name</a> parameter of the inline test
or using the <a href="#name">Name</a> decorator if the test is defined as a decorated function.
The name of the test can be accessed using the <code>name</code> attribute of the test.</p>
<h2 id="name"><a href="#name" class="headerlink" title="name"></a>name</h2><p>The <a href="#name">name</a> parameter of the test can be use used to set the <a href="#name">name</a> of any inline test. The <a href="#name">name</a> parameter
must be passed a <code>str</code> which will define the name of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> For all test definition classes the first parameter is always the <a href="#name">name</a>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.name)</span><br></pre></td></tr></table></figure>

<h2 id="Name"><a href="#Name" class="headerlink" title="Name"></a>Name</h2><p>A <a href="#name">Name</a> decorator can be used to set the <a href="#name">name</a> of any test that is defined using a decorated function.</p>
<blockquote>
<p><strong>&#9995;</strong> The name of test defined using a decorated function
is set to the name of the function if the <a href="#name">Name</a> decorator is not used.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;The name of the scenario&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<p>or if the <a href="#name">Name</a> decorator is not used</p>
<blockquote>
<p><strong>&#9995;</strong> Note that any underscores will be replaced with spaces in the name of the test.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">the_name_of_the_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.name)</span><br></pre></td></tr></table></figure>

<h1 id="Setting-Test-Flags"><a href="#Setting-Test-Flags" class="headerlink" title="Setting Test Flags"></a>Setting Test Flags</h1><p>You can set the <a href="#Test-Flags">Test Flags</a> of any test either by setting the <a href="#flags">flags</a> parameter of the inline test
or using the <a href="#flags">Flags</a> decorator if the test is defined as a decorated function.
The flags of the test can be accessed using the <code>flags</code> attribute of the test.</p>
<h2 id="flags"><a href="#flags" class="headerlink" title="flags"></a>flags</h2><p>The <a href="#flags">flags</a> parameter of the test can be use used to set the <a href="#flags">flags</a> of any inline test. The <a href="#flags">flags</a> parameter
must be passed valid flag or multiple flags combined with binary <code>OR</code> opertor.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, flags=TE) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.flags)</span><br></pre></td></tr></table></figure>

<h2 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a>Flags</h2><p>A <a href="#flags">Flags</a> decorator can be used to set the <a href="#flags">flags</a> of any test that is defined using a decorated function.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">TE</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.flags)</span><br></pre></td></tr></table></figure>

<h1 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h1><p>You can add command line arguments to the top level test either by setting <a href="#argparser">argparser</a> parameter of the inline test
or using <a href="#ArgumentParser">ArgumentParser</a> decorator if top test is defined as a decorated function.</p>
<h2 id="argparser"><a href="#argparser" class="headerlink" title="argparser"></a>argparser</h2><p>The <a href="#argparser">argparser</a> parameter can be used to set a custom command line argument parser by passing it a function that takes <code>parser</code> as the first
parameter. This function will be called with an instance of <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html">argparse</a> parser instance as the argument for the <code>parser</code> parameter.
The values of the command line arguments can be accessed using the <code>attributes</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that all arguments of the top level test become its <code>attributes</code>.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argparser</span>(<span class="params">parser</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, argparser=argparser) <span class="keyword">as</span> module:</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg0&quot;</span>].value)</span><br><span class="line">    note(module.attributes[<span class="string">&quot;arg1&quot;</span>].value)</span><br></pre></td></tr></table></figure>

<h2 id="ArgumentParser"><a href="#ArgumentParser" class="headerlink" title="ArgumentParser"></a>ArgumentParser</h2><p>If <a href="#Module">Module</a> is defined using a decorated function then <a href="#ArgumentParser">ArgumentParser</a> decorator can be used to set custom command line argument parser.
The values of the custom command line arguments will be passed to the decorated function as test arguments and therefore
the decorated function must take the first parameters with the same name as command line arguments.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argparser</span>(<span class="params">parser</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Custom command line arguments.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param parser: an instance of argparse parser.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg0&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 0&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&quot;--arg1&quot;</span>, action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">        <span class="built_in">help</span>=<span class="string">&quot;argument 1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@ArgumentParser(<span class="params">argparser</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self, arg0, arg1</span>):</span></span><br><span class="line">    note(arg0)</span><br><span class="line">    note(arg1)</span><br></pre></td></tr></table></figure>

<p>When custom command line argument parser is defined then the help messages obtained using <code>-h</code> or <code>--help</code> option will include
the description of the custom arguments. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python3 ./test.py</span><br><span class="line">...</span><br><span class="line"><span class="built_in">test</span> arguments:</span><br><span class="line">  --arg0                                          argument 0</span><br><span class="line">  --arg1                                          argument 1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Filtering-Tests-By-Name"><a href="#Filtering-Tests-By-Name" class="headerlink" title="Filtering Tests By Name"></a>Filtering Tests By Name</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> allows to control which tests to run during any
specific test program run using advanced test filtering <a href="#pattern">pattern</a>s.
Test filters can be either specified in the code or controlled using command line
options.</p>
<p>In both cases test filtering is performed by setting <code>skips</code>, <code>onlys</code>, <code>skip_tags</code>
and <code>only_tags</code> attributes of a test. These attributes are propagated down
to sub-tests as long as filtering <a href="#pattern">pattern</a> has a chance of matching
test name. Therefore, parent test filtering attributes, if specified,
always override the same attributes of any of its sub-tests if the parent test
filter is applicable to the sub-test and could match either the sub-test name
or any of the sub-test children names.</p>
<p>Test are filtered using a <a href="#pattern">pattern</a>.
The <a href="#pattern">pattern</a> is used to match test names and <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> uses 
<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a>s that support wildcards where</p>
<ul>
<li><code>/</code> is path level separator</li>
<li><code>*</code> matches anything (zero or more characters)</li>
<li><code>?</code> matches any single character</li>
<li><code>[seq]</code> matches any character in seq</li>
<li><code>[!seq]</code> matches any character not in seq</li>
<li><code>:</code> matches one or more characters only at the current path level</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Note that for a literal match, you must wrap the meta-characters in brackets
where <code>[?]</code> matches the character <code>?</code>.</p>
</blockquote>
<p>It is important to remember that execution of test program results in a <a href="#Tree-is">Tree</a> where
each test is node and test name being a unique path to this node in the <a href="#Tree-is">Tree</a>.
The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a>s work well because test program
execution <a href="#Tree-is">Tree</a> is similar to the structure of a file system.</p>
<p>Filtering tests is then nothing but selecting which nodes in the tree should be
selected and which shall be skipped. Filtering is performed by matching the <a href="#pattern">pattern</a>
to the test name.</p>
<p>Below is a diagram that depicts a simple test program execution <a href="#Tree-is">Tree</a>.</p>
<p>&#128270; <strong>Test Program Tree</strong></p>
<img src="/handbook/assets/flow.png" alt="Test Program Tree" style="width: 100%">

<p>During test program execution, when all tests are executed sequentially,
the <a href="#Tree-is">Tree</a> is traversed in a depth first order. </p>
<p>The order of execution of tests shown is the diagram above is as follows</p>
<blockquote>
<ul>
<li>/Top Test</li>
<li>/Top Test/Suite A</li>
<li>/Top Test/Suite A/Test A/</li>
<li>/Top Test/Suite A/Test A/Step A</li>
<li>/Top Test/Suite A/Test A/Step B</li>
<li>/Top Test/Suite A/Test B/</li>
<li>/Top Test/Suite A/Test B/Step A</li>
<li>/Top Test/Suite A/Test B/Step B</li>
</ul>
</blockquote>
<p>and this order of execution forms the <a href="#Flow-is">Flow</a> of the test program.
This <a href="#Flow-is">Flow</a> can also be shown graphically as in the diagram below where depth first 
order of execution is highlighted by the magenta colored arrows.</p>
<p>&#128270; <strong>Test Program Tree Traversal</strong> <em>(sequential)</em></p>
<img src="/handbook/assets/flow_traversal.png" alt="Test Program Tree Traversal" style="width: 100%">

<p>Skipping a test then means that the body of the test is skipped along with the sub-tree
that is below the corresponding test node.</p>
<p>When we want to include a test 
it usually means that we also want to execute the test along with all the tests
that form the sub-tree below the coresponding test node and therefore
the <a href="#pattern">pattern</a> that indicates which tests should be included most of the time ends with <code>/*</code>.</p>
<p>For example, </p>
<blockquote>
<p><code>/Top Test/Suite A/Test A/*</code> <a href="#pattern">pattern</a> will match <code>/Top Test/Suite A/Test A</code>
and all its sub-tests which are <code>/Top Test/Suite A/Test A/Step A</code> and
<code>/Top Test/Suite A/Test A/Step B</code> because they also match the specified <a href="#pattern">pattern</a> as
it ends with <code>/*</code> where <code>*</code> matches any zero or more characters.</p>
</blockquote>
<p>Internally <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> converts all <a href="#pattern">pattern</a>s into
regular expressions but these expressions become very complex and therefore
not practicle to be specified explicitely.</p>
<p>Let’s see how test filtering can be specified either using command line or inside the
test program code.</p>
<h2 id="–only-option"><a href="#–only-option" class="headerlink" title="–only option"></a><a href="#%E2%80%93only">–only</a> option</h2><p>You can specify which tests you want to include in your test run using <a href="#%E2%80%93only">–only</a>
option. This option takes one or more test name <a href="#pattern">pattern</a>s that if not matched
will cause the test to be skipped.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--only pattern [pattern ...]                    run only selected tests</span><br></pre></td></tr></table></figure>

<p>If you pass a relative pattern, any pattern that does not start with <code>/</code>, 
then the pattern will be anchored to the top level test.
For example, <a href="#pattern">pattern</a> <code>Suite A/*</code> for the example below will become
<code>/Top Test/Suite A/*</code>.</p>
<p>Let’s practice. Given this example test program,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">   <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br><span class="line">   <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">       <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_suite</span>(<span class="params">self</span>):</span></span><br><span class="line">   Scenario(<span class="string">&quot;Test A&quot;</span>, run=my_scenario)</span><br><span class="line">   Scenario(<span class="string">&quot;Test B&quot;</span>, run=my_scenario)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;Top Test&quot;</span>):</span><br><span class="line">   Suite(<span class="string">&quot;Suite A&quot;</span>, run=my_suite)</span><br><span class="line">   Suite(<span class="string">&quot;Suite B&quot;</span>, run=my_suite)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>the following command will run only <code>Suite A</code> and its sub-tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;Suite A/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To select only running <code>Test A</code> in <code>Suite A</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To select running any test at second level that ends with letter <code>B</code>.
This will select every test in <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 filtering.py --only <span class="string">&quot;/Top Test/:B/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>To run only <code>Test A</code> in <code>Suite A</code> and <code>Test B</code> in <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A/*&quot;</span> <span class="string">&quot;/Top Test/Suite B/Test B/*&quot;</span></span><br></pre></td></tr></table></figure>

<p>If you forget to specify <code>/*</code> at the end your test <a href="#pattern">pattern</a> then 
tests that are not mandatory will be skipped.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<p>From the output below you can see that steps inside <code>Test A</code> which
are <code>Step A</code> and <code>Step B</code> are skipped as these tests don’t have
<a href="#MANDATORY">MANDATORY</a> flag set.</p>
<blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sep 27,2021 14:19:46   ⟥  Module Top Test</span><br><span class="line">Sep 27,2021 14:19:46     ⟥  Suite Suite A</span><br><span class="line">Sep 27,2021 14:19:46       ⟥  Scenario Test A</span><br><span class="line">                3ms       ⟥⟤ OK Test A, /Top Test/Suite A/Test A</span><br><span class="line">                6ms     ⟥⟤ OK Suite A, /Top Test/Suite A</span><br><span class="line">               18ms   ⟥⟤ OK Top Test, /Top Test</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and 
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>If you want to see which tests where skipped you can specify <a href="#%E2%80%93show-skipped">–show-skipped</a> option.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<h2 id="–skip-option"><a href="#–skip-option" class="headerlink" title="–skip option"></a><a href="#%E2%80%93skip">–skip</a> option</h2><p>You can specify which tests you want to skip in your test run using <a href="#%E2%80%93skip">–skip</a>
option. This option takes one of more test name <a href="#pattern">pattern</a>s that
if match will cause the test be skipped. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--skip pattern [pattern ...]                    skip selected tests</span><br></pre></td></tr></table></figure>

<p>Skipping test means that a <a href="#Skip">SKIP</a> flag will be added to the test, the body
of the test will not be executed and the result of the test will be set to <a href="#Skip">Skip</a>.
By default, most output formats do not show <a href="#Skip">Skip</a>ped tests and thus you must
use <a href="#%E2%80%93show-skipped">–show-skipped</a> option to see them.</p>
<p>Just like for <a href="#%E2%80%93only-option">–only option</a>, if you pass a relative pattern, any pattern that does not start with <code>/</code>, 
then the <a href="#pattern">pattern</a> will be anchored to the top level test.
For example, the <a href="#pattern">pattern</a> <code>Suite A/*</code> for the example below will become
<code>/Top Test/Suite A/*</code>.</p>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and 
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>Here are a couple of examples that are based on the same example test program
that is used in the <a href="#%E2%80%93only-option">–only option</a> section above.</p>
<blockquote>
<p><strong>&#9995;</strong> Unlike for the <a href="#%E2%80%93only-option">–only option</a> the <a href="#pattern">pattern</a>s for <a href="#%E2%80%93skip">–skip</a>
do not have to end with <code>/*</code> as skipping a test automatically
skips any sub-tests of the test being skipped.</p>
</blockquote>
<p>To skip running <code>Test A</code> in <code>Suite A</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --skip <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<p>To skip running any test at second level that ends with letter <code>B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 filtering.py --skip <span class="string">&quot;/Top Test/:B&quot;</span></span><br></pre></td></tr></table></figure>

<p>Here is an example of combining <a href="#%E2%80%93only">–only</a> option with <a href="#%E2%80%93show-skipped">–show-skipped</a> option
to show <a href="#Skip">Skip</a>ped tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --skip <span class="string">&quot;/Top Test/Suite A/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">✔ [ Skip ] /Top Test/Suite A/Test A</span><br></pre></td></tr></table></figure>

<p>Now let’s skip <code>Test A</code> in either <code>Suite A</code> or <code>Suite B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --skip <span class="string">&quot;/Top Test/:/Test A&quot;</span> --show-skipped</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">✔ [ Skip ] /Top Test/Suite A/Test A</span><br><span class="line">✔ [ Skip ] /Top Test/Suite B/Test A</span><br></pre></td></tr></table></figure>

<h2 id="–only-and-–skip"><a href="#–only-and-–skip" class="headerlink" title="–only and –skip"></a><a href="#%E2%80%93only">–only</a> and <a href="#%E2%80%93skip">–skip</a></h2><p>You can combine selecting and skipping tests by specifying both <a href="#%E2%80%93only">–only</a> and
<a href="#%E2%80%93skip">–skip</a> options. See <a href="#%E2%80%93only-option">–only option</a> and <a href="#%E2%80%93skip-option">–skip option</a> sections above.</p>
<p>When <a href="#%E2%80%93only">–only</a> and <a href="#%E2%80%93skip">–skip</a> are specified at the same time the <a href="#%E2%80%93only">–only</a> option
is applied first and selects a list of tests that will be run. If <a href="#%E2%80%93skip">–skip</a> option
is present then it can only filter down the selected tests.</p>
<blockquote>
<p><strong>&#9995;</strong> Remember that tests with <a href="#MANDATORY">MANDATORY</a> flag cannot be skipped and 
<a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps always have <a href="#MANDATORY">MANDATORY</a> flag set.</p>
</blockquote>
<p>For example, using example test program found in <a href="#%E2%80%93only-option">–only option</a> section
we can select to run <code>Test A</code> in either <code>Suite A</code> or <code>Suite B</code> but then
skip <code>Test A</code> in <code>Suite B</code> using <a href="#%E2%80%93skip-option">–skip option</a> as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/Top Test/:/Test A&quot;</span> --skip <span class="string">&quot;Suite B/Test A&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /Top Test/Suite A/Test A</span><br><span class="line">✔ [ OK ] /Top Test/Suite A</span><br><span class="line">✔ [ OK ] /Top Test/Suite B</span><br><span class="line">✔ [ OK ] /Top Test</span><br></pre></td></tr></table></figure>

<p>As you can see from the output above the <code>Suite B</code> gets started but all its tests are skipped
as <code>Test B</code> did not match the <a href="#pattern">pattern</a> specified to the <a href="#%E2%80%93only">–only</a> 
and <code>Test A</code> was skipped by the <a href="#%E2%80%93skip">–skip</a>.</p>
<h2 id="Filtering-Tests-In-Code"><a href="#Filtering-Tests-In-Code" class="headerlink" title="Filtering Tests In Code"></a>Filtering Tests In Code</h2><p>In your test program you can filter child tests to control what tests are included or skipped 
by setting <code>only</code> and <code>skip</code> test attributes.</p>
<h3 id="only-and-skip-Arguments"><a href="#only-and-skip-Arguments" class="headerlink" title="only and skip Arguments"></a><code>only</code> and <code>skip</code> Arguments</h3><p>When test is defined inline you can explicitly set filtering using <code>only</code> and <code>skip</code>
arguments. These arguments either take a list of <a href="#pattern">pattern</a>s or you can use
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L500">Onlys class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L515">Skips class</a> respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Onlys(pattern, ...)</span><br></pre></td></tr></table></figure>

<p>or </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Skips(pattern,...)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L500">Onlys class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L515">Skips class</a> can also act as decorators
to set <code>only</code> and <code>skip</code> attributes of decorated tests.
See <a href="#Onlys-and-Skips-Decorators"><code>Onlys</code> and <code>Skips</code> Decorators</a>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only=[pattern,...], skip=[pattern,...])</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only=Onlys(pattern,...), skip=Skips(pattern,...))</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;Test A&quot;</span>, only=[<span class="string">&quot;Step B&quot;</span>]): <span class="comment"># run only &quot;Step B&quot;</span></span><br><span class="line">        my_scenario()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Scenario(<span class="string">&quot;Test B&quot;</span>, skip=Skips(<span class="string">&quot;Step B&quot;</span>)): <span class="comment"># run only &quot;Step A&quot;</span></span><br><span class="line">        my_scenario()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    my_suite()</span><br></pre></td></tr></table></figure>

<h3 id="Onlys-and-Skips-Decorators"><a href="#Onlys-and-Skips-Decorators" class="headerlink" title="Onlys and Skips Decorators"></a><code>Onlys</code> and <code>Skips</code> Decorators</h3><p>You can also specify <code>only</code> and <code>skip</code> attributes of decorated tests
using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L500">Onlys class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L515">Skips class</a> that can act as decorators to
set <code>only</code> and <code>skip</code> attributes of a decorated test respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Onlys(<span class="params">pattern, ...</span>)</span></span><br></pre></td></tr></table></figure>

<p>or </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Skips(<span class="params">pattern,...</span>)</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step A&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;Step B&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Onlys(<span class="params"><span class="string">&quot;Step B&quot;</span></span>) </span><span class="comment"># run only &quot;Step B&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_A</span>(<span class="params">self</span>):</span></span><br><span class="line">    my_scenario()</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Skips(<span class="params"><span class="string">&quot;Step B&quot;</span></span>) </span><span class="comment"># run only &quot;Step A</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_B</span>(<span class="params">self</span>):</span></span><br><span class="line">    my_scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Filtering-Tests-By-Tags"><a href="#Filtering-Tests-By-Tags" class="headerlink" title="Filtering Tests By Tags"></a>Filtering Tests By Tags</h1><p>In addition to filtering test by name you can also filter them by tags.
When you filter by tags a <code>type</code> must be specified to indicate which test <a href="#Types">Types</a>
should have the tag.</p>
<blockquote>
<p><strong>&#9995;</strong> Filtering test <a href="#Step">Step</a>s by tags is not supported.</p>
</blockquote>
<h2 id="Tags-Filtering-type"><a href="#Tags-Filtering-type" class="headerlink" title="Tags Filtering type"></a>Tags Filtering <code>type</code></h2><p>The <code>type</code> can be one of the following:</p>
<ul>
<li><code>test</code> will require all tests with <a href="#Types">Test Type</a> to have the tag<ul>
<li><code>scenario</code> is just an alias for <code>test</code></li>
</ul>
</li>
<li><code>suite</code> will require all tests with <a href="#Types">Suite Type</a> to have the tag<ul>
<li><code>feature</code> is just an alias for <code>suite</code></li>
</ul>
</li>
<li><code>module</code> will require all tests with <a href="#Types">Module Type</a> to have the tag</li>
<li><code>any</code> will require all test with either <a href="#Types">Test Type</a>, <a href="#Types">Suite Type</a> or <a href="#Types">Module Type</a> to have the tag</li>
</ul>
<h2 id="only-tags-option"><a href="#only-tags-option" class="headerlink" title="--only-tags option"></a><code>--only-tags</code> option</h2><p>If you assign tags to your tests then <a href="#%E2%80%93only-tags">–only-tags</a> option can be used to select
only the tests that match a particular tag. This option takes values
of the form <code>type:tag1</code> where <a href="#Tags-Filtering-type">type</a> is used to specify a test type
of the tests that must have the specified tag.</p>
<p>If you want to select tests that must have more than one tag use <code>type:tag1,tag2,...</code> form.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--only-tags <span class="built_in">type</span>:tag,... [<span class="built_in">type</span>:tag,... ...]     run only tests with selected tags</span><br></pre></td></tr></table></figure>

<p>For example, you can select all tests with <a href="#Types">Suite Type</a> that have <code>tag A</code> tag
as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags suite:<span class="string">&quot;tag A&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that either have <code>tag A</code> <strong>OR</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that have both <code>tag A</code> <strong>AND</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can select all tests with <a href="#Types">Test Type</a> that must have either <code>tag A</code> <strong>OR</strong> (<code>tag A</code> <strong>AND</strong> <code>tag B</code>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --only-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="skip-tags-option"><a href="#skip-tags-option" class="headerlink" title="--skip-tags option"></a><code>--skip-tags</code> option</h2><p>If you assign tags to your tests then you can also use <a href="#%E2%80%93skip-tags">–skip-tags</a> option to select
which tests should be skipped based on tests matching a particular tag. 
Similar to <a href="#%E2%80%93only-tags">–only-tags</a> option, it also takes values
of the form <code>type:tag</code> where <a href="#Tags-Filtering-type">type</a> is used to specify a test type
of the tests that must have the specified tags.</p>
<p>If you want to skip tests that must have more than one tag use <code>type:tag1,tag2,...</code> form.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--skip-tags <span class="built_in">type</span>:tag,... [<span class="built_in">type</span>:tag,... ...]     skip tests with selected tags</span><br></pre></td></tr></table></figure>

<p>For example, you can skip all tests with <a href="#Types">Suite Type</a> that have <code>tag A</code> tag
as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags suite:<span class="string">&quot;tag A&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that either have <code>tag A</code> <strong>OR</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that have both <code>tag A</code> <strong>AND</strong> <code>tag B</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can skip all tests with <a href="#Types">Test Type</a> that must have either <code>tag A</code> <strong>OR</strong> (<code>tag A</code> <strong>AND</strong> <code>tag B</code>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py --skip-tags <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span> <span class="built_in">test</span>:<span class="string">&quot;tag A&quot;</span>,<span class="string">&quot;tag B&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Filtering-By-Tags-In-Code"><a href="#Filtering-By-Tags-In-Code" class="headerlink" title="Filtering By Tags In Code"></a>Filtering By Tags In Code</h2><p>In your test program you can filter child tests by tags to control what tests are included or skipped 
by setting <code>only_tags</code> and <code>skip_tags</code> test attributes.</p>
<h3 id="only-tags-and-skip-tags-Arguments"><a href="#only-tags-and-skip-tags-Arguments" class="headerlink" title="only_tags and skip_tags Arguments"></a><code>only_tags</code> and <code>skip_tags</code> Arguments</h3><p>When test is defined inline you can explicitly set filtering by tags using <code>only_tags</code> and <code>skip_tags</code>
arguments. These arguments take <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L544">OnlyTags class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L558">SkipTags class</a> object instances respectively
that provide a convenient way to set these filters.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">OnlyTags(</span><br><span class="line">   test=[tagA,(tagA,tagB),...],</span><br><span class="line">   suite=[...],</span><br><span class="line">   module=[...],</span><br><span class="line">   <span class="built_in">any</span>=[...]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>or similarly </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SkipTags(</span><br><span class="line">   test=[tagA,(tagA,tagB),...],</span><br><span class="line">   suite=[...],</span><br><span class="line">   module=[...],</span><br><span class="line">   <span class="built_in">any</span>=[...]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L544">OnlyTags class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L558">SkipTags class</a> can also act as decorators
to set <code>only_tags</code> and <code>skip_tags</code> attributes of decorated tests.
See <a href="#OnlyTags-and-SkipTags-Decorators"><code>OnlyTags</code> and <code>SkipTags</code> Decorators</a>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my tests&quot;</span>, only_tags=OnlyTags(test=[<span class="string">&quot;tag1&quot;</span>,(<span class="string">&quot;tag1&quot;</span>,<span class="string">&quot;tag2&quot;</span>),...]), skip_tags=SkipTags(suite=[<span class="string">&quot;tag2&quot;</span>,...])</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="OnlyTags-and-SkipTags-Decorators"><a href="#OnlyTags-and-SkipTags-Decorators" class="headerlink" title="OnlyTags and SkipTags Decorators"></a><code>OnlyTags</code> and <code>SkipTags</code> Decorators</h3><p>You can also specify <code>only_tags</code> and <code>skip_tags</code> attributes of the decorated tests
using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L544">OnlyTags class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L558">SkipTags class</a> that can act as decorators to
set <code>only_tags</code> and <code>skip_tags</code> attributes of a decorated test respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OnlyTags(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">   test=[tagA,(<span class="params">tagA,tagB</span>),...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   suite=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   module=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   <span class="built_in">any</span>=[...]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br></pre></td></tr></table></figure>

<p>or similarly </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SkipTags(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">   test=[tagA,(<span class="params">tagA,tagB</span>),...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   suite=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   module=[...],</span></span></span><br><span class="line"><span class="params"><span class="meta">   <span class="built_in">any</span>=[...]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br></pre></td></tr></table></figure>

<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;Tag A&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_A</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;Tag B&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_B</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@OnlyTags(<span class="params">test=[<span class="string">&quot;tag A&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scenario()</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@SkipTags(<span class="params">test=[<span class="string">&quot;tag A&quot;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_other_suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Tagging-Tests"><a href="#Tagging-Tests" class="headerlink" title="Tagging Tests"></a>Tagging Tests</h1><p>You can add <code>tags</code> to any test either by setting <a href="#tags">tags</a> parameter of the inline test
or using <a href="#tags">Tags</a> decorator if the test is defined as a decorated function. The values of the tags can be accessed
using the <code>tags</code> attribute of the test.</p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><p>The <a href="#tags">tags</a> parameter of the test can be use used to set <a href="#tags">tags</a> of any inline test. The <a href="#tags">tags</a> parameter
can be passed either a <code>list</code>, <code>tuple</code> or a <code>set</code> of tag values. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, tags=(<span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span>)) <span class="keyword">as</span> test:</span><br><span class="line">    note(test.tags)</span><br></pre></td></tr></table></figure>
<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><p>A <a href="#tags">Tags</a> decorator can be used to set <a href="#tags">tags</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Tags(<span class="params"><span class="string">&quot;tagA&quot;</span>, <span class="string">&quot;tagB&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.tags)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Attributes"><a href="#Test-Attributes" class="headerlink" title="Test Attributes"></a>Test Attributes</h1><p>You can add <code>attributes</code> to any test either by setting <a href="#attributes">attributes</a> parameter of the inline test
or using <a href="#attributes">Attributes</a> decorator if the test is defined as a decorated function. The values of the attributes can be accessed
using the <code>attributes</code> attribute of the test.</p>
<h2 id="attributes"><a href="#attributes" class="headerlink" title="attributes"></a>attributes</h2><p>The <a href="#attributes">attributes</a> parameter of the test can be used to set <a href="#attributes">attributes</a> of any inline test. The <a href="#attributes">attributes</a> parameter
can be passed either a <code>list</code> of <code>(name, value)</code> tuples or <code>Attribute</code> class instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, attributes=[(<span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span>), Attribute(<span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.attributes)</span><br></pre></td></tr></table></figure>

<h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>An <a href="#attributes">Attributes</a> decorator can be used to set <a href="#attributes">attributes</a> of any test that is defined used a decorated function. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Attributes(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    Attribute(<span class="params"><span class="string">&quot;attr1&quot;</span>, <span class="string">&quot;value&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.attributes)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Requirements"><a href="#Test-Requirements" class="headerlink" title="Test Requirements"></a>Test Requirements</h1><p>You can add <code>requirements</code> to any test either by setting <a href="#requirements">requirements</a> parameter of the inline test
or using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> <code>Requirement</code> class instances must be always called with the version number the test is expected to verify.
<code>RequirementError</code> exception will be raised if version does not match the version of the instance.</p>
</blockquote>
<h2 id="requirements"><a href="#requirements" class="headerlink" title="requirements"></a>requirements</h2><p>The <a href="#requirements">requirements</a> parameter of the test can be used to set <code>requirements</code> of any inline test. The <a href="#requirements">requirements</a> parameter
must be passed a <code>list</code> of called <code>Requirement</code> instances. of the inline test
or using <a href="#requirements">Requirements</a> decorator if the test is defined as a decorated function. The values of the requirements can be accessed
using the <code>requirements</code> attribute of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, requirements=[RQ1(<span class="string">&quot;1.0&quot;</span>)] <span class="keyword">as</span> test:</span><br><span class="line">    note(test.requirements)</span><br></pre></td></tr></table></figure>

<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h2><p>A <a href="#requirements">Requirements</a> decorator can be used to set <code>requirements</code> attribute of any test that is defined using a decorated function.
The decorator must be called with one or more called <code>Requirement</code> instances. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RQ1 = Requirement(<span class="string">&quot;RQ1&quot;</span>, version=<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Requirements(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    RQ1(<span class="params"><span class="string">&quot;1.0&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(self.requirements)</span><br></pre></td></tr></table></figure>

<h1 id="Test-Examples"><a href="#Test-Examples" class="headerlink" title="Test Examples"></a>Test Examples</h1><p>You can add <code>examples</code> to any test by setting <a href="#examples">examples</a> parameter of the inline test
or using <a href="#examples">Examples</a> decorator if the test is defined as a decorated function. The examples can be accessed
using the <code>examples</code> attribute of the test.</p>
<h2 id="examples"><a href="#examples" class="headerlink" title="examples"></a>examples</h2><p>The <a href="#examples">examples</a> parameter of the test can be used to set <code>examples</code> of any inline test. The <a href="#examples">examples</a> parameter
must be passed an table of examples which can be defined using <code>Examples</code> class for an inline test
or using the same <a href="#examples">Examples</a> class as a decorator if the test is defined as a decorated function.
The rows of the examples table can be accessed
using the <code>examples</code> attribute of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Usually examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My test&quot;</span>, examples=Examples(<span class="string">&quot;col0 col1&quot;</span>, [(<span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span>), (<span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span>)])) <span class="keyword">as</span> test:</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> test.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>An <a href="#examples">Examples</a> decorator can be used to set <code>examples</code> attribute of any test that is defined using a decorated function
or used as an argument of the <code>examples</code> parameter for the test.
The <a href="#examples">Examples</a> class defines a table of examples and should be passed a <code>header</code> and a <code>list</code> for the <code>rows</code>.</p>
<blockquote>
<p><strong>&#9995;</strong> Usually examples are used only with test outlines. Please see <a href="#Outline">Outline</a> for more details.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;col0 col1&quot;</span>, rows=[</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row0&quot;</span>, <span class="string">&quot;col1_row0&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;col0_row1&quot;</span>, <span class="string">&quot;col1_row1&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> self.examples:</span><br><span class="line">        note(<span class="built_in">str</span>(example))</span><br></pre></td></tr></table></figure>

<h1 id="Test-XFails"><a href="#Test-XFails" class="headerlink" title="Test XFails"></a>Test XFails</h1><p>You can specify test results to be crossed out known as <code>xfails</code> for any test
either by setting <code>xfails</code> parameter of the inline test or using <code>XFails</code> decorator
if the test is defined as a decorated function. See <a href="#Crossing-Out-Results">Crossing Out Results</a>
for more information.</p>
<h2 id="xfails"><a href="#xfails" class="headerlink" title="xfails"></a>xfails</h2><p>The <a href="#xfails">xfails</a> parameter of the test can be used to set <code>xfails</code> of any inline test. The <a href="#xfails">xfails</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        [(Result, <span class="string">&quot;cross out reason&quot;</span>), ...],</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which one
or more results can be crossed out that are specified by the list.
A list must contain one or more <code>(Result, &quot;reason&quot;)</code> two-tuples where
<code>Result</code> shall be the result that you want to cross out, for example <a href="#Fail">Fail</a>,
and the reason shall be a string that specifies a reason why this result is being
crossed out.</p>
<blockquote>
<p><strong>&#9995;</strong> A reason for a crossed out result can be a URL such as
for an issue in an issue tracker.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, xfails=&#123;<span class="string">&quot;my_test&quot;</span>: [(Fail, <span class="string">&quot;needs to be investigated&quot;</span>)]&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, xfails=&#123;<span class="string">&quot;my test&quot;</span>: [Fail, <span class="string">&quot;https://my.issue.tracker.com/issue34567&quot;</span>]&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute then it is
anchored to the test where <a href="#xfails">xfails</a> is being specified.</p>
</blockquote>
<h2 id="XFails"><a href="#XFails" class="headerlink" title="XFails"></a>XFails</h2><p>The <a href="#xfails">XFails</a> decorator can be used to set <code>xfails</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.
The <a href="#xfails">XFails</a> decorator takes a dictionary of the same form as the <a href="#xfails">xfails</a> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@XFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my_test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;needs to be investigated&quot;</span></span>)  </span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Test-XFlags"><a href="#Test-XFlags" class="headerlink" title="Test XFlags"></a>Test XFlags</h1><p>You can specify flags to be externally set or cleared for any test by setting <code>xflags</code> parameter or using <code>XFlags</code> decorator
for decorated tests. See <a href="#Setting-or-Clearing-Flags">Setting or Clearing Flags</a>.</p>
<h2 id="xflags"><a href="#xflags" class="headerlink" title="xflags"></a>xflags</h2><p>The <a href="#xflags">xflags</a> parameter of the test can be used to set <code>xflags</code> of a test. The <a href="#xflags">xflags</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        (set_flags, clear_flags),</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which
flags will be set or cleared. The flags to be set or cleared are
specified by a two-tuple of the form<code>(set_flags, clear_flags)</code> where the
first element specifies flags to be set and the second element specifies
flags to cleared.</p>
<p>Here is an example to set <a href="#TE">TE</a> flag and to clear the <a href="#Skip">SKIP</a> flag,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, xflags=&#123;<span class="string">&quot;my_test&quot;</span>: (TE, SKIP)&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or just set <a href="#Skip">SKIP</a> flag without clearing any other flag</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, xflags=&#123;<span class="string">&quot;my test&quot;</span>: (SKIP, <span class="number">0</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p>and multiple flags can be combined using the binary <code>OR</code> (<code>|</code>) operator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># clear SKIP and TE flags for &quot;my test&quot;</span></span><br><span class="line">Suite(run=my_suite, xflags=&#123;<span class="string">&quot;my test&quot;</span>: (<span class="number">0</span>, SKIP|TE)&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute then it is
anchored to the test where <a href="#xflags">xflags</a> is being specified.</p>
</blockquote>
<h2 id="XFlags"><a href="#XFlags" class="headerlink" title="XFlags"></a>XFlags</h2><p>The <a href="#xflags">XFlags</a> decorator can be used to set <code>xflags</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.</p>
<p>The <a href="#xflags">XFlags</a> decorator takes a dictionary of the same form as the <a href="#xflags">xflags</a> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@XFlags(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my_test&quot;</span>: (<span class="params">TE, SKIP</span>) <span class="comment"># set TE and clear SKIP flags</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Test-FFails"><a href="#Test-FFails" class="headerlink" title="Test FFails"></a>Test FFails</h1><p>You can force result, including <a href="#Fail">Fail</a> result, of any test by setting
<code>ffails</code> parameter or using <code>FFails</code> decorator
for decorated tests. See <a href="#Forcing-Results">Forcing Results</a>.</p>
<h2 id="ffails"><a href="#ffails" class="headerlink" title="ffails"></a>ffails</h2><p>The <a href="#ffails">ffails</a> parameter of the test can be used to force any result of a test including <a href="#Fail">Fail</a>
while skipping the execution of its test body. The <a href="#ffails">ffails</a> parameter
must be passed a dictionary of the form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;pattern&quot;</span>:</span><br><span class="line">        (Result, reason[, when]),</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where key <code>pattern</code> is a test <a href="#pattern">pattern</a> that matches one or more tests for which
the result will be set by force and the body of the test will not be executed.
The forced result is specified by a two-tuple of the form <code>(Result, reason)</code> where the
first element specifies the force test result, such as <a href="#Fail">Fail</a>, and the second element specifies
the reason for forcing the result as a string.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My test&quot;</span>, ffails=&#123;<span class="string">&quot;my_test&quot;</span>: (Fail, <span class="string">&quot;test gets stuck&quot;</span>)&#125;):</span><br><span class="line">    Scenario(name=<span class="string">&quot;my_test&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Suite(run=my_suite, ffails=&#123;<span class="string">&quot;my test&quot;</span>: (Skip, <span class="string">&quot;not supported&quot;</span>)&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> If the test <code>pattern</code> is not absolute then it is
anchored to the test where <a href="#ffails">ffails</a> is being specified.</p>
</blockquote>
<h3 id="Optional-when-Condition"><a href="#Optional-when-Condition" class="headerlink" title="Optional when Condition"></a>Optional <code>when</code> Condition</h3><p>Optionally, the tuple can include 
a <code>when</code> condition, specified as a function, as the last element.
If present, the <code>when</code> function is called before test execution.
The boolean result returned by the <code>when</code> function determines if the forced result is applied, 
if the function returns <code>True</code>, or not, if it returns <code>False</code>. 
The <code>when</code> function must take one argument which is the instance of the test.</p>
<blockquote>
<p><strong>&#9995;</strong> The optional <code>when</code> function can define any logic that 
is needed to determine if some condition is met. Any <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#callable">callable</a> can be used.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">version</span>(<span class="params">*versions</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_when</span>(<span class="params">test</span>):</span></span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>):</span><br><span class="line">    <span class="comment"># force to skip my_suite test only on version 2.0</span></span><br><span class="line">    Suite(run=my_suite, ffails=&#123;<span class="string">&quot;my test&quot;</span>: (Skip, <span class="string">&quot;not supported&quot;</span>, version(<span class="string">&quot;2.0&quot;</span>))&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="FFails"><a href="#FFails" class="headerlink" title="FFails"></a>FFails</h2><p>The <a href="#ffails">FFails</a> decorator can be used to set <code>ffails</code> attribute of any test that is defined using a decorated function
or used as an extra argument when defining a row for the <a href="#examples">examples</a> of the test.</p>
<p>The <a href="#ffails">FFails</a> decorator takes a dictionary of the same form as the <a href="#ffails">ffails</a> parameter.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span></span>) <span class="comment"># force fail &quot;my test&quot; because it gets stuck</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<p>The optional <code>when</code> function can also be specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">version</span>(<span class="params">*versions</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_when</span>(<span class="params">test</span>):</span></span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span>, version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>) <span class="comment"># force fail &quot;my test&quot; because it gets stuck on version 2.0</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Specialized-keywords"><a href="#Specialized-keywords" class="headerlink" title="Specialized keywords"></a>Specialized keywords</h1><p>The framework encourages the usage of specialized keywords as they can provide the much needed context for your steps
when writing your test scenarios.</p>
<p>The specialized keywords map to core <a href="#Step">Step</a>, <a href="#Test">Test</a>, <a href="#Suite">Suite</a>, and <a href="#Module">Module</a> test definition classes as follows:</p>
<ul>
<li><a href="#Module">Module</a> is defined as a <a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a> is defined as a <a href="#Feature">Feature</a></li>
<li><a href="#Test">Test</a> is defined as a <a href="#Scenario">Scenario</a></li>
<li><a href="#Step">Step</a> is defined as one of the following:<ul>
<li><a href="#Given">Given</a> is used define a step for precondition or setup</li>
<li><a href="#Background">Background</a> is used define a step for a complex precondition or setup</li>
<li><a href="#When">When</a> is used to define a step for an action</li>
<li><a href="#And">And</a> is used as a continuation of the previous step</li>
<li><a href="#By">By</a> is used to define a sub-step</li>
<li><a href="#Then">Then</a> is used to define a step for positive assertion</li>
<li><a href="#But">But</a> is used to define a step for negative assertion</li>
<li><a href="#Finally">Finally</a> is used to define a cleanup step</li>
</ul>
</li>
</ul>
<h1 id="Semi-Automated-And-Manual-Tests"><a href="#Semi-Automated-And-Manual-Tests" class="headerlink" title="Semi-Automated And Manual Tests"></a>Semi-Automated And Manual Tests</h1><p>Tests can be semi-automated and include one or more manual steps or
be fully manual.</p>
<h2 id="Semi-Automated"><a href="#Semi-Automated" class="headerlink" title="Semi-Automated"></a>Semi-Automated</h2><p>Semi-automated tests are tests that have one or more steps with the <a href="#MANUAL">MANUAL</a> flag set.</p>
<blockquote>
<p><strong>&#9995;</strong> <a href="#MANUAL">MANUAL</a> test flag is propagated down to all sub-tests.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my mixed scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;automated setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;manual step&quot;</span>, flags=MANUAL):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>When a semi-automated test is run the test program pauses and asks for input
for each manual step.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 06,2021 18:39:00   ⟥  Scenario my mixed scenario</span><br><span class="line">Sep 06,2021 18:39:00     ⟥  Given automated setup, flags:MANDATORY</span><br><span class="line">               559us     ⟥⟤ OK automated setup, /my mixed scenario/automated setup</span><br><span class="line">Sep 06,2021 18:39:00     ⟥  Step manual step, flags:MANUAL</span><br><span class="line">✍  Enter `manual step` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            3s 203ms     ⟥⟤ OK manual step, /my mixed scenario/manual step</span><br><span class="line">            3s 212ms   ⟥⟤ OK my mixed scenario, /my mixed scenario</span><br></pre></td></tr></table></figure>

<h2 id="Manual"><a href="#Manual" class="headerlink" title="Manual"></a>Manual</h2><p>A manual test is just test that has <a href="#MANUAL">MANUAL</a> flag set at the test level.
Any sub-tests such as steps inherit <a href="#MANUAL">MANUAL</a> flag from the parent test.</p>
<blockquote>
<p><strong>&#9995;</strong> Manual tests are best executed using <a href="#manual-Output">manual output</a> format.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;manual scenario&quot;</span>, flags=MANUAL):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;manual setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;manual action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>When a manual test is run the test program pauses for each test step as well as to get
the result of the test itself.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sep 06,2021 18:44:30   ⟥  Scenario manual scenario, flags:MANUAL</span><br><span class="line">Sep 06,2021 18:44:30     ⟥  Given manual setup, flags:MANUAL|MANDATORY</span><br><span class="line">✍  Enter `manual setup` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            3s 168ms     ⟥⟤ OK manual setup, /manual scenario/manual setup</span><br><span class="line">Sep 06,2021 18:44:33     ⟥  When manual action, flags:MANUAL</span><br><span class="line">✍  Enter `manual action` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">            6s 529ms     ⟥⟤ OK manual action, /manual scenario/manual action</span><br><span class="line">✍  Enter `manual scenario` result? OK</span><br><span class="line">✍  Is this correct [Y/n]? Y</span><br><span class="line">           13s 368ms   ⟥⟤ OK manual scenario, /manual scenario</span><br></pre></td></tr></table></figure>

<h2 id="Manual-With-Automated-Steps"><a href="#Manual-With-Automated-Steps" class="headerlink" title="Manual With Automated Steps"></a>Manual With Automated Steps</h2><p>A test that has <a href="#MANUAL">MANUAL</a> flag could also include some automated steps
which can be marked as automated using <a href="#AUTO">AUTO</a> flag.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;manual scenario&quot;</span>, flags=MANUAL):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;manual setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;automated action&quot;</span>, flags=AUTO):</span><br><span class="line">        note(<span class="string">&quot;some note&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>When the above example is executed it will produce the following output that shows that the
result for <code>/manual scenario/automated action</code> was set automatically
based on the automated actions performed in this step.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Oct 31,2021 18:24:53   ⟥  Scenario manual scenario, flags:MANUAL</span><br><span class="line">Oct 31,2021 18:24:53     ⟥  Given manual setup, flags:MANUAL|MANDATORY</span><br><span class="line">✍  Enter `manual setup` result? </span><br><span class="line">✍  Is this correct [Y/n]? </span><br><span class="line">            1s 410ms     ⟥⟤ OK manual setup, /manual scenario/manual setup</span><br><span class="line">Oct 31,2021 18:24:54     ⟥  When automated action, flags:AUTO</span><br><span class="line">               304us     ⟥    [note] some note</span><br><span class="line">               374us     ⟥⟤ OK automated action, /manual scenario/automated action</span><br><span class="line">✍  Enter `manual scenario` result? </span><br><span class="line">✍  Is this correct [Y/n]? </span><br><span class="line">            5s 611ms   ⟥⟤ OK manual scenario, /manual scenario</span><br></pre></td></tr></table></figure>

<h1 id="Test-Definition-Classes"><a href="#Test-Definition-Classes" class="headerlink" title="Test Definition Classes"></a>Test Definition Classes</h1><h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>A <a href="#Module">Module</a> can be defined using <a href="#Module">Module</a> test definition class or <a href="#Module">TestModule</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;module&quot;</span>):</span><br><span class="line">    Feature(run=feature)</span><br></pre></td></tr></table></figure>

<h2 id="Suite"><a href="#Suite" class="headerlink" title="Suite"></a>Suite</h2><p>A <a href="#Suite">Suite</a> can be defined using <a href="#Suite">Suite</a> test definition class or <a href="#Suite">TestSuite</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My suite&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Suite(<span class="string">&quot;My suite&quot;</span>):</span><br><span class="line">    Test(run=testcase)</span><br></pre></td></tr></table></figure>

<h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><p>A <a href="#Feature">Feature</a> can be defined using <a href="#Feature">Feature</a> test definition class or <a href="#Feature">TestFeature</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My feature&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;My feature&quot;</span>):</span><br><span class="line">    Scenario(run=scenario)</span><br></pre></td></tr></table></figure>

<h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><p>A <a href="#Case-is">Case</a> can be defined using <a href="#Test">Test</a> test definition class or <a href="#Test">TestCase</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCase</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My testcase&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testcase</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;My testcase&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;do something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> Note that here the word <code>test</code> is used to define a <a href="#Case-is">Case</a> to match the most common meaning of the word <code>test</code>.
When someone says they will run a <code>test</code> they most likely mean they will run a test <a href="#Case-is">Case</a>.</p>
</blockquote>
<h2 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h2><p>A <a href="#Scenario">Scenario</a> can be defined using <a href="#Scenario">Scenario</a> test definition class or <a href="#Scenario">TestScenario</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My scenario&quot;</span></span>):</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Check"><a href="#Check" class="headerlink" title="Check"></a>Check</h2><p>A <a href="#Check">Check</a> can be defined using <a href="#Check">Check</a> test definition class or <a href="#Check">TestCheck</a> decorator</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCheck</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and is usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define an inline sub-test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Check(<span class="string">&quot;My other check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Critical-Major-Minor"><a href="#Critical-Major-Minor" class="headerlink" title="Critical, Major, Minor"></a>Critical, Major, Minor</h2><p>A <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>, or <a href="#Critical-Major-Minor">Minor</a> checks can be defined using <a href="#Critical-Major-Minor">Critical</a>, <a href="#Critical-Major-Minor">Major</a>
or <a href="#Critical-Major-Minor">Minor</a> test definition class respectively or similarly using <a href="#Critical-Major-Minor">TestCritical</a>, <a href="#Critical-Major-Minor">TestMajor</a>,
<a href="#Critical-Major-Minor">TestMinor</a> decorators</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestCritical</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My critical check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">critical</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMajor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My major check&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">major</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestMinor</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My minor minor&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minor</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Critical(<span class="string">&quot;My critical check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Major(<span class="string">&quot;My major check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Minor(<span class="string">&quot;My minor check&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>and are usually used inside either <a href="#Test">Test</a> or <a href="#Scenario">Scenario</a> to define inline sub-tests.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Critical(<span class="string">&quot;my critical check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Major(<span class="string">&quot;my major check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Minor(<span class="string">&quot;my minor check&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>These classes are usually used for classification of checks during reporting.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 scenario (1 ok)</span><br><span class="line">1 critical (1 ok)</span><br><span class="line">1 major (1 ok)</span><br><span class="line">1 minor (1 ok)</span><br></pre></td></tr></table></figure>

<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>An <a href="#Example">Example</a> can be only defined inline using <a href="#Example">Example</a> test definition class. There is no decorator
to define it outside of existing test. An <a href="#Example">Example</a> is of a <a href="#Types">Test Type</a> and is used to define
one or more sub-tests. Usually, <a href="#Example">Example</a>s are created automatically using <a href="#Outline">Outline</a>s.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 1&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Example(<span class="string">&quot;Example 2&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Outline"><a href="#Outline" class="headerlink" title="Outline"></a>Outline</h2><p>An <a href="#Outline">Outline</a> can be defined using <a href="#Outline">Outline</a> test definition class or <a href="#Outline">TestOutline</a> decorator.
An <a href="#Outline">Outline</a> has its own test <a href="#Types">Type</a> but can be made specific when defined using <a href="#Outline">TestOutline</a>
decorator by passing it a specific <a href="#Types">Type</a> or a <a href="#Sub-Types">Sub-Type</a> such as <a href="#Scenario">Scenario</a> or <a href="#Suite">Suite</a> etc.</p>
<p>However, because <a href="#Outline">Outline</a>s are meant to be called from other tests or used with <a href="#examples">Examples</a>
it is best to define an <a href="#Outline">Outline</a> using <a href="#Outline">TestOutline</a> decorator as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br><span class="line"></span><br><span class="line">outline()</span><br></pre></td></tr></table></figure>

<p>When <a href="#examples">Examples</a> are defined for the <a href="#Outline">Outline</a> and an outline is called with no arguments from a test
that is of higher <a href="#Types">Type</a> than the <a href="#Types">Type</a> of outline itself then when called the outline will iterate over all
the examples defined in the <a href="#examples">Examples</a> table. For example, run the example above that executes the outline
with no arguments you will see that the outline iterates over all the examples in the <a href="#examples">Examples</a> table where
each example, a row in the examples table, defines the values of the arguments for the outline.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:16:34   ⟥  Scenario outline</span><br><span class="line">                            Examples</span><br><span class="line">                              greeting | name</span><br><span class="line">                              -------- | ----</span><br><span class="line">                              Hello    | John</span><br><span class="line">                              Goodbye  | Eric</span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Hello</span><br><span class="line">                                name</span><br><span class="line">                                  John</span><br><span class="line">               757us     ⟥    [note] Hello John!</span><br><span class="line">               868us     ⟥⟤ OK greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span>, /outline/greeting=<span class="string">&#x27;Hello&#x27;</span>, name=<span class="string">&#x27;John&#x27;</span></span><br><span class="line">Jul 05,2020 18:16:34     ⟥  Example greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                              Arguments</span><br><span class="line">                                greeting</span><br><span class="line">                                  Goodbye</span><br><span class="line">                                name</span><br><span class="line">                                  Eric</span><br><span class="line">               675us     ⟥    [note] Goodbye Eric!</span><br><span class="line">               766us     ⟥⟤ OK greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span>, /outline/greeting=<span class="string">&#x27;Goodbye&#x27;</span>, name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">                 4ms   ⟥⟤ OK outline, /outline</span><br></pre></td></tr></table></figure>

<p>If we run the same outline with arguments, then the outline will not use the <a href="#examples">Examples</a> but instead will
use the argument values that were provided to the outline. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">    outline(greeting=<span class="string">&quot;Hey&quot;</span>, name=<span class="string">&quot;Bob&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>will produce the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Jul 05,2020 18:23:02   ⟥  Scenario My scenario</span><br><span class="line">                 1ms   ⟥    [note] Hey Bob!</span><br><span class="line">                 2ms   ⟥⟤ OK My scenario, /My scenario</span><br></pre></td></tr></table></figure>

<h3 id="Setting-Parameters"><a href="#Setting-Parameters" class="headerlink" title="Setting Parameters"></a>Setting Parameters</h3><h4 id="For-an-Example"><a href="#For-an-Example" class="headerlink" title="For an Example"></a><strong>For an Example</strong></h4><p>You can set parameters for an individual example by specifying them right after the values for the example row.</p>
<blockquote>
<p><strong>&#9995;</strong> Any test parameters that are specified for the example will override any common parameter values.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>: [(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="For-All-Examples"><a href="#For-All-Examples" class="headerlink" title="For All Examples"></a><strong>For All Examples</strong></h4><p>You can set common parameter values for all the examples specified by the <a href="#examples">Examples</a> table using the <code>args</code> parameter
and passing it a <code>dict</code> with parameter values as the argument.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that parameters set for a specific example override any common values.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestOutline(<span class="params">Scenario</span>)</span></span><br><span class="line"><span class="meta">@Examples(<span class="params"><span class="string">&quot;greeting name&quot;</span>, [</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;John&quot;</span>, &#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;tag0&quot;</span>, <span class="string">&quot;tag1&quot;</span></span>), <span class="string">&quot;attributes&quot;</span>:[(<span class="params"><span class="string">&quot;attr0&quot;</span>, <span class="string">&quot;value0&quot;</span></span>)]&#125;</span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    (<span class="params"><span class="string">&quot;Goodbye&quot;</span>, <span class="string">&quot;Eric&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">], args=&#123;<span class="string">&quot;tags&quot;</span>: (<span class="params"><span class="string">&quot;common_tag0&quot;</span>, <span class="string">&quot;common_tag1&quot;</span></span>)&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outline</span>(<span class="params">self, greeting, name</span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;greeting&#125;</span> <span class="subst">&#123;name&#125;</span>!&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Iteration"><a href="#Iteration" class="headerlink" title="Iteration"></a>Iteration</h2><p>An <a href="#Iteration">Iteration</a> is not meant to be used explicitly and in most cases is only used
internally to implement test repetitions.</p>
<h2 id="RetryIteration"><a href="#RetryIteration" class="headerlink" title="RetryIteration"></a>RetryIteration</h2><p>A <a href="#RetryIteration">RetryIteration</a> is not meant to be used explicitly and in most cases is only used
internally to implement test retries.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><p>A <a href="#Step">Step</a> can be defined using <a href="#Step">Step</a> test definition class or <a href="#Step">TestStep</a> decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">TestStep</a> can be made specific by passing it a specific [BBD] step <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">step</span>(<span class="params">self</span>):</span></span><br><span class="line">    note(<span class="string">&quot;a When step&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>A <a href="#Step">Step</a> can be defined inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;step&quot;</span>):</span><br><span class="line">    note(<span class="string">&quot;generic test step&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Given"><a href="#Given" class="headerlink" title="Given"></a>Given</h2><p>A <a href="#Given">Given</a> step is used to define precodition or setup and is always treated as a mandatory step
that can’t be skipped because <a href="#MANDATORY">MANDATORY</a> flag will be set by default.
It is defined using <a href="#Given">Given</a> test definition class or using <a href="#Step">TestStep</a> with <a href="#Given">Given</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_have_something</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>A <a href="#Background">Background</a> step is used define a complex precodition or setup usually containing multiple
<a href="#Given">Given</a>‘s and can be defined using <a href="#Background">Background</a> test definition class or <a href="#Background">TestBackground</a>
decorator. It is treated as a mandatory step that can’t be skipped.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestBackground</span></span><br><span class="line"><span class="meta">@Name(<span class="params"><span class="string">&quot;My complex setup&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">background</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Background(<span class="string">&quot;My complex setup&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;I need to setup something&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I need to setup something else&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="When"><a href="#When" class="headerlink" title="When"></a>When</h2><p>A <a href="#When">When</a> step is used to define an action within a <a href="#Scenario">Scenario</a>. It can be defined using <a href="#When">When</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#When">When</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">When</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_do_some_action</span>(<span class="params">self</span>):</span></span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    do_some_action()</span><br></pre></td></tr></table></figure>

<h2 id="And"><a href="#And" class="headerlink" title="And"></a>And</h2><p>An <a href="#And">And</a> step is used to define a step of the same <a href="#Sub-Types">Sub-Type</a> as the step right above it.
It is defined using <a href="#And">And</a> test definition class.</p>
<blockquote>
<p><strong>&#9995;</strong> It does not make sense to use <a href="#Step">TestStep</a> decorator to define it so always define it inline.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do some action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do another action&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I do some action to setup things&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">with</span> And(<span class="string">&quot;I do another action to continue the setup&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <code>TypeError</code> exception will be raised if the <a href="#And">And</a> step is defined where it has no sibling. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Given(<span class="string">&quot;I have something&quot;</span>):</span><br><span class="line">  <span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line">  <span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line">  <span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">      <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it has no sibling from which to inherit the subtype</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <code>TypeError</code> exception will also be raised if the <a href="#Types">Type</a> of the sibling does not match the <a href="#Types">Type</a> of the <a href="#And">And</a> step.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;My scenario&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError exception will be raised on the next line</span></span><br><span class="line"><span class="comment"># and can be fixed by changing the `And` step into a `When` step</span></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>with the exception being as follows.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: `And` subtype can&#x27;t be used here as it sibling is not of the same type</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="By"><a href="#By" class="headerlink" title="By"></a>By</h2><p>A <a href="#By">By</a> step is usually used to define a sub-step using <a href="#By">By</a> test definition class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> By(<span class="string">&quot;doing some action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Then"><a href="#Then" class="headerlink" title="Then"></a>Then</h2><p>A <a href="#Then">Then</a> step is used to define a step that usually contains a positive assertion.
It can be defined using <a href="#Then">Then</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Then">Then</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Then</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_check_something_is_true</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Then(<span class="string">&quot;I expect something&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> something</span><br></pre></td></tr></table></figure>

<h2 id="But"><a href="#But" class="headerlink" title="But"></a>But</h2><p>A companion of the <a href="#Then">Then</a> step is a <a href="#But">But</a> step and is
used to define a step that usually contains an negative assertion.
It can be defined using <a href="#But">But</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#But">But</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">But</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_check_something_is_not_true</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> But(<span class="string">&quot;I check something is not true&quot;</span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="keyword">not</span> something</span><br></pre></td></tr></table></figure>

<h2 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h2><p>A <a href="#Finally">Finally</a> step is used to define a cleanup step and is treated as a mandatory step
that can’t be skipped because <a href="#MANDATORY">MANDATORY</a> flag will be set by default.</p>
<p>It can be defined using <a href="#Finally">Finally</a> test definition class
or using <a href="#Step">TestStep</a> decorator with <a href="#Finally">Finally</a> passed as the <a href="#Sub-Types">Sub-Type</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep(<span class="params">Finally</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">I_clean_up</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or inline as</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;I clean up&quot;</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>The <a href="#TE">TE</a> flag is always set for <a href="#Finally">Finally</a> steps as multiple <a href="#Finally">Finally</a>
steps can be defined back to back and the failure
of previous step should not prevent execution of other <a href="#Finally">Finally</a> steps that follow.</p>
<h1 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h1><p>The framework was implemented with the following concepts and definitions in mind.
These definitions were used as a guideline to implement test <a href="#Tree-is">Tree</a> hierarchy.
While the implementation does not strictly enforce these concepts, users are encouraged
to apply these definitions during the design of their tests.</p>
<h2 id="Everything-is-a-Test"><a href="#Everything-is-a-Test" class="headerlink" title="Everything is a Test"></a>Everything is a Test</h2><p>The framework treats everything as a test including setup and teardown.</p>
<h2 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h2><h3 id="Test-is"><a href="#Test-is" class="headerlink" title="Test is"></a>Test is</h3><p>something that produces a result.</p>
<h3 id="Flow-is"><a href="#Flow-is" class="headerlink" title="Flow is"></a>Flow is</h3><p>a specific order of execution of <a href="#Test-is">Tests</a></p>
<h3 id="Tree-is"><a href="#Tree-is" class="headerlink" title="Tree is"></a>Tree is</h3><p>a rooted tree graph that results from the execution of a <a href="#Flow-is">Flow</a></p>
<h3 id="Step-is"><a href="#Step-is" class="headerlink" title="Step is"></a>Step is</h3><p>is a lowest level <a href="#Test-is">Test</a></p>
<h3 id="Case-is"><a href="#Case-is" class="headerlink" title="Case is"></a>Case is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Step-is">Steps</a></p>
<h3 id="Suite-is"><a href="#Suite-is" class="headerlink" title="Suite is"></a>Suite is</h3><p>is a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Case-is">Cases</a></p>
<h3 id="Module-is"><a href="#Module-is" class="headerlink" title="Module is"></a>Module is</h3><p>a <a href="#Test-is">Test</a> that is made up of one or more <a href="#Suite-is">Suites</a></p>
<h1 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h1><p>The framework divides tests into the following <a href="#Types">Types</a> from highest to the lowest</p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a></li>
<li><a href="#Test">Test</a></li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#RetryIteration">RetryIteration</a></li>
<li><a href="#Step">Step</a></li>
</ul>
<p>Children of each <a href="#Types">Type</a> usually must be of the same <a href="#Types">Type</a> or lower with the only notable exception
being an <a href="#Iteration">Iteration</a> that is used to implement test repetitions.</p>
<h1 id="Sub-Types"><a href="#Sub-Types" class="headerlink" title="Sub-Types"></a>Sub-Types</h1><p>The framework uses the following <a href="#Sub-Types">Sub-Types</a> in order to provide more flexibility and implement specialized keywords</p>
<ul>
<li><a href="#Feature">Feature</a></li>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Example">Example</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Background">Background</a></li>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#And">And</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
</ul>
<h1 id="Sub-Types-Mapping"><a href="#Sub-Types-Mapping" class="headerlink" title="Sub-Types Mapping"></a>Sub-Types Mapping</h1><p>The <a href="#Sub-Types">Sub-Types</a> have the following mapping to the core six <a href="#Types">Types</a></p>
<ul>
<li><a href="#Module">Module</a></li>
<li><a href="#Suite">Suite</a><ul>
<li><a href="#Feature">Feature</a></li>
</ul>
</li>
<li><a href="#Test">Test</a><ul>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Check">Check</a></li>
<li><a href="#Critical-Major-Minor">Critical</a></li>
<li><a href="#Critical-Major-Minor">Major</a></li>
<li><a href="#Critical-Major-Minor">Minor</a></li>
<li><a href="#Example">Example</a></li>
</ul>
</li>
<li><a href="#Outline">Outline</a></li>
<li><a href="#Iteration">Iteration</a></li>
<li><a href="#Step">Step</a><ul>
<li><a href="#Given">Given</a></li>
<li><a href="#When">When</a></li>
<li><a href="#Then">Then</a></li>
<li><a href="#But">But</a></li>
<li><a href="#By">By</a></li>
<li><a href="#Finally">Finally</a></li>
<li><a href="#Background">Background</a></li>
</ul>
</li>
</ul>
<h1 id="Pausing-Tests"><a href="#Pausing-Tests" class="headerlink" title="Pausing Tests"></a>Pausing Tests</h1><p>When tests perform complex automated actions it is often useful to pause a test either
right before it starts executing it body or right after its completion. 
Pausing a test means that the test execution will be halted and input in a form
of pressing <code>Enter</code> will be requested from the user. This pause allows
time to manually examine system under test as well the test environment.</p>
<p>Pausing either before or after a test is controlled by setting either <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>
or <a href="#PAUSE_AFTER">PAUSE_AFTER</a> flags respectively. You can also conditionally pause
after test execution on passing or failing result using <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a> or <a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a>.</p>
<blockquote>
<p><em>&#9995;</em> <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>, <a href="#PAUSE_AFTER">PAUSE_AFTER</a>, <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a>, and <a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a>
flags can be applied to any test but the <a href="#Top-Level-Test">Top Level Test</a> test.
For <a href="#Top-Level-Test">Top Level Test</a> test these flags are ignored.</p>
</blockquote>
<h2 id="Pausing-Using-Command-Line"><a href="#Pausing-Using-Command-Line" class="headerlink" title="Pausing Using Command Line"></a>Pausing Using Command Line</h2><p>Most of the time the most convenient way to pause a test program is to specify at which
test the program should pause using <a href="#%E2%80%93pause-before">–pause-before</a>, <a href="#%E2%80%93pause-after">–pause-after</a>,
<a href="#%E2%80%93pause-on-pass">–pause-on-pass</a>, and <a href="#%E2%80%93pause-on-fail">–pause-on-fail</a> arguments.</p>
<p>These arguments accept one or more test name <a href="#pattern">pattern</a>s. Any test name
that matches the pattern except for the <a href="#Top-Level-Test">Top Level Test</a> will be paused.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--pause-before pattern [pattern ...]            pause before executing selected tests</span><br><span class="line">--pause-after pattern [pattern ...]             pause after executing selected tests</span><br><span class="line">--pause-on-fail pattern [pattern ...]           pause after selected tests on failing result</span><br><span class="line">--pause-on-pass pattern [pattern ...]           pause after selected tests on passing result</span><br></pre></td></tr></table></figure>


<p>For example, if we have the following test program.</p>
<blockquote>
<p><code>pause.py</code></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 1&quot;</span>):</span><br><span class="line">        note(<span class="string">&quot;my step 1&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>Then if we want to pause before executing the body of <code>my step 1</code> and right after
executing <code>my step 2</code> we can execute our test program as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 pause.py --pause-before <span class="string">&quot;/my test/my step 1&quot;</span> --pause-after <span class="string">&quot;/my test/my step 2&quot;</span></span><br></pre></td></tr></table></figure>

<p>This will cause the test program to be halted twice requesting <code>Enter</code> input
from the user to continue execution.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> Sep 25,2021 8:34:45   ⟥  Test my <span class="built_in">test</span></span><br><span class="line"> Sep 25,2021 8:34:45     ⟥  Step my step 1, flags:PAUSE_BEFORE</span><br><span class="line">✋ Paused, enter any key to <span class="built_in">continue</span>...</span><br><span class="line">               830ms     ⟥    [note] my step 1</span><br><span class="line">               830ms     ⟥⟤ OK my step 1, /my <span class="built_in">test</span>/my step 1</span><br><span class="line"> Sep 25,2021 8:34:45     ⟥  Step my step 2, flags:PAUSE_AFTER</span><br><span class="line">               609us     ⟥    [note] my step 2</span><br><span class="line">               753us     ⟥⟤ OK my step 2, /my <span class="built_in">test</span>/my step 2</span><br><span class="line">✋ Paused, enter any key to <span class="built_in">continue</span>...</span><br><span class="line">            1s 490ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h2 id="Pausing-In-Code"><a href="#Pausing-In-Code" class="headerlink" title="Pausing In Code"></a>Pausing In Code</h2><p>You can explicitly specify <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>, <a href="#PAUSE_AFTER">PAUSE_AFTER</a>, <a href="#PAUSE_ON_PASS">PAUSE_ON_PASS</a> and 
<a href="#PAUSE_ON_FAIL">PAUSE_ON_FAIL</a> flags inside your test program.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 1&quot;</span>, flags=PAUSE_BEFORE):</span><br><span class="line">        note(<span class="string">&quot;my step 1&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_AFTER):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_ON_PASS):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">with</span> Step(<span class="string">&quot;my step 2&quot;</span>, flags=PAUSE_ON_FAIL):</span><br><span class="line">        note(<span class="string">&quot;my step 2&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>For decorated tests <a href="#flags">Flags</a> decorator can be used to set these flags.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Flags(<span class="params">PAUSE_BEFORE|PAUSE_AFTER</span>) </span><span class="comment"># pause before and after this test</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Using-Contexts"><a href="#Using-Contexts" class="headerlink" title="Using Contexts"></a>Using Contexts</h1><p>Each test has <code>context</code> attribute that can be used for storing and passing state
to sub-tests. Each test has unique object instance of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L123">Context class</a> however
context variables from the parent
can be accessed as long as the same context variable was not redefined by the current
test.</p>
<p>The main use case for using <code>context</code> is to avoid passing common arguments
to sub-tests and as <code>context</code>s allow to pass them <em>automatically</em>.</p>
<p>Also, test clean up functions can be added to the current test using <code>context</code>.
See <a href="#Cleanup-Functions">Cleanup Functions</a>.</p>
<p>Here is an example of using <code>context</code> to store and pass state.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># note will print &#x27;hello there&#x27;</span></span><br><span class="line">    note(self.context.my_var) </span><br><span class="line">    <span class="comment"># this will redefine my_var for this test and any sub-tests</span></span><br><span class="line">    <span class="comment"># but parent.context.my_var will remain unchanged</span></span><br><span class="line">    self.context.my_var = <span class="string">&quot;hello here&quot;</span></span><br><span class="line">    <span class="comment"># note will print &#x27;hello here&#x27;</span></span><br><span class="line">    note(self.context.my_var)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.context.my_var = <span class="string">&quot;hello there&quot;</span></span><br><span class="line"></span><br><span class="line">    Scenario(run=my_test)</span><br><span class="line">    <span class="comment"># my_var change in sub-test does not change the value at the parent&#x27;s level</span></span><br><span class="line">    <span class="comment"># note will print &#x27;hello there&#x27;</span></span><br><span class="line">    note(self.context.my_var)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    regression()</span><br></pre></td></tr></table></figure>

<p>and you can confirm this by running the test program above.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sep 24,2021 10:24:54   ⟥  Module regression</span><br><span class="line">Sep 24,2021 10:24:54     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">               671us     ⟥    [note] hello there</span><br><span class="line">               730us     ⟥    [note] hello here</span><br><span class="line">               898us     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                10ms   ⟥    [note] hello there</span><br><span class="line">                10ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> You should not modify parent’s context directly (<del>self.parent.context</del>).
Always set variables using the context of the current test either using
<code>self.context</code> or <code>current().context</code>.</p>
</blockquote>
<h2 id="Using-in-Operator"><a href="#Using-in-Operator" class="headerlink" title="Using in Operator"></a>Using <code>in</code> Operator</h2><p>You can use <code>in</code> operator to check if variable is set in context.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check if variable &#x27;my_var&#x27; is set in context</span></span><br><span class="line">note(<span class="string">&quot;my_var&quot;</span> <span class="keyword">in</span> self.context)</span><br></pre></td></tr></table></figure>

<h2 id="Using-hasattr"><a href="#Using-hasattr" class="headerlink" title="Using hasattr()"></a>Using <code>hasattr()</code></h2><p>Alternatively, you can also use built-in <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#hasattr">hasattr()</a> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">note(<span class="built_in">hasattr</span>(self.context, <span class="string">&quot;my_var&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-getattr"><a href="#Using-getattr" class="headerlink" title="Using getattr()"></a>Using <code>getattr()</code></h2><p>If you are not sure if context variable is set you can use built-in <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#getattr">getattr()</a> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">note(<span class="built_in">getattr</span>(self.context, <span class="string">&quot;my_var2&quot;</span>, <span class="string">&quot;was not set&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-getsattr"><a href="#Using-getsattr" class="headerlink" title="Using getsattr()"></a>Using <code>getsattr()</code></h2><p>If you would like to set <code>context</code> variable to some value if the variable
is not defined in the context use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L358">getsattr() function</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> Test, note</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> getsattr</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    getsattr(test.context, <span class="string">&quot;my_var2&quot;</span>, <span class="string">&quot;value if my_var2 is not set&quot;</span>)</span><br><span class="line">    note(test.context.my_var2)</span><br></pre></td></tr></table></figure>

<h2 id="Arbitrary-Variable-Names"><a href="#Arbitrary-Variable-Names" class="headerlink" title="Arbitrary Variable Names"></a>Arbitrary Variable Names</h2><p>If you would like to add a variable that for example has empty spaces
and therefore would not be valid to be referenced directly
as an attribute of the <code>context</code> then you can use <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#setattr">setattr()</a> and <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#getattr">getattr()</a>
to set and get variable respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>) <span class="keyword">as</span> test:</span><br><span class="line">    <span class="built_in">setattr</span>(test.context, <span class="string">&quot;my long variable with spaces&quot;</span>, <span class="string">&quot;value&quot;</span>)</span><br><span class="line">    note(<span class="built_in">getattr</span>(test.context, <span class="string">&quot;my long variable with spaces&quot;</span>))</span><br></pre></td></tr></table></figure>

<h1 id="Setups-And-Teardowns"><a href="#Setups-And-Teardowns" class="headerlink" title="Setups And Teardowns"></a>Setups And Teardowns</h1><p>Test setup and teardown could be explicitly specified using <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps.</p>
<p>For example <a href="#Scenario">Scenario</a> that needs to do some setup and perform clean up as part
of teardown can be defined as follows using explicit <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            do_some_setup()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            do_cleanup()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> It is recommended to use a decorated <a href="#Given">Given</a> step that contains <code>yield</code> statement
in most cases. See <a href="#Given-With-yield">Given With <code>yield</code></a>.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Given">Given</a> and <a href="#Finally">Finally</a> steps have <a href="#MANDATORY">MANDATORY</a> flag set by default
and therefore these steps can’t be skipped.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Finally">Finally</a> steps must be located within <code>finally</code> blocks
to ensure their execution.</p>
</blockquote>
<h2 id="Common-Setup-And-Teardown"><a href="#Common-Setup-And-Teardown" class="headerlink" title="Common Setup And Teardown"></a>Common Setup And Teardown</h2><p>If multiple tests require the same setup and teardown and the result of setup
can be shared between these tests then the common setup and teardown
should be defined at the parent test level. Therefore,
for multiple <a href="#Scenario">Scenario</a>s that share the same setup and teardown
it should be defined at the <a href="#Feature">Feature</a> level and for multiple
<a href="#Feature">Feature</a>s that share the same setup and teardown it should be defined
at the <a href="#Module">Module</a> level. </p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario1</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario2</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Feature(<span class="string">&quot;my feature&quot;</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        Scenario(run=my_scenario1)</span><br><span class="line">        Scenario(run=my_scenario2)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>


<h2 id="Handling-Resources"><a href="#Handling-Resources" class="headerlink" title="Handling Resources"></a>Handling Resources</h2><p>When setup creates a resource that needs to be cleaned up one must 
ensure that <a href="#Finally">Finally</a> step checks if <a href="#Given">Given</a> has actually suceeded in creating
the resource that needs to be cleaned up.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    resource = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">            resource = do_some_setup()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">        	<span class="keyword">if</span> resource <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">	            do_cleanup()</span><br></pre></td></tr></table></figure>

<h2 id="Multiple-Setups-and-Teardowns"><a href="#Multiple-Setups-and-Teardowns" class="headerlink" title="Multiple Setups and Teardowns"></a>Multiple Setups and Teardowns</h2><p>When a test needs to perform multiple setups and teardowns then
multiple <a href="#Given">Given</a> and <a href="#Finally">Finally</a> can be used.</p>
<blockquote>
<p><strong>&#9995;</strong> Use <a href="#And">And</a> step to make test procedure more fluid.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> Given(<span class="string">&quot;my first setup&quot;</span>):</span><br><span class="line">            do_first_setup()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> And(<span class="string">&quot;my second setup&quot;</span>):</span><br><span class="line">            do_second_setup()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">            perform_action()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>):</span><br><span class="line">            do_first_cleanup()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>):</span><br><span class="line">            do_first_cleanup()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> <a href="#TE">TE</a> flag is always implicitly set for <a href="#Finally">Finally</a> steps
to ensure that failure of one step does not prevent execution
of other <a href="#Finally">Finally</a> steps.</p>
<p>Therefore,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>):</span><br><span class="line">    do_first_cleanup()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>):</span><br><span class="line">    do_first_cleanup()</span><br></pre></td></tr></table></figure>
<p>is equivalent to the following.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Finally(<span class="string">&quot;first clean up&quot;</span>, flags=TE):</span><br><span class="line">    do_first_cleanup()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> And(<span class="string">&quot;second clean up&quot;</span>, flags=TE):</span><br><span class="line">    do_first_cleanup()</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="Given-With-yield"><a href="#Given-With-yield" class="headerlink" title="Given With yield"></a>Given With <code>yield</code></h2><p>Because any <a href="#Given">Given</a> step usually has a corresponding <a href="#Finally">Finally</a> step
<strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> supports <code>yield</code> statement inside a decorated <a href="#Given">Given</a> step
to convert the decorated function into a generator that
will be first run to execute the setup and then executed
the second time to perform the clean during test’s teardown.</p>
<blockquote>
<p><strong>&#9995;</strong> It is an error to define a <a href="#Given">Given</a> step that
contains multiple <code>yield</code> statements.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_setup</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#do_setup()</span></span><br><span class="line">        <span class="keyword">yield</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="comment"># do_cleanup()</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">			</span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">        my_setup()</span><br></pre></td></tr></table></figure>

<p>Executing the example above shows that the <a href="#Finally">Finally</a> step gets executed
at the end of the test.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:26:23   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:26:23     ⟥  Given my setup, flags:MANDATORY</span><br><span class="line">                 1ms     ⟥⟤ OK my setup, /my scenario/my setup</span><br><span class="line">Sep 07,2021 19:26:23     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">Sep 07,2021 19:26:23       ⟥  And clean up, flags:MANDATORY</span><br><span class="line">               442us       ⟥⟤ OK clean up, /my scenario/I clean up/clean up</span><br><span class="line">                 1ms     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                11ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h3 id="Yielding-Resources"><a href="#Yielding-Resources" class="headerlink" title="Yielding Resources"></a>Yielding Resources</h3><p>If <a href="#Given">Given</a> step creates a resource it can by <code>yield</code>ed
as a value.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep(<span class="params">Given</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_setup</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&quot;resource&quot;</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">with</span> Finally(<span class="string">&quot;clean up&quot;</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">			</span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my scenario&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> Given(<span class="string">&quot;my setup&quot;</span>):</span><br><span class="line">        resource = my_setup()</span><br><span class="line">        note(resource)</span><br></pre></td></tr></table></figure>

<p>produces the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:36:52   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:36:52     ⟥  Given my setup, flags:MANDATORY</span><br><span class="line">               916us     ⟥    [note] resource</span><br><span class="line">                 1ms     ⟥⟤ OK my setup, /my scenario/my setup</span><br><span class="line">Sep 07,2021 19:36:52     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">Sep 07,2021 19:36:52       ⟥  And clean up, flags:MANDATORY</span><br><span class="line">               638us       ⟥⟤ OK clean up, /my scenario/I clean up/clean up</span><br><span class="line">                 1ms     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                12ms   ⟥⟤ OK my scenario, /my scenario</span><br></pre></td></tr></table></figure>

<h2 id="Cleanup-Functions"><a href="#Cleanup-Functions" class="headerlink" title="Cleanup Functions"></a>Cleanup Functions</h2><p>Explicit cleanup functions can be added by calling <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L135">Context.cleanup() function</a>.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_cleanup</span>():</span></span><br><span class="line">    note(<span class="string">&quot;my cleanup&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># add explicit cleanup function to context</span></span><br><span class="line">    self.context.cleanup(my_cleanup)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I perform action&quot;</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>produces the following output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sep 07,2021 19:58:11   ⟥  Scenario my scenario</span><br><span class="line">Sep 07,2021 19:58:11     ⟥  When I perform action</span><br><span class="line">               796us     ⟥⟤ OK I perform action, /my scenario/I perform action</span><br><span class="line">Sep 07,2021 19:58:11     ⟥  Finally I clean up, flags:MANDATORY</span><br><span class="line">               575us     ⟥    [note] my cleanup</span><br><span class="line">               817us     ⟥⟤ OK I clean up, /my scenario/I clean up</span><br><span class="line">                11ms   ⟥⟤ OK my scenario, /my scenario</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Returning-Values"><a href="#Returning-Values" class="headerlink" title="Returning Values"></a>Returning Values</h1><p>A test is not just a function but an entity that can either be run
within caller’s thread, another thread, in a different process
or even on a remote host. Therefore, depending on how a test is called 
returning values from a test might not be as simple as
when one calls a regular function. </p>
<h2 id="Using-value"><a href="#Using-value" class="headerlink" title="Using value()"></a>Using <code>value()</code></h2><p>A generic way for a test to return a value is using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L146">value() function</a>.
Test can call <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L146">value() function</a> to set one or more values.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The values can be retrieved using <code>values</code> attribute of the <code>result</code> of the test</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values</span><br><span class="line">    <span class="comment"># [note] [Value(name=&#x27;first&#x27;,value=&#x27;my first value&#x27;,type=None,group=None,uid=None), Value(name=&#x27;second&#x27;,value=&#x27;my second value&#x27;,type=None,group=None,uid=None)]</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<p>and using the <code>value</code> attribute of the <code>result</code> you can get the last value.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line">    note(my_value) <span class="comment"># [note] my second value</span></span><br></pre></td></tr></table></figure>

<p>Note that if the decorated test is called as a function 
within the same test type the return value is <code>None</code>
if the test function did not return any value using the <code>return</code> statement.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_step() <span class="comment"># returns None</span></span><br></pre></td></tr></table></figure>

<p>But if the test does <code>return</code> a value then it is set as the last value
in the <code>values</code> attribute of the <code>result</code> of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    value(name=<span class="string">&quot;first&quot;</span>, value=<span class="string">&quot;my first value&quot;</span>)</span><br><span class="line">    value(name=<span class="string">&quot;second&quot;</span>, value=<span class="string">&quot;my second value&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my third value&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    my_values = my_step().result.values[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># [note] Value(name=&#x27;return&#x27;,value=&#x27;my third value&#x27;,type=None,group=None,uid=None)</span></span><br><span class="line">    note(my_values)</span><br></pre></td></tr></table></figure>

<h2 id="Using-return"><a href="#Using-return" class="headerlink" title="Using return"></a>Using <code>return</code></h2><p>The most convenient way a decorated test can return a value is 
using <code>return</code> statement. For example, a test step can be defined as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;my value&quot;</span></span><br></pre></td></tr></table></figure>

<p>and when called within another step the returned value is received just
like from a function. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Step(<span class="string">&quot;my step&quot;</span>):</span><br><span class="line">    my_value = my_step()  </span><br></pre></td></tr></table></figure>

<p>This is because calling a decorated test 
within a test of the same type just runs the decorated test function
and therefore the call is similar to calling a function with the ability
to get the return value directly. See <a href="#Calling-Decorated-Tests">Calling Decorated Tests</a>.</p>
<p>However, if you call a decorated test as a function
within a higher test type, for example calling a <a href="#Step">Step</a> within a <a href="#Test">Test</a>,
or when you call an inline defined test, then the return value
is a <code>TestBase</code> object and the returned value needs to be retrieved
as <code>value</code> attribute from the <code>result</code> attribute of the <code>TestBase</code> object
or using <code>values</code> attribute to get a list of all the values produced by a test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = my_step()  </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># incorrect - `my_value` is Step object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(test=my_step)()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># incorrect - `my_value` is TestBase object</span></span><br><span class="line">    <span class="comment"># my_value = Step(run=my_step)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># correct  </span></span><br><span class="line">    my_value = my_step().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct </span></span><br><span class="line">    my_value = my_step().result.values[-<span class="number">1</span>].value</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># correct </span></span><br><span class="line">    my_value = Step(test=my_step)().result.value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># correct</span></span><br><span class="line">    my_value = Step(run=my_step).result.value</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Tests"><a href="#Loading-Tests" class="headerlink" title="Loading Tests"></a>Loading Tests</h1><h2 id="Using-load"><a href="#Using-load" class="headerlink" title="Using load()"></a>Using <code>load()</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L48">load() function</a> to load a test or any object from another
module.</p>
<p>For example, given a <a href="#Scenario">Scenario</a> defined in <code>tests/another_module.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test_in_another_module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>then you can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L48">load() function</a> to load this test in another module 
and use it as a base for an inline defined <a href="#Scenario">Scenario</a> as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;my module&quot;</span>):</span><br><span class="line">     Scenario(<span class="string">&quot;my test&quot;</span>, run=load(<span class="string">&quot;tests.another_module&quot;</span>, test=<span class="string">&quot;my_test_in_another_module&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Using-loads"><a href="#Using-loads" class="headerlink" title="Using loads()"></a>Using <code>loads()</code></h2><p>You can use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2515">loads() function</a> to load one or more tests of a given 
test class.</p>
<p>For example, given multiple <a href="#Scenario">Scenario</a>s defined in the same file one can
use <code>loads() function</code> to execute all the <a href="#Scenario">Scenario</a>s as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(current_module(), Scenario):</span><br><span class="line">        scneario()</span><br></pre></td></tr></table></figure>

<p>If a file contains multiple test types then you can just 
specify them as needed. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<p>See also <a href="#Using-current-module">using current_module()</a>.</p>
<h2 id="Using-ordered"><a href="#Using-ordered" class="headerlink" title="Using ordered()"></a>Using <code>ordered()</code></h2><p>By default <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2515">loads() function</a> returns tests in random order. If you want
a deterministic order then use <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2506">ordered() function</a> to sort
a list of tests loaded with <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2515">loads() function</a> by test function name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> ordered(loads(current_module(), Scenario)):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Loading-Modules"><a href="#Loading-Modules" class="headerlink" title="Loading Modules"></a>Loading Modules</h1><h2 id="Using-current-module"><a href="#Using-current-module" class="headerlink" title="Using current_module()"></a>Using <code>current_module()</code></h2><p>Using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L36">current_module() function</a> allows to conveniently reference
the current module. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> test <span class="keyword">in</span> loads(current_module(), Scenario, Suite):</span><br><span class="line">        test()</span><br></pre></td></tr></table></figure>

<h2 id="Using-load-module"><a href="#Using-load-module" class="headerlink" title="Using load_module()"></a>Using <code>load_module()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/funcs.py#L43">load_module() function</a> allows to load any module by specifying module name.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> scenario <span class="keyword">in</span> loads(load_module(<span class="string">&quot;tests.another_module&quot;</span>), Scenario):</span><br><span class="line">        scenario()</span><br></pre></td></tr></table></figure>

<h1 id="Async-Tests"><a href="#Async-Tests" class="headerlink" title="Async Tests"></a>Async Tests</h1><p>Asynchronous tests are natively supported.
All asynchronous tests get <a href="#ASYNC">ASYNC</a> flag set in <a href="#flags">flags</a>.</p>
<h2 id="Inline-1"><a href="#Inline-1" class="headerlink" title="Inline"></a>Inline</h2><p>An inline asynchronous tests can be defined using <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/compound_stmts.html#async-with">async with</a> statement as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">with</span> Test(<span class="string">&quot;my async test&quot;</span>):</span><br><span class="line">        <span class="keyword">async</span> <span class="keyword">with</span> Step(<span class="string">&quot;my async test step&quot;</span>):</span><br><span class="line">            note(<span class="string">&quot;Hello from asyncio!&quot;</span>)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">asyncio.run(module())</span><br></pre></td></tr></table></figure>

<h2 id="Decorated-1"><a href="#Decorated-1" class="headerlink" title="Decorated"></a>Decorated</h2><p>A decorated asynchronous test can be defined in a similar way as a non-asynchronous test. 
The only difference is that the decorated function must be asynchronous
and be defined using <code>async def</code> keyword just like any other asynchronous function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self, number</span>):</span></span><br><span class="line">    note(<span class="string">&quot;Hello from async scenario &#123;number&#125;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test)(number=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">await</span> Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test)(number=<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">asyncio.run(module())</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>&#9995;</strong> See <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/asyncio.html">asyncio</a> module to learn more about asynchronous programming in <a target="_blank" rel="noopener" href="https://www.python.org/">Python</a>.</p>
</blockquote>
<h1 id="Parallel-Tests"><a href="#Parallel-Tests" class="headerlink" title="Parallel Tests"></a>Parallel Tests</h1><h2 id="Running"><a href="#Running" class="headerlink" title="Running"></a>Running</h2><p>Tests can be executed in parallel either using threads 
or asynchronous executor defined using <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/executor/thread.py#L50">ThreadPool class</a> or <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/executor/asyncio.py#L103">AsyncPool class</a> respectively.</p>
<p>In order to run a test in parallel, a test must either have <a href="#PARALLEL">PARALLEL</a> flag
set or <code>parallel=True</code> specified during test definition.</p>
<p>A parallel executor can be specified using <code>executor</code> parameter. If no executor
is explicitly specified then a default executor is created for the
test of the type that is needed to execute a test. </p>
<blockquote>
<p><strong>&#9995;</strong> Note that the default executor does not have a limit on a number
of parallel tests as the pool size is not limited.</p>
</blockquote>
<p>Here is an example when <code>executor</code> is not specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self, number, sleep=<span class="number">1</span></span>):</span></span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> starting&quot;</span>)  </span><br><span class="line">    time.sleep(sleep)</span><br><span class="line">    note(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> done&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> main():</span><br><span class="line">    module()</span><br></pre></td></tr></table></figure>

<h2 id="Using-join"><a href="#Using-join" class="headerlink" title="Using join()"></a>Using <code>join()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/__init__.py#L105">join() function</a> can be used to join any currently running parallel tests.
For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">module</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># wait until `my test 0` and `my test 1` complete</span></span><br><span class="line">    join()</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 2&quot;</span>, test=my_test, parallel=<span class="literal">True</span>)(number=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Parallel-Executors"><a href="#Parallel-Executors" class="headerlink" title="Parallel Executors"></a>Parallel Executors</h1><p>Parallel executors can be used to gain fine grain control of how many
tests are executed in parallel.</p>
<blockquote>
<p><strong>&#9995;</strong> You should not share a single pool executor between different tests
as it can lead to a deadlock given that a situation might arise when a parent test
can be left waiting for the child test to complete and a child test will not be
able to complete due to the shared pool having no available workers.</p>
</blockquote>
<p>If you want to share a pool between different tests you must use either 
<code>SharedThreadPool class</code> or <code>SharedAsyncPool class</code> for normal or asynchronous tests
respectively. These classes ensure that a deadlock between a parent and child test is avoided
by blocking and waiting for completion of any task that is submitted when no idle workers
are available.</p>
<h2 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a>Thread Pool</h2><p>A thread pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/executor/thread.py#L50">Pool class</a> which is
a short form to define a <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/executor/thread.py#L50">ThreadPool class</a> and will run a test in another thread. </p>
<p>The maximum number of threads can be controlled by setting <code>max_workers</code>
parameter and by default is set to <code>16</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool then the currently available
threads then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> Pool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 0&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my test 1&quot;</span>, test=my_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Async-Pool"><a href="#Async-Pool" class="headerlink" title="Async Pool"></a>Async Pool</h2><p>An asynchronous pool executor is defined by creating an object of <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/parallel/executor/asyncio.py#L103">AsyncPool class</a>
and will run an asynchronous test using a new loop running in another thread unless
<code>loop</code> parameter is explicitly specified during executor object creation.</p>
<p>The maximum number of concurrent asynchronous tasks can be controlled by setting <code>max_workers</code>
parameter and by default is set to <code>1024</code>. If <code>max_workers</code> is set to <code>None</code>
then the pool size is not limited.</p>
<p>If there are more tasks submitted to the pool then the currently available
threads then any extra tasks will block until a worker in the pool
is freed up.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> AsyncPool(<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 0&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">0</span>)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my async test 1&quot;</span>, test=my_async_test, parallel=<span class="literal">True</span>, executor=pool)(number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Crossing-Out-Results"><a href="#Crossing-Out-Results" class="headerlink" title="Crossing Out Results"></a>Crossing Out Results</h1><p>All test results except <a href="#Skip">Skip</a> result can be cross out including <a href="#OK">OK</a>. This functionality
is useful when one or more tests fail and you don’t want to see the next run
fail because of the same test failing.</p>
<p>Crossing out a result means converting it to the corresponding crossed out result
that starts with <code>X</code>.</p>
<ul>
<li><del><a href="#Fail">Fail</a></del> becomes <a href="#XFail">XFail</a></li>
<li><del><a href="#Error">Error</a></del> becomes <a href="#XError">XError</a></li>
<li><del><a href="#Null">Null</a></del> becomes <a href="#XNull">XNull</a></li>
<li><del><a href="#OK">OK</a></del> becomes <a href="#XOK">XOK</a></li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> The concept of crossing out result should not be confused with expected results.
It is invalid to say that, for example <a href="#XFail">XFail</a>, means an expected fail. 
In general if you expect a fail then if the result of the test is <a href="#Fail">Fail</a> then
the final test result is <a href="#OK">OK</a> and anything other result would cause the final
result to be <a href="#Fail">Fail</a> as the expectation was not satisfied.</p>
</blockquote>
<p>The correct way to think about crossed out results is to imagine that a test
summary report is printed on a paper and after looking over the test results
and performing some analysis any result can be crossed out with an optional reason. </p>
<p>Only the result that exactly matches the result to be crossed out is actually crossed out.
For example, if you want to cross out <a href="#Fail">Fail</a> result of the test but the test has
a different result then it will not be crossed out.</p>
<p>The actual crossing out of the results is done by specifying either <a href="#xfails">xfails</a> parameter
of the test or using <a href="#xfails">XFails</a> decorator.</p>
<p>In general, the <a href="#xfails">xfails</a> are set at the level of the top test. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@XFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;known issue&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">OK, <span class="string">&quot;need to check if the issue has been fixed&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    ],</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Fail, <span class="string">&quot;other known issue&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params">Error, <span class="string">&quot;can also error&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self</span>):</span></span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<p>All the <a href="#pattern">pattern</a>s are usually specified using relative form and are 
anchored to the top level test during assignment.</p>
<h1 id="Setting-or-Clearing-Flags"><a href="#Setting-or-Clearing-Flags" class="headerlink" title="Setting or Clearing Flags"></a>Setting or Clearing Flags</h1><p>Test flags can be set or cleared externally using <a href="#xflags">xflags</a> or <a href="#xflags">XFlags</a> decorator.
This test attribute is pushed down the flow from parent test to child tests
as long as the <a href="#pattern">pattern</a> has a chance of matching.</p>
<p>This allows setting or clearing flags for any child test at any level of the test flow
including at the top level test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@XFlags(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: (<span class="params"><span class="number">0</span>, TE</span>), <span class="comment"># clear TE flag</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: (<span class="params">TE, <span class="number">0</span></span>) <span class="comment"># set TE flag</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self</span>):</span></span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<h1 id="Forcing-Results"><a href="#Forcing-Results" class="headerlink" title="Forcing Results"></a>Forcing Results</h1><p>Test result can be forced and the body of the test skipped
by using <a href="#ffails">ffails</a> or <a href="#ffails">FFails</a> decorator.
This test attribute is pushed down the flow from parent test to child tests
as long as the <a href="#pattern">pattern</a> has a chance of matching.</p>
<p>This allows to force the result of any child test at any level of the test flow
including at the top level test.</p>
<blockquote>
<p><strong>&#9995;</strong> When test result is forced the body of the test is not executed.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestModule</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span></span>), <span class="comment"># skip body of the test and force `Fail` result </span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my suite/my other test&quot;</span>: (<span class="params">SKIP, <span class="string">&quot;not supported&quot;</span></span>) <span class="comment"># skip body of the test and force `Skip` result</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regression</span>(<span class="params">self</span>):</span></span><br><span class="line">    Suite(run=my_suite)</span><br></pre></td></tr></table></figure>

<p>The optional <code>when</code> function can also be specified.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">version</span>(<span class="params">*versions</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Check if the value of version test context variable</span></span><br><span class="line"><span class="string">    matches any in the list.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_when</span>(<span class="params">test</span>):</span></span><br><span class="line">        <span class="keyword">return</span> test.context.version <span class="keyword">in</span> versions</span><br><span class="line">    <span class="keyword">return</span> _when</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestSuite</span></span><br><span class="line"><span class="meta">@FFails(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="comment"># force fail &quot;my test&quot; because it gets stuck on version 2.0</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my test&quot;</span>: (<span class="params">Fail, <span class="string">&quot;test gets stuck&quot;</span>, version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">suite</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=my_test)</span><br></pre></td></tr></table></figure>

<h2 id="Forced-Result-Decorators"><a href="#Forced-Result-Decorators" class="headerlink" title="Forced Result Decorators"></a>Forced Result Decorators</h2><p>Forced result decorators such as <a href="#Skipped">Skipped</a>, <a href="#Failed">Failed</a>, <a href="#XFailed">XFailed</a>, <a href="#XErrored">XErrored</a>, <a href="#Okayed">Okayed</a>,
and <a href="#XOkayed">XOkayed</a> can be used to tie force result right where the test is defined.</p>
<blockquote>
<p><strong>&#9995;</strong> When test result is forced the body of the test is not executed.</p>
</blockquote>
<p>These decorators are just a short-hand form of
specifying forced results using <a href="#ffails">ffails</a>
test attribute. Therefore, if parent test explicitly specifies <a href="#ffails">ffails</a> then it overrides
forced results tied to the test.</p>
<blockquote>
<p><strong>&#9995;</strong> Only one such decorator can be applied to a given test.
If you need to specify more than one forced result then <a href="#ffails">FFails</a> decorator shall be used.</p>
</blockquote>
<p>See also description for the <a href="#Optional-when-Condition">Optional <code>when</code> Condition</a>.</p>
<h3 id="Skipped"><a href="#Skipped" class="headerlink" title="Skipped"></a>Skipped</h3><p>The <a href="#Skipped">Skipped</a> decorator can be used to force <a href="#Skip">Skip</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Skipped(<span class="params"><span class="string">&quot;not supported on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="Failed"><a href="#Failed" class="headerlink" title="Failed"></a>Failed</h3><p>The <a href="#Failed">Failed</a> decorator can be used to force <a href="#Fail">Fail</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Failed(<span class="params"><span class="string">&quot;force Fail on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XFailed"><a href="#XFailed" class="headerlink" title="XFailed"></a>XFailed</h3><p>The <a href="#XFailed">XFailed</a> decorator can be used to force <a href="#XFail">XFail</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XFailed(<span class="params"><span class="string">&quot;force XFail on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XErrored"><a href="#XErrored" class="headerlink" title="XErrored"></a>XErrored</h3><p>The <a href="#XErrored">XErrored</a> decorator can be used to force <a href="#XError">XError</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XErrored(<span class="params"><span class="string">&quot;force XError on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="Okayed"><a href="#Okayed" class="headerlink" title="Okayed"></a>Okayed</h3><p>The <a href="#Okayed">Okayed</a> decorator can be used to force <a href="#OK">OK</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Okayed(<span class="params"><span class="string">&quot;force OK result on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="XOkayed"><a href="#XOkayed" class="headerlink" title="XOkayed"></a>XOkayed</h3><p>The <a href="#XOkayed">XOkayed</a> decorator can be used to force <a href="#XOK">XOK</a> result.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@XOkayed(<span class="params"><span class="string">&quot;force XOK result on 2.0&quot;</span>, when=version(<span class="params"><span class="string">&quot;2.0&quot;</span></span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_test</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Repeating-Tests"><a href="#Repeating-Tests" class="headerlink" title="Repeating Tests"></a>Repeating Tests</h1><p>You can repeat tests by specifying <a href="#Repeats">repeats</a> parameter either explicitly
for inline tests or using <a href="#Repeats">Repeats</a> or <a href="#Repeat">Repeat</a> decorator for decorated tests.</p>
<p>Repeating a test means to rerun it multiple times. For each run a new <a href="#Iteration">Iteration</a> is 
creating with the name being the index of the current iteration. The result of each
iteration is counted and fails are not ignored. </p>
<p>In general, it’s useful to repeat a test when you would like to confirm test stability.
In addition to specifying repeats inside a test program you can also pass [–repeat option]
to your test program to specify which tests you would like to repeat from the command line.</p>
<blockquote>
&#9995; If need you need to repeat a test and you would like to count only
<p>the last passing iteration see <a href="#Retrying-Tests">Retrying Tests</a> section.</p>
</blockquote>
<p>You can combine <a href="#Repeats">Repeats</a> with <a href="#Retries">Retries</a> and if done so retries are performed
for each <a href="#Iteration">Iteration</a>. </p>
<p>You can repeat a test <code>until</code> either <code>pass</code>, <code>fail</code> or <code>complete</code> criteria is met
by specifying <code>until</code> parameter.</p>
<blockquote>
<p><strong>&#9995;</strong> Repeats can only be applied to tests that have a <a href="#Types">Test Type</a> or higher.
Repeating <a href="#Step">Step</a>s is not supported.</p>
</blockquote>
<h2 id="Until-Condition"><a href="#Until-Condition" class="headerlink" title="Until Condition"></a>Until Condition</h2><h3 id="pass"><a href="#pass" class="headerlink" title="pass"></a><code>pass</code></h3><p>Until <strong>pass</strong> means that iteration over a test will stop before the specified number of
repeats if an iteration has a passing results. Passing results include <a href="#OK">OK</a>, <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XOK">XOK</a>, <a href="#XNull">XNull</a>.</p>
<h3 id="fail"><a href="#fail" class="headerlink" title="fail"></a><code>fail</code></h3><p>Until <strong>fail</strong> means that iteration over a test will stop before the specified number
of repeats if an iteration has a failing results. Failing results include <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>.</p>
<h3 id="complete"><a href="#complete" class="headerlink" title="complete"></a><code>complete</code></h3><p>Until <strong>complete</strong> means that iteration over a test will stop only after the specified number
of repeats is performed regardless of the result of each iteration. </p>
<h2 id="Repeats"><a href="#Repeats" class="headerlink" title="Repeats"></a>Repeats</h2><p>The <a href="#Repeats">Repeats</a> decorator can be applied to a decorated test that has a <a href="#Types">Test Type</a> or higher.
Repeating test <a href="#Step">Step</a>s is not allowed. The <a href="#Repeats">Repeats</a> decorator should be used
when you want to specify more than one test to be repeated. The tests to be repeated
are selected using test <a href="#pattern">pattern</a>s. The <a href="#Repeats">Repeats</a> decorator sets <a href="#Repeats">repeats</a> attribute
of the test.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Repeats(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 0&quot;</span>: (<span class="params"><span class="number">5</span>, <span class="string">&quot;pass&quot;</span></span>) <span class="comment"># (count, until)</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 1&quot;</span>: (<span class="params"><span class="number">10</span>, <span class="string">&quot;complete&quot;</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 2&quot;</span>: (<span class="params"><span class="number">3</span>, <span class="string">&quot;fail&quot;</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(run=<span class="string">&quot;my_scenario&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>If you want to specify to repeat only one test it is more convenient to use <a href="#Repeat">Repeat</a>
decorator instead.</p>
<h2 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h2><p>The <a href="#Repeat">Repeat</a> decorator is used to specify a repetition for a single test that has
a <a href="#Types">Test Type</a> or higher. Repeating test <a href="#Step">Step</a>s is not allowed. The <a href="#Repeat">Repeat</a> decorator is 
usually applied the test to which the decorator is attached as by default, the <code>pattern</code> is empty
and means it applies to the current test and the <code>until</code> is set to <code>complete</code>
which means that the test will be repeated the specified number of times.</p>
<blockquote>
<p><strong>&#9995;</strong> If you need to specify repeat for more than one test
use <a href="#Repeats">Repeats</a> decorator instead.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Repeat">Repeat</a> decorator cannot be applied more than one time
to the same test.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Repeat(<span class="params"><span class="number">5</span></span>) </span><span class="comment"># by default pattern=&quot;&quot;, until=&quot;complete&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>If you want to specify custom <code>pattern</code> or <code>until</code> condition then pass them
using <code>pattern</code> and <code>until</code> parameters respectively.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Repeat(<span class="params">count=<span class="number">5</span>, pattern=<span class="string">&quot;my subtest&quot;</span>, until=<span class="string">&quot;fail&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my subtest&quot;</span>, run=my_test)</span><br></pre></td></tr></table></figure>

<h1 id="Retrying-Tests"><a href="#Retrying-Tests" class="headerlink" title="Retrying Tests"></a>Retrying Tests</h1><p>You can retry tests until they pass or until the number of retries is exhausted 
or timeout is reached by specifying <a href="#Retries">retries</a> parameter either explicitly
for inline tests or using <a href="#Retries">Retries</a> or <a href="#Retry">Retry</a> decorator for decorated tests.</p>
<p>Retrying a test means to rerun it multiple times until it passes.
A pass means that a retry has either <a href="#OK">OK</a>, <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a>, <a href="#XOK">XOK</a>, or <a href="#Skip">Skip</a>
result.</p>
<p>For each attempt a <a href="#RetryIteration">RetryIteration</a> is created with the name corresponding to the 
attempt number. Any fails of an individual
attempt are ignored except for the last retry attempt. Last <a href="#RetryIteration">RetryIteration</a>
is marked using <a href="#LAST_RETRY">LAST_RETRY</a> flag.</p>
<p>In general, it’s useful to retry a test when test is unstable and sometimes could fail
but you still would like to run it as long as it passes within the specified number
of attempts or within a specified timeout period.</p>
<h2 id="Retries"><a href="#Retries" class="headerlink" title="Retries"></a>Retries</h2><p>The <a href="#Retries">Retries</a> decorator can be applied to any decorated test including steps or higher.
The <a href="#Retries">Retries</a> decorator should be used when you want to specify more than one test to be retried.
The tests to be retried are selected using test <a href="#pattern">pattern</a>s. The <a href="#Retries">Retries</a> decorator sets <a href="#Retries">retries</a> attribute
of the test and causes the test to be retried until either it passes or maximum
number of retries is reached or timeout occurs if a timeout was specified.</p>
<p>The <a href="#Retries">Retries</a> decorator takes as an argument a dictionary of the following form</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    pattern: count[, timeout[, delay[, backoff[, jitter]]]],</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where </p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter 
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
</ul>
<p>If both <code>count</code> and <code>timeout</code> are specified then the test is retried until
either until maximum retry <code>count</code> is reached or <code>timeout</code> is hit - whichever comes first.</p>
<blockquote>
<p><strong>&#9995;</strong> By default, if number of retries or timeout is not specified then
the test will be retried until it passes but note that if the test can’t reach a passing result
then it can lead to an infinite loop.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestFeature</span></span><br><span class="line"><span class="meta">@Retries(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 0&quot;</span>: <span class="number">5</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;my scenario 1&quot;</span>: <span class="number">10</span></span></span></span><br><span class="line"><span class="params"><span class="meta">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_feature</span>(<span class="params">self</span>):</span></span><br><span class="line">    Scenario(name=<span class="string">&quot;my scenario 0&quot;</span>, run=my_scenario)</span><br><span class="line">    Scenario(name=<span class="string">&quot;my scenario 1&quot;</span>, run=my_scenario)</span><br></pre></td></tr></table></figure>

<p>will retry test <code>my scenario 0</code> maximum <code>5</code> times and <code>my scenario 1</code> maximum 10 times.  </p>
<p>If you want to retry only one test it is more convenient to use <a href="#Retry">Retry</a>
decorator instead.</p>
<h2 id="Retry"><a href="#Retry" class="headerlink" title="Retry"></a>Retry</h2><p>The <a href="#Retry">Retry</a> decorator is used to specify a retry for a single test that has
a <a href="#Types">Step Type</a> or higher. The <a href="#Retry">Retry</a> decorator is 
usually applied the test to which the decorator is attached as by default, the <code>pattern</code> is empty
and that means it applies to the current test.
The <a href="#Retry">Retry</a> decorator sets <a href="#Retries">retries</a> attribute
of the test and causes the test to be retried until either it passes, maximum
number of retries or timeout is reached. </p>
<blockquote>
<p><strong>&#9995;</strong> If you need to specify retries for more than one test
use <a href="#Retries">Retries</a> decorator instead.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> <a href="#Retry">Retry</a> decorator cannot be applied more than one time
for the same test.</p>
</blockquote>
<p>The <a href="#Retry">Retry</a> decorator can take the following optional arguments</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Retry(count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>, pattern=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>where </p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter 
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
<li><code>pattern</code> is the test name pattern, default: <code>&quot;&quot;</code> which means the current test</li>
</ul>
<p>If both <code>count</code> and <code>timeout</code> are specified then the test is retried until
either until maximum retry <code>count</code> is reached or <code>timeout</code> is hit - whichever comes first.</p>
<blockquote>
<p><strong>&#9995;</strong> By default, if number of retries or timeout is not specified then
the test will be retried until it passes but note that if the test can’t reach a passing result
then it can lead to an infinite loop.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Retry(<span class="params"><span class="number">5</span></span>) </span><span class="comment"># by default pattern=&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>or you can specify <code>pattern</code> explicitely. For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestScenario</span></span><br><span class="line"><span class="meta">@Retry(<span class="params"><span class="number">5</span>, pattern=<span class="string">&quot;test to repeat&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_scenario</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h1 id="Retrying-Code-or-Function-Calls"><a href="#Retrying-Code-or-Function-Calls" class="headerlink" title="Retrying Code or Function Calls"></a>Retrying Code or Function Calls</h1><p>When you need to retry a block of code or a function call you can use
<a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L737">retries class</a> and <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2619">retry() function</a> respectively. This class and function
is flexible enough to retry functions or inline code that contains tests.</p>
<h2 id="Using-retries"><a href="#Using-retries" class="headerlink" title="Using retries()"></a>Using <code>retries()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/objects.py#L737">retries class</a> can be used to retry any block of inline code and is flexible
enough to retry code includes tests. </p>
<p>It takes the following optional arguments:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">retries(count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter 
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
</ul>
<p>and returns an iterator that can be used in <code>for</code> loop. For each iteration
the iterator return a <code>RetryIteration</code> object that wrap the code that needs to be retries.</p>
<p>For example, below we wait for the code to succeed within <code>5</code> sec using <code>0.1</code> sec delay
between retries and backoff multiplier of <code>1.2</code> with jitter range
between <code>-0.05</code> min to <code>0.05</code> max.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I try to get a random number&quot;</span>):</span><br><span class="line">        <span class="keyword">for</span> attempt <span class="keyword">in</span> retries(timeout=<span class="number">5</span>, delay=<span class="number">0.1</span>, backoff=<span class="number">1.2</span>, jitter=(-<span class="number">0.05</span>,<span class="number">0.05</span>)):</span><br><span class="line">            <span class="keyword">with</span> attempt:</span><br><span class="line">                <span class="keyword">assert</span> random.random() &gt; <span class="number">0.8</span>, error()</span><br></pre></td></tr></table></figure>

<p>The code block is considered as succeeded if no exception is raised. </p>
<p>If an exception is raised the code is retried until it succeeds or if specified 
the maximum number of retries or timeout is reached.</p>
<h2 id="Using-retry"><a href="#Using-retry" class="headerlink" title="Using retry()"></a>Using <code>retry()</code></h2><p>The <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2619">retry() function</a> can be used to retry any function call
including decorated tests.</p>
<p>It takes the following arguments where only <code>func</code> is mandatory.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">retry(func, count=<span class="literal">None</span>, timeout=<span class="literal">None</span>, delay=<span class="number">0</span>, backoff=<span class="number">1</span>, jitter=<span class="literal">None</span>)(*args, **kwargs)</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>func</code> is the function to be retried</li>
<li><code>count</code> is the number of retries, default: <code>None</code></li>
<li><code>timeout</code> is timeout in seconds, default: <code>None</code></li>
<li><code>delay</code> delay between retries in seconds, default: <code>0</code></li>
<li><code>backoff</code> delay backoff multiplier, default: <code>1</code></li>
<li><code>jitter</code> tuple of the form <code>(min, max)</code> that specifies delay jitter 
normally distributed between the <code>min</code> and <code>max</code> values, default: <code>None</code></li>
</ul>
<p>that returns a wrapper function which then can be called with any arguments that are
passed to the retried <code>func</code> on each retry.</p>
<p>For example,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_func</span>(<span class="params">x</span>):</span></span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    value = retry(my_func, timeout=<span class="number">5</span>)(<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>Here is an example that shows how <a target="_blank" rel="noopener" href="https://github.com/testflows/TestFlows-Core/blob/6ce5978f80aabb84544eefc8dbd753aa39245fc2/testflows/_core/test.py#L2619">retry() function</a> can be used to retry a test step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> testflows.asserts <span class="keyword">import</span> error</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_func</span>(<span class="params">x</span>):</span></span><br><span class="line">    v = random.random()</span><br><span class="line">    <span class="keyword">assert</span> v &lt; x, error()</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line"></span><br><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self, x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    note(retry(my_step, timeout=<span class="number">5</span>)(x=<span class="number">0.2</span>).result.value)</span><br></pre></td></tr></table></figure>

<p>The same behavior can be achieved by setting <code>retries</code> attribute of the test.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self, x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    When(<span class="string">&quot;I run my step&quot;</span>, test=my_step, retries=Retry(timeout=<span class="number">5</span>))(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<p>You can also use <code>retry() function</code> inside an inline step.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TestStep</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_step</span>(<span class="params">self, x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> my_func(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">with</span> When(<span class="string">&quot;I run my step&quot;</span>):</span><br><span class="line">        retry(my_step, timeout=<span class="number">5</span>)(x=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Using-YML-Config-Files"><a href="#Using-YML-Config-Files" class="headerlink" title="Using YML Config Files"></a>Using YML Config Files</h1><p>All the test programs have a common optional <code>--config</code> argument that allows to 
specify one or more configuration files in <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> format.
The configuration files can be used to specify either common test program arguments 
such as <a href="#%E2%80%93no-colors">–no-colors</a>, <a href="#%E2%80%93output">–output</a>, etc. as well custom
<a href="#Command-Line-Arguments">Command Line Arguments</a> that added using 
<a href="#argparser">argparser</a> parameter.</p>
<blockquote>
<p><em>&#9995;</em> Technically <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> files should always start with <code>---</code>
to indicate the start of a new document. However, in <em><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></em> configuration
files you can omit them.</p>
</blockquote>
<h2 id="Test-Run-Arguments"><a href="#Test-Run-Arguments" class="headerlink" title="Test Run Arguments"></a>Test Run Arguments</h2><p>Common test run arguments such as <a href="#%E2%80%93no-colors">–no-colors</a>, <a href="#%E2%80%93output">–output</a>, etc. must be specified
in the <code>test run:</code> section of the <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file.</p>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>can be called with the following <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> config file to set <a href="#%E2%80%93output">–output</a> and <a href="#%E2%80%93no-colors">–no-colors</a>
options for the test program run.</p>
<blockquote>
<p><code>config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">test run:</span></span><br><span class="line"> <span class="attr">no-colors:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">output:</span> <span class="string">progress</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
&#9995; Names of the common test run arguments have the same names as the corresponding
<p>command line option without the <code>--</code> prefix.</p>
<p>For example,</p>
<ul>
<li> <code>--no-colors</code> is <code>no-colors:</code></li>
<li> <code>--output</code> is <code>output:</code></li>
<li> <code>--show-skipped</code> is <code>show-skipped:</code></li>
</ul>
</blockquote>
<p>If you run <code>test.py</code> and apply the above <code>config.yml</code> you will see that the output format
for the test run will be set to <code>progress</code> and no terminal color highlighting will be applied
to the output.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --config config.yml</span><br><span class="line">Executed 1 <span class="built_in">test</span> (1 ok)</span><br><span class="line"></span><br><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /my <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">1 scenario (1 ok)</span><br></pre></td></tr></table></figure>

<h2 id="Custom-Arguments"><a href="#Custom-Arguments" class="headerlink" title="Custom Arguments"></a>Custom Arguments</h2><p>Test program custom <a href="#Command-Line-Arguments">Command Line Arguments</a> that are added using 
<a href="#argparser">argparser</a> parameter can be specified at the top level of <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file.</p>
<blockquote>
&#9995; Names of the custom options have the same names as the corresponding
<p>command line option without the <code>--</code> prefix.</p>
<p>For example,</p>
<ul>
<li> <code>--custom-arg</code> is <code>custom-colors:</code></li>
<li> <code>--build</code> is <code>build:</code></li>
</ul>
</blockquote>
<p>For example,</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argparser</span>(<span class="params">parser</span>):</span></span><br><span class="line">   parser.add_argument(<span class="string">&quot;--custom-arg&quot;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&quot;my custom test program argument&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>, argparser=argparser):</span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>and if you havee the following configuration file</p>
<blockquote>
<p><code>config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">there</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>and apply it when running <code>test.py</code> then you will see that <code>custom-arg</code> value
will be set to the one you’ve specified in the <code>config.yml</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -c config.yml</span><br><span class="line">Sep 24,2021 21:40:52   ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                            Attributes</span><br><span class="line">                              custom-arg</span><br><span class="line">                                hello there</span><br><span class="line">                 3ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h2 id="Applying-Multiple-YML-Files"><a href="#Applying-Multiple-YML-Files" class="headerlink" title="Applying Multiple YML Files"></a>Applying Multiple YML Files</h2><p>If more than one <a target="_blank" rel="noopener" href="https://yaml.org/">YML</a> configuration file is specified on the command line
then config files are applied left to right based on the order they are specified
on the command line with the right most file having the highest precedence.</p>
<p>For example,</p>
<blockquote>
<p><code>config1.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">here</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><code>config2.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom-arg:</span> <span class="string">hello</span> <span class="string">there</span></span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -c config1.yml -c config2.yml</span><br><span class="line">Sep 24,2021 21:48:47   ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                            Attributes</span><br><span class="line">                              custom-arg</span><br><span class="line">                                hello there</span><br><span class="line">                 4ms   ⟥⟤ OK my <span class="built_in">test</span>, /my <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<h1 id="Test-Program-Options"><a href="#Test-Program-Options" class="headerlink" title="Test Program Options"></a>Test Program Options</h1><h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="h-–help"><a href="#h-–help" class="headerlink" title="-h, –help"></a>-h, –help</h3><p>The <code>-h</code>, <code>--help</code> option can be used to obtain help message that describes all the command line
options a test can accept. For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<h3 id="l-–log"><a href="#l-–log" class="headerlink" title="-l, –log"></a>-l, –log</h3><p>The <code>-l</code>, <code>--log</code> option can be used to specify the path of the file where test log will be saved.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --<span class="built_in">log</span> ./test.log</span><br></pre></td></tr></table></figure>

<h3 id="–name"><a href="#–name" class="headerlink" title="–name"></a>–name</h3><p>The <code>--name</code> option can be used to specify the name of the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --name <span class="string">&quot;My custom top level test name&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–tag"><a href="#–tag" class="headerlink" title="–tag"></a>–tag</h3><p>The <code>--tag</code> option can be used to specify one or more tags for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --tag <span class="string">&quot;tag0&quot;</span> <span class="string">&quot;tag1&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="–attr"><a href="#–attr" class="headerlink" title="–attr"></a>–attr</h3><p>The <code>--attr</code> option can be used to specify one or more attributes for the top level test.
For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --attr attr0=value0 attr1=value1</span><br></pre></td></tr></table></figure>

<h3 id="–debug"><a href="#–debug" class="headerlink" title="–debug"></a>–debug</h3><p>Enable debugging mode. Turned off by default.</p>
<h3 id="–output"><a href="#–output" class="headerlink" title="–output"></a>–output</h3><p>The <code>--output</code> option can be used to control output format of messages printed to <code>stdout</code>.</p>
<h3 id="–no-colors"><a href="#–no-colors" class="headerlink" title="–no-colors"></a>–no-colors</h3><p>The <code>--no-colors</code> option can be used to turn off terminal color highlighting.</p>
<h3 id="–id"><a href="#–id" class="headerlink" title="–id"></a>–id</h3><p>The <code>--id</code> option can be used to specify custom <a href="#Top-Level-Test">Top Level Test</a> id.</p>
<h3 id="–show-skipped"><a href="#–show-skipped" class="headerlink" title="–show-skipped"></a>–show-skipped</h3><p>Show skipped tests.</p>
<h3 id="–show-retries"><a href="#–show-retries" class="headerlink" title="–show-retries"></a>–show-retries</h3><p>Show retried tests.</p>
<h3 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h3><h4 id="pattern"><a href="#pattern" class="headerlink" title="pattern"></a>pattern</h4><p>Options such as <a href="#%E2%80%93only">–only</a>, <a href="#%E2%80%93skip">–skip</a>, <a href="#%E2%80%93start">–start</a>, <a href="#%E2%80%93end">–end</a> as well as
<a href="#%E2%80%93pause-before">–pause-before</a> and <a href="#%E2%80%93pause-after">–pause-after</a> take a <a href="#pattern">pattern</a> to specify the exact test
to which the option shall be applied.</p>
<p>The <a href="#pattern">pattern</a> is used to match test names using a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Glob_(programming)">unix-like file path pattern</a> that supports wildcards</p>
<ul>
<li><code>/</code> path level separator</li>
<li><code>*</code> matches everything</li>
<li><code>?</code> matches any single character</li>
<li><code>[seq]</code> matches any character in seq</li>
<li><code>[!seq]</code> matches any character not in seq</li>
<li><code>:</code> matches anything at the current path level</li>
</ul>
<blockquote>
<p><strong>&#9995;</strong> Note that for a literal match, you must wrap the meta-characters in brackets
where <code>[?]</code> matches the character <code>?</code>.</p>
</blockquote>
<h4 id="–only"><a href="#–only" class="headerlink" title="–only"></a>–only</h4><p>The <code>--only</code> option can be used to filter the test flow so that only the specified tests
are executed.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<blockquote>
<p><strong>&#9995;</strong> Note that most of the time the <a href="#pattern">pattern</a> should end with <code>/*</code> so that
any steps or sub-tests are executed inside the selected test.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --only <span class="string">&quot;/my test/*&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="–skip"><a href="#–skip" class="headerlink" title="–skip"></a>–skip</h4><p>The <code>--skip</code> option can be used to filter the test flow so that the specified tests
are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–start"><a href="#–start" class="headerlink" title="–start"></a>–start</h4><p>The <code>--start</code> option can be used to filter the test flow so that the test flow starts at
the specified test.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–only-tags"><a href="#–only-tags" class="headerlink" title="–only-tags"></a>–only-tags</h4><p>The <code>--only-tags</code> option can be used to filter the test flow so that only
tests with particular tag are selected to run and other are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–skip-tags"><a href="#–skip-tags" class="headerlink" title="–skip-tags"></a>–skip-tags</h4><p>The <code>--skip-tags</code> option can be used to filter the test flow so that only
tests with particular tag are skipped.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–end"><a href="#–end" class="headerlink" title="–end"></a>–end</h4><p>The <code>--end</code> option can be used to filter the test flow so that the test flow ends at
the specified tests.</p>
<blockquote>
<p><strong>&#9995;</strong> Note that mandatory tests will still be run.</p>
</blockquote>
<h4 id="–pause-before"><a href="#–pause-before" class="headerlink" title="–pause-before"></a>–pause-before</h4><p>The <code>--pause-before</code> option can be used to specify the tests before which the test flow
will be paused.</p>
<h4 id="–pause-after"><a href="#–pause-after" class="headerlink" title="–pause-after"></a>–pause-after</h4><p>The <code>--pause-after</code> option can be used to specify the tests after which the test flow
will be paused.</p>
<h4 id="–pause-on-pass"><a href="#–pause-on-pass" class="headerlink" title="–pause-on-pass"></a>–pause-on-pass</h4><p>The <code>--pause-on-pass</code> option can be used to specify the tests after which the test flow
will be paused if the test has a passing result.</p>
<h4 id="–pause-on-fail"><a href="#–pause-on-fail" class="headerlink" title="–pause-on-fail"></a>–pause-on-fail</h4><p>The <code>--pause-on-fail</code> option can be used to specify the tests after which the test flow
will be paused if the test has a failing result.</p>
<h4 id="–repeat"><a href="#–repeat" class="headerlink" title="–repeat"></a>–repeat</h4><p>The <code>--repeat</code> option can be used to specify the tests to be repeated.</p>
<h4 id="–retry"><a href="#–retry" class="headerlink" title="–retry"></a>–retry</h4><p>The <code>--retry</code> option can be used to specify the tests to be retried.</p>
<h1 id="Test-Flags"><a href="#Test-Flags" class="headerlink" title="Test Flags"></a>Test Flags</h1><p><strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> supports the following test flags.</p>
<h2 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h2><p>Test to end flag. Continues executing tests even if this test fails.</p>
<h2 id="UT"><a href="#UT" class="headerlink" title="UT"></a>UT</h2><p>Utility test flags. Marks test as utility for reporting.</p>
<h2 id="SKIP"><a href="#SKIP" class="headerlink" title="SKIP"></a>SKIP</h2><p>Skip test flag. Skips the test during execution.</p>
<h2 id="EOK"><a href="#EOK" class="headerlink" title="EOK"></a>EOK</h2><p>Expected <a href="#OK">OK</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#OK">OK</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EFAIL"><a href="#EFAIL" class="headerlink" title="EFAIL"></a>EFAIL</h2><p>Expected <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Fail">Fail</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="EERROR"><a href="#EERROR" class="headerlink" title="EERROR"></a>EERROR</h2><p>Expected <a href="#Error">Error</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Error">Error</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="ESKIP"><a href="#ESKIP" class="headerlink" title="ESKIP"></a>ESKIP</h2><p>Expected <a href="#Skip">Skip</a> flag. Test result will be set to <a href="#Fail">Fail</a> if the test result is not <a href="#Skip">Skip</a> otherwise <a href="#OK">OK</a>.</p>
<h2 id="XOK-1"><a href="#XOK-1" class="headerlink" title="XOK"></a>XOK</h2><p>Cross out <a href="#OK">OK</a> flag. Test result will be set to <a href="#XOK">XOK</a> if the test result is <a href="#OK">OK</a>.</p>
<h2 id="XFAIL"><a href="#XFAIL" class="headerlink" title="XFAIL"></a>XFAIL</h2><p>Cross out <a href="#Fail">Fail</a> flag. Test result will be set to <a href="#XFail">XFail</a> if the test result is <a href="#Fail">Fail</a>.</p>
<h2 id="XERROR"><a href="#XERROR" class="headerlink" title="XERROR"></a>XERROR</h2><p>Cross out <a href="#Error">Error</a> flag. Test result will be set to <a href="#XError">XError</a> if the test result is <a href="#Error">Error</a>.</p>
<h2 id="XNULL"><a href="#XNULL" class="headerlink" title="XNULL"></a>XNULL</h2><p>Cross out <a href="#Null">Null</a> flag. Test result will be set to <a href="#XNull">XNull</a> if the test result is <a href="#Null">Null</a>.</p>
<h2 id="FAIL-NOT-COUNTED"><a href="#FAIL-NOT-COUNTED" class="headerlink" title="FAIL_NOT_COUNTED"></a>FAIL_NOT_COUNTED</h2><p><a href="#Fail">Fail</a> not counted. <a href="#Fail">Fail</a> result will not be counted.</p>
<h2 id="ERROR-NOT-COUNTED"><a href="#ERROR-NOT-COUNTED" class="headerlink" title="ERROR_NOT_COUNTED"></a>ERROR_NOT_COUNTED</h2><p><a href="#Error">Error</a> not counted. <a href="#Error">Error</a> result will not be counted.</p>
<h2 id="NULL-NOT-COUNTED"><a href="#NULL-NOT-COUNTED" class="headerlink" title="NULL_NOT_COUNTED"></a>NULL_NOT_COUNTED</h2><p><a href="#Null">Null</a> not counted. <a href="#Null">Null</a> result will not be counted.</p>
<h2 id="PAUSE-BEFORE"><a href="#PAUSE-BEFORE" class="headerlink" title="PAUSE_BEFORE"></a>PAUSE_BEFORE</h2><p>Pause before test execution.</p>
<h2 id="PAUSE"><a href="#PAUSE" class="headerlink" title="PAUSE"></a>PAUSE</h2><p>Pause before test execution short form. See <a href="#PAUSE_BEFORE">PAUSE_BEFORE</a>.</p>
<h2 id="PAUSE-AFTER"><a href="#PAUSE-AFTER" class="headerlink" title="PAUSE_AFTER"></a>PAUSE_AFTER</h2><p>Pause after test execution.</p>
<h2 id="PAUSE-ON-PASS"><a href="#PAUSE-ON-PASS" class="headerlink" title="PAUSE_ON_PASS"></a>PAUSE_ON_PASS</h2><p>Pause after test execution on passing result.</p>
<h2 id="PAUSE-ON-FAIL"><a href="#PAUSE-ON-FAIL" class="headerlink" title="PAUSE_ON_FAIL"></a>PAUSE_ON_FAIL</h2><p>Pause after test execution on failing result.</p>
<h2 id="REPORT"><a href="#REPORT" class="headerlink" title="REPORT"></a>REPORT</h2><p>Report flag. Mark test to be included for reporting.</p>
<h2 id="DOCUMENT"><a href="#DOCUMENT" class="headerlink" title="DOCUMENT"></a>DOCUMENT</h2><p>Document flag. Mark test to be included in the documentation.</p>
<h2 id="MANDATORY"><a href="#MANDATORY" class="headerlink" title="MANDATORY"></a>MANDATORY</h2><p>Mandatory flag. Mark test as mandatory such that it can’t be skipped.</p>
<h2 id="ASYNC"><a href="#ASYNC" class="headerlink" title="ASYNC"></a>ASYNC</h2><p>Asynchronous test flag. This flag is set for all asynchronous tests.</p>
<h2 id="PARALLEL"><a href="#PARALLEL" class="headerlink" title="PARALLEL"></a>PARALLEL</h2><p>Parallel test flag. This flag is set if test is running in parallel.</p>
<h2 id="MANUAL"><a href="#MANUAL" class="headerlink" title="MANUAL"></a>MANUAL</h2><p>Manual test flag. This flag indicates that test is manual.</p>
<h2 id="AUTO"><a href="#AUTO" class="headerlink" title="AUTO"></a>AUTO</h2><p>Automated test flag. This flag indicates that the test is automated
when parent test has <a href="#MANUAL">MANUAL</a> flag set.</p>
<h2 id="LAST-RETRY"><a href="#LAST-RETRY" class="headerlink" title="LAST_RETRY"></a>LAST_RETRY</h2><p>Last retry flag. This flag is auto-set for the last retry iteration.</p>
<h1 id="Controlling-Output"><a href="#Controlling-Output" class="headerlink" title="Controlling Output"></a>Controlling Output</h1><p>Test output can be controlled with <code>-o</code> or <a href="#%E2%80%93output">–output</a> option which specifies the output format to use
to print to <code>stdout</code>. By default, the most detailed <code>nice</code> output is used.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-o format, --output format                      stdout output format, choices are: [<span class="string">&#x27;new-fails&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;fails&#x27;</span>, <span class="string">&#x27;classic&#x27;</span>, <span class="string">&#x27;slick&#x27;</span>, <span class="string">&#x27;nice&#x27;</span>, <span class="string">&#x27;brisk&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;quiet&#x27;</span>, <span class="string">&#x27;short&#x27;</span>, <span class="string">&#x27;manual&#x27;</span>, <span class="string">&#x27;dots&#x27;</span>, <span class="string">&#x27;progress&#x27;</span>,</span><br><span class="line">                                                <span class="string">&#x27;raw&#x27;</span>], default: <span class="string">&#x27;nice&#x27;</span></span><br></pre></td></tr></table></figure>

<p>For example, you can use the following test and see how output format
changes based on the output that is specified.</p>
<blockquote>
<p><code>test.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Module(<span class="string">&quot;regression&quot;</span>, flags=TE, attributes=[(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;value&quot;</span>)], tags=(<span class="string">&quot;tag1&quot;</span>, <span class="string">&quot;tag2&quot;</span>)):</span><br><span class="line">   <span class="keyword">with</span> Scenario(<span class="string">&quot;my test&quot;</span>, description=<span class="string">&quot;Test description.&quot;</span>):</span><br><span class="line">       <span class="keyword">with</span> When(<span class="string">&quot;I do something&quot;</span>):</span><br><span class="line">           note(<span class="string">&quot;do something&quot;</span>)</span><br><span class="line">       <span class="keyword">with</span> Then(<span class="string">&quot;I check the result&quot;</span>):</span><br><span class="line">           note(<span class="string">&quot;check the result&quot;</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="nice-Output"><a href="#nice-Output" class="headerlink" title="nice Output"></a><code>nice</code> Output</h2><p>The <a href="#nice-Output"><code>nice</code></a> output format is the default output format and provides the most
details when developing and debugging tests. This output format includes all test types,
their attributes and results as well as any messages that are associated with them.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is the most useful for developing and 
debugging an individual test.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<p>For example,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --output nice</span><br><span class="line"> Sep 25,2021 9:29:39   ⟥  Module regression, flags:TE</span><br><span class="line">                            Attributes</span><br><span class="line">                              name</span><br><span class="line">                                value</span><br><span class="line">                            Tags</span><br><span class="line">                              tag1</span><br><span class="line">                              tag2</span><br><span class="line"> Sep 25,2021 9:29:39     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                              Test description.</span><br><span class="line"> Sep 25,2021 9:29:39       ⟥  When I <span class="keyword">do</span> something</span><br><span class="line">               508us       ⟥    [note] <span class="keyword">do</span> something</span><br><span class="line">               715us       ⟥⟤ OK I <span class="keyword">do</span> something, /regression/my <span class="built_in">test</span>/I <span class="keyword">do</span> something</span><br><span class="line"> Sep 25,2021 9:29:39       ⟥  Then I check the result</span><br><span class="line">               471us       ⟥    [note] check the result</span><br><span class="line">               704us       ⟥⟤ OK I check the result, /regression/my <span class="built_in">test</span>/I check the result</span><br><span class="line">                 2ms     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                12ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<p>produces the same output as when <a href="#%E2%80%93output">–output</a> is omitted.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py</span><br></pre></td></tr></table></figure>

<h2 id="brisk-Output"><a href="#brisk-Output" class="headerlink" title="brisk Output"></a><code>brisk</code> Output</h2><p>The <a href="#brisk-Output"><code>brisk</code></a> output format is very similar to <a href="#nice-Output"><code>nice</code></a> output format but
omits all steps (tests that have <a href="#Types">Step Type</a>). This format is useful when
you would like to focus on actions of the test such as commands executed
on the system under test rather than on the test procedure itself.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is useful for 
debugging individual test when you would like to omit test steps.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ python3 output.py -o brisk</span><br><span class="line">Sep 25,2021 12:05:25   ⟥  Module regression, flags:TE</span><br><span class="line">                            Attributes</span><br><span class="line">                              name</span><br><span class="line">                                value</span><br><span class="line">                            Tags</span><br><span class="line">                              tag2</span><br><span class="line">                              tag1</span><br><span class="line">Sep 25,2021 12:05:25     ⟥  Scenario my <span class="built_in">test</span></span><br><span class="line">                              Test description.</span><br><span class="line">               479us     ⟥    [note] <span class="keyword">do</span> something</span><br><span class="line">               719us     ⟥    [note] check the result</span><br><span class="line">                 2ms     ⟥⟤ OK my <span class="built_in">test</span>, /regression/my <span class="built_in">test</span></span><br><span class="line">                12ms   ⟥⟤ OK regression, /regression</span><br></pre></td></tr></table></figure>

<h2 id="short-Output"><a href="#short-Output" class="headerlink" title="short Output"></a><code>short</code> Output</h2><p>The <a href="#short-Output"><code>short</code></a> output format provides a shorter output than <a href="#nice-Output"><code>nice</code></a> output format
as only test and result messages are formatted. </p>
<blockquote>
<p><strong>&#9995;</strong> This output format is very useful to highlight and verify test procedure.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o short</span><br><span class="line">Module regression</span><br><span class="line">  Attributes</span><br><span class="line">    name</span><br><span class="line">      value</span><br><span class="line">  Tags</span><br><span class="line">    tag1</span><br><span class="line">    tag2</span><br><span class="line">  Scenario my <span class="built_in">test</span></span><br><span class="line">    Test description.</span><br><span class="line">    When I <span class="keyword">do</span> something</span><br><span class="line">    OK</span><br><span class="line">    Then I check the result</span><br><span class="line">    OK</span><br><span class="line">  OK</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<h2 id="classic-Output"><a href="#classic-Output" class="headerlink" title="classic Output"></a><code>classic</code> Output</h2><p>The <a href="#classic-Output"><code>classic</code></a> output format shows only full test names for
test and result messages for any test that has <a href="#Types">Test Type</a> of higher.
Tests that have <a href="#Types">Step Type</a> are not showed.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI/CD runs as long as
number of tests is not too large.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o classic</span><br><span class="line">➤ Sep 25,2021 11:14:15 /regression</span><br><span class="line">➤ Sep 25,2021 11:14:15 /regression/my <span class="built_in">test</span></span><br><span class="line">✔ 2ms       [   OK   ] /regression/my <span class="built_in">test</span></span><br><span class="line">✔ 12ms      [   OK   ] /regression</span><br></pre></td></tr></table></figure>

<h2 id="progress-Output"><a href="#progress-Output" class="headerlink" title="progress Output"></a><code>progress</code> Output</h2><p>The <a href="#progress-Output"><code>progress</code></a> output format shows the progress of the test run. 
The output is always printed on one line on progress updates and is useful
when running tests locally.</p>
<p>Any test fails are printed inline as soon as they occur.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format should not be used for CI/CD runs
as it outputs terminal control codes to update the same line.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o progress</span><br><span class="line">Executing 2 tests /regression/my <span class="built_in">test</span>/I <span class="keyword">do</span> something</span><br></pre></td></tr></table></figure>

<h2 id="fails-Output"><a href="#fails-Output" class="headerlink" title="fails Output"></a><code>fails</code> Output</h2><p>The <a href="#fails-Output"><code>fails</code></a> output format only shows failing results <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>
and crossed out results <a href="#XFail">XFail</a>, <a href="#XError">XError</a>, <a href="#XNull">XNull</a>, <a href="#XOK">XOK</a>. </p>
<p>Failing results are only shown for tests with <a href="#Types">Test Type</a> of higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI/CD runs
as long as the number of cross out results is not too large otherwise
use <a href="#new-fails-Output"><code>new-fails</code></a> output format instead.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o fails</span><br><span class="line">✘ 3ms       [ XFail  ] /regression/my <span class="built_in">test</span></span><br><span class="line">    expected fail</span><br></pre></td></tr></table></figure>

<h2 id="new-fails-Output"><a href="#new-fails-Output" class="headerlink" title="new-fails Output"></a><code>new-fails</code> Output</h2><p>The <a href="#new-fails-Output"><code>new-fails</code></a> output format only shows failing results <a href="#Fail">Fail</a>, <a href="#Error">Error</a>, and <a href="#Null">Null</a>.
Crossed out results are not shown.</p>
<p>Failing results are only shown for tests with <a href="#Types">Test Type</a> of higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI/CD runs.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o new-fails</span><br><span class="line">✘ 3ms       [  Fail  ] /regression/my <span class="built_in">test</span></span><br><span class="line">    AssertionError</span><br><span class="line">    Traceback (most recent call last):</span><br><span class="line">      File <span class="string">&quot;output.py&quot;</span>, line 8, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">        assert False</span><br><span class="line">    AssertionError</span><br></pre></td></tr></table></figure>

<h2 id="slick-Output"><a href="#slick-Output" class="headerlink" title="slick Output"></a><code>slick</code> Output</h2><p>The <a href="#slick-Output"><code>slick</code></a> output format provides even shorter output than <a href="#short-Output"><code>short</code></a> output format
as only shows test and result messages for any test that has <a href="#Types">Test Type</a> of higher.
Tests that have <a href="#Types">Step Type</a> are not showed.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is more of an eye-candy.
This output format is not useful when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --output slick</span><br><span class="line">➤ Module regression</span><br><span class="line">  ✔ Scenario my <span class="built_in">test</span></span><br><span class="line">✔ Module regression</span><br></pre></td></tr></table></figure>

<h2 id="quiet-Output"><a href="#quiet-Output" class="headerlink" title="quiet Output"></a><code>quiet</code> Output</h2><p>The <a href="#quiet-Output"><code>quiet</code></a> output format does not output anything to stdout.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format can be used for CI/CD runs.
This output format can be used when tests are executed in parallel.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o quiet</span><br></pre></td></tr></table></figure>

<h2 id="manual-Output"><a href="#manual-Output" class="headerlink" title="manual Output"></a><code>manual</code> Output</h2><p>The <a href="#manual-Output"><code>manual</code></a> output format is only suitable for running manual or semi-automated
tests where tester is constantly prompted for input. The terminal screen is always cleared
before starting any test with <a href="#Types">Test Type</a> or higher.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is only useful for manual or semi-automated tests.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python3 test.py -o manual</span><br><span class="line">────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">SCENARIO my <span class="built_in">test</span></span><br><span class="line">Test description.</span><br><span class="line">────────────────────────────────────────────────────────────────────────────────</span><br><span class="line">□ When I <span class="keyword">do</span> something</span><br><span class="line">[note] <span class="keyword">do</span> something</span><br><span class="line">✍  Enter `I <span class="keyword">do</span> something` result? </span><br></pre></td></tr></table></figure>

<h2 id="raw-Output"><a href="#raw-Output" class="headerlink" title="raw Output"></a><code>raw</code> Output</h2><p>The <a href="#raw-Output"><code>raw</code></a> output format outputs raw messages.</p>
<blockquote>
<p><strong>&#9995;</strong> This output format is only useful for <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong>
developers and curious users that want to understand what raw messages look like.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o raw</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;PROTOCOL&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;1336ea41&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:0,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:1,<span class="string">&quot;message_time&quot;</span>:1632584893.162271,<span class="string">&quot;message_rtime&quot;</span>:0.009011,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/fd823a2c-1e17-11ec-8830-cb614fe11752&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/regression&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:1,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1,<span class="string">&quot;protocol_version&quot;</span>:<span class="string">&quot;TFSPv2.1&quot;</span>&#125;</span><br><span class="line">...</span><br><span class="line">&#123;<span class="string">&quot;message_keyword&quot;</span>:<span class="string">&quot;STOP&quot;</span>,<span class="string">&quot;message_hash&quot;</span>:<span class="string">&quot;6956b3c5&quot;</span>,<span class="string">&quot;message_object&quot;</span>:0,<span class="string">&quot;message_num&quot;</span>:7,<span class="string">&quot;message_stream&quot;</span>:null,<span class="string">&quot;message_level&quot;</span>:2,<span class="string">&quot;message_time&quot;</span>:1632584893.167364,<span class="string">&quot;message_rtime&quot;</span>:0.014104,<span class="string">&quot;test_type&quot;</span>:<span class="string">&quot;Module&quot;</span>,<span class="string">&quot;test_subtype&quot;</span>:null,<span class="string">&quot;test_id&quot;</span>:<span class="string">&quot;/fd823a2c-1e17-11ec-8830-cb614fe11752&quot;</span>,<span class="string">&quot;test_name&quot;</span>:<span class="string">&quot;/regression&quot;</span>,<span class="string">&quot;test_flags&quot;</span>:1,<span class="string">&quot;test_cflags&quot;</span>:0,<span class="string">&quot;test_level&quot;</span>:1&#125;</span><br></pre></td></tr></table></figure>

<p>Advanced users can use this format to apply custom message transformations. </p>
<p>For example, it can be transformed using <code>tfs transform nice</code> command into <a href="#nice-Output"><code>nice</code></a>
format</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py -o raw | tfs transfrom nice</span><br></pre></td></tr></table></figure>

<p>or combined with other unix tools such as <code>grep</code> with further message transformations.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 output.py -o raw | grep <span class="string">&#x27;&#123;&quot;message_keyword&quot;:&quot;RESULT&quot;,&#x27;</span> | tfs transform nice</span><br></pre></td></tr></table></figure>

<h2 id="Summary-Reports"><a href="#Summary-Reports" class="headerlink" title="Summary Reports"></a>Summary Reports</h2><p>Most output formats include one or more summary reports.
These reports are printed after all tests have been executed.</p>
<blockquote>
<p><strong>&#9995;</strong> Most summary reports only include tests that have <a href="#Types">Test Type</a> or higher.
Tests with <a href="#Types">Step Type</a> are not included.</p>
</blockquote>
<h3 id="Passing"><a href="#Passing" class="headerlink" title="Passing"></a>Passing</h3><p>This report generates <code>Passing</code> section and show passing tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Passing</span><br><span class="line"></span><br><span class="line">✔ [ OK ] /regression/my <span class="built_in">test</span></span><br><span class="line">✔ [ OK ] /regression</span><br></pre></td></tr></table></figure>

<h3 id="Failing"><a href="#Failing" class="headerlink" title="Failing"></a>Failing</h3><p>This report generates <code>Failing</code> section and show failing tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Failing</span><br><span class="line"></span><br><span class="line">✘ [ Fail ] /regression/my <span class="built_in">test</span></span><br><span class="line">✘ [ Fail ] /regression</span><br></pre></td></tr></table></figure>

<h3 id="Known"><a href="#Known" class="headerlink" title="Known"></a>Known</h3><p>This report generates <code>Known</code> section.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Known</span><br><span class="line"></span><br><span class="line">✘ [ XFail ] /regression/my <span class="built_in">test</span> ᐅ expected fail</span><br></pre></td></tr></table></figure>

<h3 id="Unstable"><a href="#Unstable" class="headerlink" title="Unstable"></a>Unstable</h3><p>This report generates <code>Unstable</code> section. Tests are considered to be unstable
if they are repeated and different iterations have different results.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Unstable</span><br><span class="line"></span><br><span class="line">◔ [ 50.00% ] /regression/my <span class="built_in">test</span> (1 ok, 1 failed)</span><br></pre></td></tr></table></figure>

<h3 id="Coverage"><a href="#Coverage" class="headerlink" title="Coverage"></a>Coverage</h3><p>This reports generates <code>Coverage</code> section. It is only generated if
at least one <code>Specification</code> is attached to any of the tests and shows
requirements coverage statistics for each <code>Specification</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Coverage</span><br><span class="line"></span><br><span class="line">QA-SRS004 Tiered Storage</span><br><span class="line">  86 requirements (72 satisfied 83.7%, 4 unsatisfied 4.7%, 10 untested 11.6%)</span><br></pre></td></tr></table></figure>

<h3 id="Totals"><a href="#Totals" class="headerlink" title="Totals"></a>Totals</h3><p>This report generates test counts and total test time section.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 module (1 ok)</span><br><span class="line">1 scenario (1 ok)</span><br><span class="line">2 steps (2 ok)</span><br><span class="line"></span><br><span class="line">Total time 12ms</span><br></pre></td></tr></table></figure>

<h3 id="Version"><a href="#Version" class="headerlink" title="Version"></a>Version</h3><p>This report generate a message that shows date time of test run 
and version of the framework that was used to run the test program.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Executed on Sep 25,2021 12:05</span><br><span class="line">TestFlows.com Open-Source Software Testing Framework v1.7.210922.1181131</span><br></pre></td></tr></table></figure>

<h1 id="Turning-Off-Color-Highlighting"><a href="#Turning-Off-Color-Highlighting" class="headerlink" title="Turning Off Color Highlighting"></a>Turning Off Color Highlighting</h1><p>There are times when color highlighting might be in the way. For example,
when piping output to a different utility or saving it into the file.
In both of these cases use <a href="#%E2%80%93no-colors">–no-colors</a> to tell <strong><span><img style="display: inline; vertical-align: bottom; height: 2em;" src="/img/logo.png"></span></strong> 
to turn off adding terminal control color codes.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --no-colors &gt; nice.log</span><br></pre></td></tr></table></figure>

<p>or </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --no-colors | less </span><br></pre></td></tr></table></figure>

<p>The same option can be specified for the <code>tfs</code> utility.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat test.log | tfs --no-colors show messages</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tail -f test.log | tfs --no-colors transform nice | less</span><br></pre></td></tr></table></figure>

<h2 id="Use-no-colors-in-Code"><a href="#Use-no-colors-in-Code" class="headerlink" title="Use --no-colors in Code"></a>Use <code>--no-colors</code> in Code</h2><p>You can also detect if terminal color codes are turned off in code
by looking at <code>settings.no_colors</code> attribute as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> testflows.settings <span class="keyword">as</span> settings</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">if</span> settings.no_colors:</span><br><span class="line">        debug(<span class="string">&quot;do something when terminal colors are turned off&quot;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="Enabling-Debug-Mode"><a href="#Enabling-Debug-Mode" class="headerlink" title="Enabling Debug Mode"></a>Enabling Debug Mode</h1><p>You can enable debug mode by specifying <a href="#%E2%80%93debug">–debug</a> option to your test program.
When debug mode is enabled the tracebacks will include more details such as
internal function calls inside the framework which are hidden by default to reduce
clutter.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 test.py --debug</span><br></pre></td></tr></table></figure>

<h2 id="Use-debug-in-Code"><a href="#Use-debug-in-Code" class="headerlink" title="Use --debug in Code"></a>Use <code>--debug</code> in Code</h2><p>You can also trigger actions in your test code based on if <a href="#%E2%80%93debug">–debug</a> option 
was specified or not. When <a href="#%E2%80%93debug">–debug</a> option is specified the value
can be retrieved from <code>settings.debug</code> as follows</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> testflows.settings <span class="keyword">as</span> settings</span><br><span class="line"><span class="keyword">from</span> testflows.core <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Test(<span class="string">&quot;my test&quot;</span>):</span><br><span class="line">    <span class="keyword">if</span> settings.debug:</span><br><span class="line">        debug(<span class="string">&quot;do something in debug mode&quot;</span>)</span><br></pre></td></tr></table></figure>


                    <div class="col-12 divider"></div>
                    <div class="switch-page text-center">
                        
                        
                    </div>
                </div>
                <a class="jump fas fa-chevron-up" onclick="window.scrollTo(0, 500)"></a>
            </div>
        </div>
    </div>
</div>
<script>
window.addEventListener("load", function(){
    // add support to go back to TOC by clicking any header
    document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(element){
        element.addEventListener("click", function(event){
            element_id = element.getAttribute("id");
            toc_element = document.querySelector(".toc .toc-item .toc-link[href=\"#" + encodeURI(element_id) + "\"]");
            toc_element.scrollIntoView({block: 'start'})
            window.scrollBy(0, -200);
            toc_element.classList.add("active");
            // remove active class after timeout
            setTimeout(function(){
                toc_element.classList.remove("active");
            }, 1000);
        }, true);
    });
});
</script>

    </div>
  </div>
  <div class="container-footer">
    <footer> <div class="row no-gutters">
    <div class="col-12 text-center">
        <div class="links">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://pypi.org/project/testflows/">
                        <span class="fab fa-2x fa-python"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://twitter.com/TestFlowsTF">
                        <span class="fab fa-2x fa-twitter"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://t.me/testflows">
                        <span class="fab fa-2x fa-telegram-plane"></span>
                    </a>
                </button>
                <button type="button" class="btn btn-secondary">
                    <a target="_blank" rel="noopener" href="https://github.com/testflows">
                        <span class="fab fa-2x fa-github"></span>
                    </a>
                </button>
            </div>
        </div>
    </div>
    <div class="col-12 text-center">
        <img src="/img/favicon-square.png"</img>
    </div>
    <div class="col-12 text-center">
        Copyright 2020 Katteli Inc.
    </div>
    <div class="col-12 text-center">
        <span class="text-nowrap">All rights reserved.</span>
    </div>
    <div class="col-12 text-center no-padding links">
        <a class="btn" href="/credits.html">Credits</a>
    </div>
</div>
 </footer>
  </div>
  <script src="/js/jquery-3.4.1.slim.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap/bootstrap.min.js"></script>
<script>
var isInViewport = function (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};
var banner = document.querySelector('.banner');
window.addEventListener('scroll', function (event) {
	if (isInViewport(banner)) {
    	banner.classList.remove("not-in-view");
	} else {
	    banner.classList.add("not-in-view");
	}
}, false);
</script>

</body>
</html>


